{"ast":null,"code":"var _jsxFileName = \"/Users/ibrahimfarajzade/Downloads/GOSH-FHIRworks2020-React-Dashboard-master/src/components/PatientsListDisplay.js\";\nimport React from \"react\";\nimport PatientCard from \"./PatientCard\";\nimport PatientTable from \"./UserTable\";\nimport ObservationDrawer from \"./ObservationDrawer\";\nimport { Layout, Pagination, Row, Col, Result } from \"antd\";\nimport { GlobalContext } from \"../components/GlobalContext\";\nconst {\n  Content\n} = Layout;\n\nclass PatientsListDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.viewPatientDrawer = patient => {\n      this.setState({\n        showDrawer: true,\n        currentSelectedPatient: patient\n      });\n    };\n\n    this.state = {\n      patientsDummy: [null, null, null, null, null, null, null, null, null],\n      page: props.page ? props.page : 0,\n      itemPerPage: 9,\n      showDrawer: false,\n      currentSelectedPatient: null\n    };\n  }\n\n  render() {\n    let patients = this.props.patients ? this.props.patients : this.state.patientsDummy;\n    let layout;\n\n    if (this.context.viewInCard) {\n      let startIdx = this.state.page * this.state.itemPerPage;\n      let pagination = React.createElement(Pagination, {\n        style: {\n          textAlign: \"center\"\n        },\n        disabled: this.props.loading,\n        defaultCurrent: 1,\n        defaultPageSize: this.state.itemPerPage,\n        current: this.state.page + 1,\n        total: patients && patients.length > 1 ? patients.length : 0,\n        onChange: page => {\n          this.setState({\n            page: page - 1\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n      let keyCounter = 0; // -------------------- card view\n\n      let cardListItems = patients.slice(startIdx, startIdx + this.state.itemPerPage).map(patient => React.createElement(Col, {\n        xs: 23,\n        sm: 23,\n        md: 12,\n        lg: 8,\n        style: {\n          padding: \"10px\"\n        },\n        key: keyCounter++,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(PatientCard, {\n        patientData: patient && patient.resource,\n        loading: this.props.loading,\n        viewPatient: () => {\n          this.viewPatientDrawer(patient);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })));\n      const cardLayout = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Content, {\n        style: {\n          margin: \"0px 16px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, cardListItems)), pagination);\n      layout = cardLayout;\n    } else {\n      // ---------------------------- Table view\n      const tableLayout = React.createElement(PatientTable, {\n        loading: this.props.loading,\n        patientData: patients,\n        viewPatient: patient => {\n          console.log(patient);\n          this.viewPatientDrawer(patient);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n      layout = tableLayout;\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, patients.length > 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, layout, React.createElement(ObservationDrawer, {\n      patient: this.state.currentSelectedPatient,\n      visible: this.state.showDrawer,\n      onClose: () => {\n        this.setState({\n          currentSelectedPatient: null,\n          showDrawer: false\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })) : React.createElement(Result, {\n      title: \"No search result to display\",\n      subTitle: \"You can try a different keyword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n\n}\n\nPatientsListDisplay.contextType = GlobalContext;\nexport default PatientsListDisplay;","map":{"version":3,"sources":["/Users/ibrahimfarajzade/Downloads/GOSH-FHIRworks2020-React-Dashboard-master/src/components/PatientsListDisplay.js"],"names":["React","PatientCard","PatientTable","ObservationDrawer","Layout","Pagination","Row","Col","Result","GlobalContext","Content","PatientsListDisplay","Component","constructor","props","viewPatientDrawer","patient","setState","showDrawer","currentSelectedPatient","state","patientsDummy","page","itemPerPage","render","patients","layout","context","viewInCard","startIdx","pagination","textAlign","loading","length","keyCounter","cardListItems","slice","map","padding","resource","cardLayout","margin","tableLayout","console","log","contextType"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PatientCard from \"./PatientCard\";\nimport PatientTable from \"./UserTable\";\nimport ObservationDrawer from \"./ObservationDrawer\";\nimport { Layout, Pagination, Row, Col, Result } from \"antd\";\nimport { GlobalContext } from \"../components/GlobalContext\";\n\nconst { Content } = Layout;\n\nclass PatientsListDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      patientsDummy: [null, null, null, null, null, null, null, null, null],\n      page: props.page ? props.page : 0,\n      itemPerPage: 9,\n      showDrawer: false,\n      currentSelectedPatient: null\n    };\n  }\n\n  static contextType = GlobalContext;\n\n  viewPatientDrawer = patient => {\n    this.setState({\n      showDrawer: true,\n      currentSelectedPatient: patient\n    });\n  };\n\n  render() {\n    let patients = this.props.patients ? this.props.patients : this.state.patientsDummy;\n\n    let layout;\n\n    if (this.context.viewInCard) {\n      let startIdx = this.state.page * this.state.itemPerPage;\n\n      let pagination = (\n        <Pagination\n          style={{ textAlign: \"center\" }}\n          disabled={this.props.loading}\n          defaultCurrent={1}\n          defaultPageSize={this.state.itemPerPage}\n          current={this.state.page + 1}\n          total={patients && patients.length > 1 ? patients.length : 0}\n          onChange={page => {\n            this.setState({\n              page: page - 1\n            });\n          }}\n        />\n      );\n\n      let keyCounter = 0;\n\n      // -------------------- card view\n      let cardListItems = patients\n        .slice(startIdx, startIdx + this.state.itemPerPage)\n        .map(patient => (\n          <Col xs={23} sm={23} md={12} lg={8} style={{ padding: \"10px\" }} key={keyCounter++}>\n            <PatientCard\n              patientData={patient && patient.resource}\n              loading={this.props.loading}\n              viewPatient={() => {\n                this.viewPatientDrawer(patient);\n              }}\n            ></PatientCard>\n          </Col>\n        ));\n\n      const cardLayout = (\n        <div>\n          <Content\n            style={{\n              margin: \"0px 16px\"\n            }}\n          >\n            <Row>{cardListItems}</Row>\n          </Content>\n          {pagination}\n        </div>\n      );\n      layout = cardLayout;\n    } else {\n      // ---------------------------- Table view\n      const tableLayout = (\n        <PatientTable\n          loading={this.props.loading}\n          patientData={patients}\n          viewPatient={patient => {\n            console.log(patient);\n            this.viewPatientDrawer(patient);\n          }}\n        ></PatientTable>\n      );\n      layout = tableLayout;\n    }\n    return (\n      <div>\n        {patients.length > 0 ? (\n          <div>\n            {layout}\n\n            <ObservationDrawer\n              patient={this.state.currentSelectedPatient}\n              visible={this.state.showDrawer}\n              onClose={() => {\n                this.setState({\n                  currentSelectedPatient: null,\n                  showDrawer: false\n                });\n              }}\n            ></ObservationDrawer>\n          </div>\n        ) : (\n          <Result title=\"No search result to display\" subTitle=\"You can try a different keyword\" />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default PatientsListDisplay;\n"]},"metadata":{},"sourceType":"module"}