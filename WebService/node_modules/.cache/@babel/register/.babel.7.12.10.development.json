{
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\app.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\app.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\app.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _server = _interopRequireDefault(require(\"./server.js\"));\n\nvar _commander = require(\"commander\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Program details\n_commander.program.option('-m, --migrate', 'migrate database').option('-s, --seed', 'insert seed data into database').option('-p, --port <port>', 'api port (default: 5000)').option('-e, --env <env>', 'environment for database (dev, test)');\n\n_commander.program.parse(process.argv); //System working environment\n\n\nprocess.env.NODE_ENV = _commander.program.env || 'dev';\nconsole.info(`SET ENV : ${process.env.NODE_ENV}`);\n\nif (_commander.program.port) {\n  console.info(`SET PORT : ${_commander.program.port}`);\n} // Creation of table\n\n\nif (_commander.program.migrate) {\n  const db = require('./db/');\n\n  db.migrate.rollback().then(() => {\n    db.migrate.latest().then(() => {\n      console.info('Migration Completed');\n\n      if (_commander.program.seed) {\n        db.seed.run().then(() => {\n          console.info('Seed Completed');\n        }).catch(console.error);\n      }\n    });\n  });\n} else {\n  _server.default.connect(_commander.program.port);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9ncmFtIiwib3B0aW9uIiwicGFyc2UiLCJwcm9jZXNzIiwiYXJndiIsImVudiIsIk5PREVfRU5WIiwiY29uc29sZSIsImluZm8iLCJwb3J0IiwibWlncmF0ZSIsImRiIiwicmVxdWlyZSIsInJvbGxiYWNrIiwidGhlbiIsImxhdGVzdCIsInNlZWQiLCJydW4iLCJjYXRjaCIsImVycm9yIiwic2VydmVyIiwiY29ubmVjdCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7OztBQUVBO0FBQ0FBLG1CQUNLQyxNQURMLENBQ1ksZUFEWixFQUM2QixrQkFEN0IsRUFFS0EsTUFGTCxDQUVZLFlBRlosRUFFMEIsZ0NBRjFCLEVBR0tBLE1BSEwsQ0FHWSxtQkFIWixFQUdpQywwQkFIakMsRUFJS0EsTUFKTCxDQUlZLGlCQUpaLEVBSStCLHNDQUovQjs7QUFNQUQsbUJBQVFFLEtBQVIsQ0FBY0MsT0FBTyxDQUFDQyxJQUF0QixFLENBR0E7OztBQUNBRCxPQUFPLENBQUNFLEdBQVIsQ0FBWUMsUUFBWixHQUF1Qk4sbUJBQVFLLEdBQVIsSUFBZSxLQUF0QztBQUVBRSxPQUFPLENBQUNDLElBQVIsQ0FBYyxhQUFZTCxPQUFPLENBQUNFLEdBQVIsQ0FBWUMsUUFBUyxFQUEvQzs7QUFDQSxJQUFJTixtQkFBUVMsSUFBWixFQUFrQjtBQUNkRixFQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYyxjQUFhUixtQkFBUVMsSUFBSyxFQUF4QztBQUNILEMsQ0FDRDs7O0FBQ0EsSUFBSVQsbUJBQVFVLE9BQVosRUFBcUI7QUFDakIsUUFBTUMsRUFBRSxHQUFHQyxPQUFPLENBQUMsT0FBRCxDQUFsQjs7QUFDQUQsRUFBQUEsRUFBRSxDQUFDRCxPQUFILENBQVdHLFFBQVgsR0FBc0JDLElBQXRCLENBQTJCLE1BQU07QUFDN0JILElBQUFBLEVBQUUsQ0FBQ0QsT0FBSCxDQUFXSyxNQUFYLEdBQW9CRCxJQUFwQixDQUF5QixNQUFNO0FBQzNCUCxNQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYSxxQkFBYjs7QUFDQSxVQUFJUixtQkFBUWdCLElBQVosRUFBa0I7QUFDZEwsUUFBQUEsRUFBRSxDQUFDSyxJQUFILENBQ0tDLEdBREwsR0FFS0gsSUFGTCxDQUVVLE1BQU07QUFDUlAsVUFBQUEsT0FBTyxDQUFDQyxJQUFSLENBQWEsZ0JBQWI7QUFDSCxTQUpMLEVBS0tVLEtBTEwsQ0FLV1gsT0FBTyxDQUFDWSxLQUxuQjtBQU1IO0FBQ0osS0FWRDtBQVdILEdBWkQ7QUFhSCxDQWZELE1BZU87QUFDSEMsa0JBQU9DLE9BQVAsQ0FBZXJCLG1CQUFRUyxJQUF2QjtBQUNIIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXJ2ZXIgZnJvbSAnLi9zZXJ2ZXIuanMnO1xyXG5pbXBvcnQge3Byb2dyYW19IGZyb20gJ2NvbW1hbmRlcic7XHJcblxyXG4vL1Byb2dyYW0gZGV0YWlsc1xyXG5wcm9ncmFtXHJcbiAgICAub3B0aW9uKCctbSwgLS1taWdyYXRlJywgJ21pZ3JhdGUgZGF0YWJhc2UnKVxyXG4gICAgLm9wdGlvbignLXMsIC0tc2VlZCcsICdpbnNlcnQgc2VlZCBkYXRhIGludG8gZGF0YWJhc2UnKVxyXG4gICAgLm9wdGlvbignLXAsIC0tcG9ydCA8cG9ydD4nLCAnYXBpIHBvcnQgKGRlZmF1bHQ6IDUwMDApJylcclxuICAgIC5vcHRpb24oJy1lLCAtLWVudiA8ZW52PicsICdlbnZpcm9ubWVudCBmb3IgZGF0YWJhc2UgKGRldiwgdGVzdCknKTtcclxuXHJcbnByb2dyYW0ucGFyc2UocHJvY2Vzcy5hcmd2KTtcclxuXHJcblxyXG4vL1N5c3RlbSB3b3JraW5nIGVudmlyb25tZW50XHJcbnByb2Nlc3MuZW52Lk5PREVfRU5WID0gcHJvZ3JhbS5lbnYgfHwgJ2Rldic7XHJcblxyXG5jb25zb2xlLmluZm8oYFNFVCBFTlYgOiAke3Byb2Nlc3MuZW52Lk5PREVfRU5WfWApO1xyXG5pZiAocHJvZ3JhbS5wb3J0KSB7XHJcbiAgICBjb25zb2xlLmluZm8oYFNFVCBQT1JUIDogJHtwcm9ncmFtLnBvcnR9YCk7XHJcbn1cclxuLy8gQ3JlYXRpb24gb2YgdGFibGVcclxuaWYgKHByb2dyYW0ubWlncmF0ZSkge1xyXG4gICAgY29uc3QgZGIgPSByZXF1aXJlKCcuL2RiLycpO1xyXG4gICAgZGIubWlncmF0ZS5yb2xsYmFjaygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGRiLm1pZ3JhdGUubGF0ZXN0KCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnTWlncmF0aW9uIENvbXBsZXRlZCcpO1xyXG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5zZWVkKSB7XHJcbiAgICAgICAgICAgICAgICBkYi5zZWVkXHJcbiAgICAgICAgICAgICAgICAgICAgLnJ1bigpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1NlZWQgQ29tcGxldGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59IGVsc2Uge1xyXG4gICAgc2VydmVyLmNvbm5lY3QocHJvZ3JhbS5wb3J0KTtcclxufVxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "program",
        "option",
        "parse",
        "process",
        "argv",
        "env",
        "NODE_ENV",
        "console",
        "info",
        "port",
        "migrate",
        "db",
        "require",
        "rollback",
        "then",
        "latest",
        "seed",
        "run",
        "catch",
        "error",
        "server",
        "connect"
      ],
      "mappings": ";;AAAA;;AACA;;;;AAEA;AACAA,mBACKC,MADL,CACY,eADZ,EAC6B,kBAD7B,EAEKA,MAFL,CAEY,YAFZ,EAE0B,gCAF1B,EAGKA,MAHL,CAGY,mBAHZ,EAGiC,0BAHjC,EAIKA,MAJL,CAIY,iBAJZ,EAI+B,sCAJ/B;;AAMAD,mBAAQE,KAAR,CAAcC,OAAO,CAACC,IAAtB,E,CAGA;;;AACAD,OAAO,CAACE,GAAR,CAAYC,QAAZ,GAAuBN,mBAAQK,GAAR,IAAe,KAAtC;AAEAE,OAAO,CAACC,IAAR,CAAc,aAAYL,OAAO,CAACE,GAAR,CAAYC,QAAS,EAA/C;;AACA,IAAIN,mBAAQS,IAAZ,EAAkB;AACdF,EAAAA,OAAO,CAACC,IAAR,CAAc,cAAaR,mBAAQS,IAAK,EAAxC;AACH,C,CACD;;;AACA,IAAIT,mBAAQU,OAAZ,EAAqB;AACjB,QAAMC,EAAE,GAAGC,OAAO,CAAC,OAAD,CAAlB;;AACAD,EAAAA,EAAE,CAACD,OAAH,CAAWG,QAAX,GAAsBC,IAAtB,CAA2B,MAAM;AAC7BH,IAAAA,EAAE,CAACD,OAAH,CAAWK,MAAX,GAAoBD,IAApB,CAAyB,MAAM;AAC3BP,MAAAA,OAAO,CAACC,IAAR,CAAa,qBAAb;;AACA,UAAIR,mBAAQgB,IAAZ,EAAkB;AACdL,QAAAA,EAAE,CAACK,IAAH,CACKC,GADL,GAEKH,IAFL,CAEU,MAAM;AACRP,UAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb;AACH,SAJL,EAKKU,KALL,CAKWX,OAAO,CAACY,KALnB;AAMH;AACJ,KAVD;AAWH,GAZD;AAaH,CAfD,MAeO;AACHC,kBAAOC,OAAP,CAAerB,mBAAQS,IAAvB;AACH",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\",
      "sourcesContent": [
        "import server from './server.js';\r\nimport {program} from 'commander';\r\n\r\n//Program details\r\nprogram\r\n    .option('-m, --migrate', 'migrate database')\r\n    .option('-s, --seed', 'insert seed data into database')\r\n    .option('-p, --port <port>', 'api port (default: 5000)')\r\n    .option('-e, --env <env>', 'environment for database (dev, test)');\r\n\r\nprogram.parse(process.argv);\r\n\r\n\r\n//System working environment\r\nprocess.env.NODE_ENV = program.env || 'dev';\r\n\r\nconsole.info(`SET ENV : ${process.env.NODE_ENV}`);\r\nif (program.port) {\r\n    console.info(`SET PORT : ${program.port}`);\r\n}\r\n// Creation of table\r\nif (program.migrate) {\r\n    const db = require('./db/');\r\n    db.migrate.rollback().then(() => {\r\n        db.migrate.latest().then(() => {\r\n            console.info('Migration Completed');\r\n            if (program.seed) {\r\n                db.seed\r\n                    .run()\r\n                    .then(() => {\r\n                        console.info('Seed Completed');\r\n                    })\r\n                    .catch(console.error);\r\n            }\r\n        });\r\n    });\r\n} else {\r\n    server.connect(program.port);\r\n}\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609252401369
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\server.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\n\nvar _morgan = _interopRequireDefault(require(\"morgan\"));\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _user = _interopRequireDefault(require(\"./routes/user\"));\n\nvar _auth = _interopRequireDefault(require(\"./routes/auth\"));\n\nvar _admin = _interopRequireDefault(require(\"./routes/admin\"));\n\nvar _portal = _interopRequireDefault(require(\"./routes/portal\"));\n\nvar _auth2 = _interopRequireDefault(require(\"./middleware/auth\"));\n\nvar _admin2 = _interopRequireDefault(require(\"./middleware/admin\"));\n\nvar _portal_user = _interopRequireDefault(require(\"./middleware/portal_user\"));\n\nvar _mobile_user = _interopRequireDefault(require(\"./middleware/mobile_user\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// For https support\nconst https = require('https');\n\nconst fs = require('fs');\n\nconst pjson = require('./package.json');\n\nconst app = (0, _express.default)(); //Allow user to access to data to any origin.\n\napp.use((0, _cors.default)()); //Json data parser\n\napp.use(_bodyParser.default.json());\napp.use(_bodyParser.default.urlencoded({\n  extended: true\n}));\napp.use(_bodyParser.default.text());\napp.use(_bodyParser.default.json({\n  type: 'application/json'\n})); //Terminal logs.\n\napp.use((0, _morgan.default)('combined'));\nconst apiPath = '/api/'; // API Routes\n\napp.use('/', _auth.default);\napp.use(apiPath + 'mobile', _auth2.default, _mobile_user.default, _user.default);\napp.use(apiPath + 'portal', _auth2.default, _portal_user.default, _portal.default);\napp.use(apiPath, _auth2.default, _admin2.default, _admin.default);\nconst httpsServer = https.createServer({\n  key: fs.readFileSync('/etc/letsencrypt/live/senior.fastntech.com/privkey.pem'),\n  cert: fs.readFileSync('/etc/letsencrypt/live/senior.fastntech.com/fullchain.pem')\n}, app);\n\nconst connect = port => {\n  port = port || 443;\n  httpsServer.listen(port, () => {\n    console.info('Running on https://senior.fastntech.com:%s', port);\n  });\n};\n\nvar _default = {\n  connect,\n  app\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJodHRwcyIsInJlcXVpcmUiLCJmcyIsInBqc29uIiwiYXBwIiwidXNlIiwiYm9keVBhcnNlciIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJ0ZXh0IiwidHlwZSIsImFwaVBhdGgiLCJhdXRoUm91dGVzIiwiYXV0aE1pZGRsZXdhcmUiLCJtb2JpbGVNaWRkbGV3YXJlIiwidXNlclJvdXRlcyIsInBvcnRhbE1pZGRsZXdhcmUiLCJwb3J0YWxSb3V0ZXMiLCJhZG1pbk1pZGRsZXdhcmUiLCJhZG1pblJvdXRlcyIsImh0dHBzU2VydmVyIiwiY3JlYXRlU2VydmVyIiwia2V5IiwicmVhZEZpbGVTeW5jIiwiY2VydCIsImNvbm5lY3QiLCJwb3J0IiwibGlzdGVuIiwiY29uc29sZSIsImluZm8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQWpCQTtBQUNBLE1BQU1BLEtBQUssR0FBR0MsT0FBTyxDQUFDLE9BQUQsQ0FBckI7O0FBQ0EsTUFBTUMsRUFBRSxHQUFHRCxPQUFPLENBQUMsSUFBRCxDQUFsQjs7QUFpQkEsTUFBTUUsS0FBSyxHQUFHRixPQUFPLENBQUMsZ0JBQUQsQ0FBckI7O0FBRUEsTUFBTUcsR0FBRyxHQUFHLHVCQUFaLEMsQ0FFQTs7QUFDQUEsR0FBRyxDQUFDQyxHQUFKLENBQVEsb0JBQVIsRSxDQUVBOztBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsRUFBUjtBQUNBSCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdFLFVBQVgsQ0FBc0I7QUFBQ0MsRUFBQUEsUUFBUSxFQUFFO0FBQVgsQ0FBdEIsQ0FBUjtBQUNBTCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdJLElBQVgsRUFBUjtBQUNBTixHQUFHLENBQUNDLEdBQUosQ0FBUUMsb0JBQVdDLElBQVgsQ0FBZ0I7QUFBQ0ksRUFBQUEsSUFBSSxFQUFFO0FBQVAsQ0FBaEIsQ0FBUixFLENBRUE7O0FBQ0FQLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLHFCQUFPLFVBQVAsQ0FBUjtBQUVBLE1BQU1PLE9BQU8sR0FBRyxPQUFoQixDLENBRUE7O0FBRUFSLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYVEsYUFBYjtBQUVBVCxHQUFHLENBQUNDLEdBQUosQ0FBUU8sT0FBTyxHQUFFLFFBQWpCLEVBQTJCRSxjQUEzQixFQUEyQ0Msb0JBQTNDLEVBQTZEQyxhQUE3RDtBQUNBWixHQUFHLENBQUNDLEdBQUosQ0FBUU8sT0FBTyxHQUFFLFFBQWpCLEVBQTJCRSxjQUEzQixFQUEyQ0csb0JBQTNDLEVBQTZEQyxlQUE3RDtBQUNBZCxHQUFHLENBQUNDLEdBQUosQ0FBUU8sT0FBUixFQUFpQkUsY0FBakIsRUFBaUNLLGVBQWpDLEVBQWtEQyxjQUFsRDtBQUdBLE1BQU1DLFdBQVcsR0FBR3JCLEtBQUssQ0FBQ3NCLFlBQU4sQ0FBbUI7QUFDckNDLEVBQUFBLEdBQUcsRUFBRXJCLEVBQUUsQ0FBQ3NCLFlBQUgsQ0FBZ0Isd0RBQWhCLENBRGdDO0FBRXJDQyxFQUFBQSxJQUFJLEVBQUV2QixFQUFFLENBQUNzQixZQUFILENBQWdCLDBEQUFoQjtBQUYrQixDQUFuQixFQUdqQnBCLEdBSGlCLENBQXBCOztBQU1BLE1BQU1zQixPQUFPLEdBQUlDLElBQUQsSUFBVTtBQUN0QkEsRUFBQUEsSUFBSSxHQUFHQSxJQUFJLElBQUksR0FBZjtBQUVBTixFQUFBQSxXQUFXLENBQUNPLE1BQVosQ0FBbUJELElBQW5CLEVBQXlCLE1BQU07QUFDM0JFLElBQUFBLE9BQU8sQ0FBQ0MsSUFBUixDQUFhLDRDQUFiLEVBQTJESCxJQUEzRDtBQUNILEdBRkQ7QUFHSCxDQU5EOztlQVFlO0FBQUNELEVBQUFBLE9BQUQ7QUFBVXRCLEVBQUFBO0FBQVYsQyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFwiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGb3IgaHR0cHMgc3VwcG9ydFxyXG5jb25zdCBodHRwcyA9IHJlcXVpcmUoJ2h0dHBzJyk7XHJcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcclxuXHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcclxuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XHJcbi8vIFJvdXRlc1xyXG5pbXBvcnQgdXNlclJvdXRlcyBmcm9tICcuL3JvdXRlcy91c2VyJztcclxuaW1wb3J0IGF1dGhSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvYXV0aCc7XHJcbmltcG9ydCBhZG1pblJvdXRlcyBmcm9tICcuL3JvdXRlcy9hZG1pbic7XHJcbmltcG9ydCBwb3J0YWxSb3V0ZXMgZnJvbSAnLi9yb3V0ZXMvcG9ydGFsJztcclxuLy8gTWlkZGxld2FyZXNcclxuaW1wb3J0IGF1dGhNaWRkbGV3YXJlIGZyb20gJy4vbWlkZGxld2FyZS9hdXRoJztcclxuaW1wb3J0IGFkbWluTWlkZGxld2FyZSBmcm9tICcuL21pZGRsZXdhcmUvYWRtaW4nO1xyXG5pbXBvcnQgcG9ydGFsTWlkZGxld2FyZSBmcm9tICcuL21pZGRsZXdhcmUvcG9ydGFsX3VzZXInO1xyXG5pbXBvcnQgbW9iaWxlTWlkZGxld2FyZSBmcm9tICcuL21pZGRsZXdhcmUvbW9iaWxlX3VzZXInO1xyXG5cclxuY29uc3QgcGpzb24gPSByZXF1aXJlKCcuL3BhY2thZ2UuanNvbicpO1xyXG5cclxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuLy9BbGxvdyB1c2VyIHRvIGFjY2VzcyB0byBkYXRhIHRvIGFueSBvcmlnaW4uXHJcbmFwcC51c2UoY29ycygpKTtcclxuXHJcbi8vSnNvbiBkYXRhIHBhcnNlclxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoe2V4dGVuZGVkOiB0cnVlfSkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudGV4dCgpKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oe3R5cGU6ICdhcHBsaWNhdGlvbi9qc29uJ30pKTtcclxuXHJcbi8vVGVybWluYWwgbG9ncy5cclxuYXBwLnVzZShtb3JnYW4oJ2NvbWJpbmVkJykpO1xyXG5cclxuY29uc3QgYXBpUGF0aCA9ICcvYXBpLyc7IFxyXG5cclxuLy8gQVBJIFJvdXRlc1xyXG5cclxuYXBwLnVzZSgnLycsIGF1dGhSb3V0ZXMpO1xyXG5cclxuYXBwLnVzZShhcGlQYXRoICsnbW9iaWxlJywgYXV0aE1pZGRsZXdhcmUsIG1vYmlsZU1pZGRsZXdhcmUsIHVzZXJSb3V0ZXMpO1xyXG5hcHAudXNlKGFwaVBhdGggKydwb3J0YWwnLCBhdXRoTWlkZGxld2FyZSwgcG9ydGFsTWlkZGxld2FyZSwgcG9ydGFsUm91dGVzKTtcclxuYXBwLnVzZShhcGlQYXRoLCBhdXRoTWlkZGxld2FyZSwgYWRtaW5NaWRkbGV3YXJlLCBhZG1pblJvdXRlcyk7XHJcblxyXG5cclxuY29uc3QgaHR0cHNTZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoe1xyXG4gIGtleTogZnMucmVhZEZpbGVTeW5jKCcvZXRjL2xldHNlbmNyeXB0L2xpdmUvc2VuaW9yLmZhc3RudGVjaC5jb20vcHJpdmtleS5wZW0nKSxcclxuICBjZXJ0OiBmcy5yZWFkRmlsZVN5bmMoJy9ldGMvbGV0c2VuY3J5cHQvbGl2ZS9zZW5pb3IuZmFzdG50ZWNoLmNvbS9mdWxsY2hhaW4ucGVtJyksXHJcbn0sIGFwcCk7XHJcblxyXG5cclxuY29uc3QgY29ubmVjdCA9IChwb3J0KSA9PiB7XHJcbiAgICBwb3J0ID0gcG9ydCB8fCA0NDM7XHJcblxyXG4gICAgaHR0cHNTZXJ2ZXIubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ1J1bm5pbmcgb24gaHR0cHM6Ly9zZW5pb3IuZmFzdG50ZWNoLmNvbTolcycsIHBvcnQpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7Y29ubmVjdCwgYXBwfTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "https",
        "require",
        "fs",
        "pjson",
        "app",
        "use",
        "bodyParser",
        "json",
        "urlencoded",
        "extended",
        "text",
        "type",
        "apiPath",
        "authRoutes",
        "authMiddleware",
        "mobileMiddleware",
        "userRoutes",
        "portalMiddleware",
        "portalRoutes",
        "adminMiddleware",
        "adminRoutes",
        "httpsServer",
        "createServer",
        "key",
        "readFileSync",
        "cert",
        "connect",
        "port",
        "listen",
        "console",
        "info"
      ],
      "mappings": ";;;;;;;AAIA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;;;AAjBA;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,IAAD,CAAlB;;AAiBA,MAAME,KAAK,GAAGF,OAAO,CAAC,gBAAD,CAArB;;AAEA,MAAMG,GAAG,GAAG,uBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR,E,CAEA;;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,oBAAWE,UAAX,CAAsB;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAtB,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQC,oBAAWI,IAAX,EAAR;AACAN,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,CAAgB;AAACI,EAAAA,IAAI,EAAE;AAAP,CAAhB,CAAR,E,CAEA;;AACAP,GAAG,CAACC,GAAJ,CAAQ,qBAAO,UAAP,CAAR;AAEA,MAAMO,OAAO,GAAG,OAAhB,C,CAEA;;AAEAR,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAaQ,aAAb;AAEAT,GAAG,CAACC,GAAJ,CAAQO,OAAO,GAAE,QAAjB,EAA2BE,cAA3B,EAA2CC,oBAA3C,EAA6DC,aAA7D;AACAZ,GAAG,CAACC,GAAJ,CAAQO,OAAO,GAAE,QAAjB,EAA2BE,cAA3B,EAA2CG,oBAA3C,EAA6DC,eAA7D;AACAd,GAAG,CAACC,GAAJ,CAAQO,OAAR,EAAiBE,cAAjB,EAAiCK,eAAjC,EAAkDC,cAAlD;AAGA,MAAMC,WAAW,GAAGrB,KAAK,CAACsB,YAAN,CAAmB;AACrCC,EAAAA,GAAG,EAAErB,EAAE,CAACsB,YAAH,CAAgB,wDAAhB,CADgC;AAErCC,EAAAA,IAAI,EAAEvB,EAAE,CAACsB,YAAH,CAAgB,0DAAhB;AAF+B,CAAnB,EAGjBpB,GAHiB,CAApB;;AAMA,MAAMsB,OAAO,GAAIC,IAAD,IAAU;AACtBA,EAAAA,IAAI,GAAGA,IAAI,IAAI,GAAf;AAEAN,EAAAA,WAAW,CAACO,MAAZ,CAAmBD,IAAnB,EAAyB,MAAM;AAC3BE,IAAAA,OAAO,CAACC,IAAR,CAAa,4CAAb,EAA2DH,IAA3D;AACH,GAFD;AAGH,CAND;;eAQe;AAACD,EAAAA,OAAD;AAAUtB,EAAAA;AAAV,C",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\",
      "sourcesContent": [
        "// For https support\r\nconst https = require('https');\r\nconst fs = require('fs');\r\n\r\nimport express from 'express';\r\nimport bodyParser from 'body-parser';\r\nimport morgan from 'morgan';\r\nimport cors from 'cors';\r\n// Routes\r\nimport userRoutes from './routes/user';\r\nimport authRoutes from './routes/auth';\r\nimport adminRoutes from './routes/admin';\r\nimport portalRoutes from './routes/portal';\r\n// Middlewares\r\nimport authMiddleware from './middleware/auth';\r\nimport adminMiddleware from './middleware/admin';\r\nimport portalMiddleware from './middleware/portal_user';\r\nimport mobileMiddleware from './middleware/mobile_user';\r\n\r\nconst pjson = require('./package.json');\r\n\r\nconst app = express();\r\n\r\n//Allow user to access to data to any origin.\r\napp.use(cors());\r\n\r\n//Json data parser\r\napp.use(bodyParser.json());\r\napp.use(bodyParser.urlencoded({extended: true}));\r\napp.use(bodyParser.text());\r\napp.use(bodyParser.json({type: 'application/json'}));\r\n\r\n//Terminal logs.\r\napp.use(morgan('combined'));\r\n\r\nconst apiPath = '/api/'; \r\n\r\n// API Routes\r\n\r\napp.use('/', authRoutes);\r\n\r\napp.use(apiPath +'mobile', authMiddleware, mobileMiddleware, userRoutes);\r\napp.use(apiPath +'portal', authMiddleware, portalMiddleware, portalRoutes);\r\napp.use(apiPath, authMiddleware, adminMiddleware, adminRoutes);\r\n\r\n\r\nconst httpsServer = https.createServer({\r\n  key: fs.readFileSync('/etc/letsencrypt/live/senior.fastntech.com/privkey.pem'),\r\n  cert: fs.readFileSync('/etc/letsencrypt/live/senior.fastntech.com/fullchain.pem'),\r\n}, app);\r\n\r\n\r\nconst connect = (port) => {\r\n    port = port || 443;\r\n\r\n    httpsServer.listen(port, () => {\r\n        console.info('Running on https://senior.fastntech.com:%s', port);\r\n    });\r\n};\r\n\r\nexport default {connect, app};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609252423573
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\user.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _queue_service = _interopRequireDefault(require(\"../services/queue_service\"));\n\nvar _qr_code_service = _interopRequireDefault(require(\"../services/qr_code_service\"));\n\nvar _user_info_service = _interopRequireDefault(require(\"../services/user_info_service\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = require('express').Router(); // Users route\n\n\napi.use(_queue_service.default);\napi.use(_qr_code_service.default);\napi.use(_user_info_service.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiYXBpIiwicmVxdWlyZSIsIlJvdXRlciIsInVzZSIsIlF1ZXVlU2VydmljZSIsIlFSU2VydmljZSIsIkluZm9TZXJ2aWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7QUFKQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQVosQyxDQUNBOzs7QUFLQUYsR0FBRyxDQUFDRyxHQUFKLENBQVFDLHNCQUFSO0FBQ0FKLEdBQUcsQ0FBQ0csR0FBSixDQUFRRSx3QkFBUjtBQUNBTCxHQUFHLENBQUNHLEdBQUosQ0FBUUcsMEJBQVI7ZUFFZU4sRyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwaSA9IHJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKTtcclxuLy8gVXNlcnMgcm91dGVcclxuaW1wb3J0IFF1ZXVlU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9xdWV1ZV9zZXJ2aWNlJztcclxuaW1wb3J0IFFSU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9xcl9jb2RlX3NlcnZpY2UnO1xyXG5pbXBvcnQgSW5mb1NlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvdXNlcl9pbmZvX3NlcnZpY2UnO1xyXG5cclxuYXBpLnVzZShRdWV1ZVNlcnZpY2UpO1xyXG5hcGkudXNlKFFSU2VydmljZSk7XHJcbmFwaS51c2UoSW5mb1NlcnZpY2UpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBpO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "api",
        "require",
        "Router",
        "use",
        "QueueService",
        "QRService",
        "InfoService"
      ],
      "mappings": ";;;;;;;AAEA;;AACA;;AACA;;;;AAJA,MAAMA,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAZ,C,CACA;;;AAKAF,GAAG,CAACG,GAAJ,CAAQC,sBAAR;AACAJ,GAAG,CAACG,GAAJ,CAAQE,wBAAR;AACAL,GAAG,CAACG,GAAJ,CAAQG,0BAAR;eAEeN,G",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "sourcesContent": [
        "const api = require('express').Router();\r\n// Users route\r\nimport QueueService from '../services/queue_service';\r\nimport QRService from '../services/qr_code_service';\r\nimport InfoService from '../services/user_info_service';\r\n\r\napi.use(QueueService);\r\napi.use(QRService);\r\napi.use(InfoService);\r\n\r\nexport default api;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257153395
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\queue_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\queue_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\queue_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\queue_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "queue_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nvar _desk = _interopRequireDefault(require(\"../models/desk\"));\n\nvar _deskUser = _interopRequireDefault(require(\"../models/deskUser\"));\n\nvar _averageTime = _interopRequireDefault(require(\"../models/averageTime\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Utils that determine response type\nconst router = _express.default.Router(); // Functions\n\n/**\r\n * Get latest average time of desk, default 1\r\n * @param {Integer} deskId\r\n */\n//This function is called by getCurrentInfo function and calculates the average time of the desks to be used in bar chart.\n\n\nconst getAverageTimeOfDesk = deskId => {\n  return _averageTime.default.where({\n    desk_id: deskId\n  }).orderBy('id', 'DESC').fetch({\n    require: false\n  }).then(fetchedAverageTime => {\n    const avgTime = Number(fetchedAverageTime.get('time') || 1);\n    return avgTime;\n  });\n};\n/**\r\n * \r\n * @param {Integer} queueNumber\r\n */\n// This function is called by getCurrentInfo function and calculates the how many people is infront of the given queueNumber\n// for to be used in bar chart.\n\n\nconst getFrontCount = queueNumber => {\n  return _deskUser.default.where('id', '<', queueNumber).where({\n    is_active: true,\n    is_finished: false\n  }).count('id').then(total => Number(total));\n}; // Endpoints\n//This function add users to the queue.\n\n\nconst joinToQueue = async (req, res) => {\n  const {\n    uid\n  } = req.userData; //in active desk fetch evey data is queue have people inside fetch id, desk id related data\n  //if no user is in queue place first user to the first desk\n\n  let deskIdWithMinNumUser;\n  const is_userInQueue = await _deskUser.default.where({\n    user_id: uid,\n    is_active: true\n  }).fetchAll({\n    columns: ['user_id', 'desk_id'],\n    require: true\n  }).then(result => true).catch(err => false);\n\n  if (is_userInQueue) {\n    (0, _http_util.errorResp)(res, new Error(\"User already in queue\"));\n  } else {\n    _desk.default.where({\n      is_active: true,\n      is_deleted: false\n    }).fetchAll().then(async result => {\n      const deskUserData = await _deskUser.default.where({\n        is_active: true\n      }).fetchAll({\n        columns: ['user_id', 'desk_id'],\n        require: true\n      }).then(result => result).catch(err => {\n        return false;\n      }); //No user in queue.\n\n      if (!deskUserData) {\n        deskIdWithMinNumUser = 1;\n      } else {\n        //How many desk are there.\n        const deskCount = result.length; //Store all desk ids.\n\n        let deskIdArray = []; //Store number of people in each desk.\n\n        let DeskUserCountArray = [];\n\n        for (let i = 0; i < deskCount; i++) {\n          //Initialize all desk with 0 people in queue.\n          deskIdArray[i] = i + 1;\n          DeskUserCountArray[i] = 0;\n        } // Users that are currently in que.\n\n\n        deskUserData.models.forEach(model => {\n          const deskId = model.attributes.desk_id;\n\n          if (DeskUserCountArray[deskId - 1] >= 0) {\n            DeskUserCountArray[deskId - 1] += 1;\n          } else {\n            DeskUserCountArray[deskId - 1] = 1;\n          }\n        });\n        const minNumUser = Math.min.apply(null, DeskUserCountArray);\n        deskIdWithMinNumUser = deskIdArray[DeskUserCountArray.indexOf(minNumUser)];\n      }\n\n      new _deskUser.default({\n        desk_id: deskIdWithMinNumUser,\n        user_id: uid\n      }).save().then(savedQueue => {\n        (0, _http_util.successResp)(res, savedQueue);\n      }).catch(err => {\n        console.error(err);\n        (0, _http_util.errorResp)(res, new Error('user has not been added'));\n      });\n    }).catch(err => {\n      console.error(err);\n      (0, _http_util.errorResp)(res, new Error('desk must be valid'));\n    });\n  }\n}; // This function is for giving up the queue by users' will.\n// Giving desk id and user id, where in active desk and active user in queue, change user status to false\n\n\nconst giveUpQueue = (req, res) => {\n  const {\n    deskId\n  } = req.body;\n  const {\n    uid\n  } = req.userData;\n\n  if (!deskId) {\n    (0, _http_util.errorResp)(res, new Error('deskId must be exists'));\n    return;\n  }\n\n  _desk.default.where({\n    id: deskId,\n    is_active: true,\n    is_deleted: false\n  }).fetch().then(() => {\n    _deskUser.default.where({\n      desk_id: deskId,\n      user_id: uid,\n      is_active: true\n    }).save({\n      is_active: false\n    }, {\n      method: 'update'\n    }).then(updatedQueue => {\n      (0, _http_util.successResp)(res, updatedQueue);\n    }).catch(err => {\n      console.error(err);\n      (0, _http_util.errorResp)(res, new Error('user has not been given up'));\n    });\n  }).catch(err => {\n    console.error(err);\n    (0, _http_util.errorResp)(res, new Error('desk must be valid'));\n  });\n}; //This function get desk id and count the users that are not finished their task\n//and returns length of current queue.\n\n\nconst getOccupancy = (req, res) => {\n  const {\n    deskId\n  } = req.params;\n\n  if (!Number.isInteger(Number(deskId))) {\n    (0, _http_util.errorResp)(res, new Error('deskId must be number'));\n    return;\n  }\n\n  _deskUser.default.where({\n    desk_id: deskId,\n    is_active: true,\n    is_finished: false\n  }).count('id').then(count => {\n    (0, _http_util.successResp)(res, {\n      total: parseInt(count)\n    });\n  }).catch(err => {\n    console.error(err);\n    (0, _http_util.errorResp)(res, new Error('No queue occupancy'));\n  });\n}; // This function query database for active desk id and returns the queue lenght and occupancy times\n\n\nconst getOccupancyAllDesk = (req, res) => {\n  _deskUser.default.query(qb => {\n    qb.select(_db.default.raw('desk_id, count(id) as count'));\n    qb.groupBy('desk_id');\n    qb.where({\n      is_active: true,\n      is_finished: false\n    });\n  }).fetchAll().then(result => {\n    let totalCount = 0;\n    result.forEach(r => {\n      totalCount += parseInt(r.get('count'));\n    });\n    (0, _http_util.successResp)(res, {\n      DeskCount: result.length,\n      AvgUser: totalCount / result.length\n    });\n  }).catch(err => {\n    console.error(err);\n    (0, _http_util.errorResp)(res, new Error('No queue occupancy for any desk'));\n  });\n}; //This function takes queue number and user id for active queue return how many people is in front than get average time of the desk\n\n\nconst getCurrentInfo = (req, res) => {\n  const {\n    queueNumber\n  } = req.params;\n  const {\n    uid\n  } = req.userData;\n\n  if (!Number.isInteger(Number(queueNumber))) {\n    (0, _http_util.errorResp)(res, new Error('queue number must be number'));\n    return;\n  }\n\n  _deskUser.default.where({\n    id: queueNumber,\n    user_id: uid,\n    is_active: true,\n    is_finished: false\n  }).fetch().then(fetchedDeskUser => {\n    getFrontCount(queueNumber).then(frontCount => {\n      getAverageTimeOfDesk(fetchedDeskUser.get('desk_id')).then(avgTime => {\n        (0, _http_util.successResp)(res, {\n          avgTime,\n          frontCount,\n          waitingTime: avgTime * frontCount\n        });\n      }).catch(err => {\n        throw err;\n      });\n    }).catch(err => {\n      throw err;\n    });\n  }).catch(err => {\n    console.error(err);\n    (0, _http_util.errorResp)(res, new Error('queue number does not exists'));\n  });\n};\n\nrouter.route('/queue').post(joinToQueue);\nrouter.route('/queue').delete(giveUpQueue);\nrouter.route('/queue/occupancy/:deskId').get(getOccupancy);\nrouter.route('/queue/allOccupancy').get(getOccupancyAllDesk);\nrouter.route('/queue/info/:queueNumber').get(getCurrentInfo);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXVlX3NlcnZpY2UuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldEF2ZXJhZ2VUaW1lT2ZEZXNrIiwiZGVza0lkIiwiQXZlcmFnZVRpbWVNb2RlbCIsIndoZXJlIiwiZGVza19pZCIsIm9yZGVyQnkiLCJmZXRjaCIsInJlcXVpcmUiLCJ0aGVuIiwiZmV0Y2hlZEF2ZXJhZ2VUaW1lIiwiYXZnVGltZSIsIk51bWJlciIsImdldCIsImdldEZyb250Q291bnQiLCJxdWV1ZU51bWJlciIsIkRlc2tVc2VyTW9kZWwiLCJpc19hY3RpdmUiLCJpc19maW5pc2hlZCIsImNvdW50IiwidG90YWwiLCJqb2luVG9RdWV1ZSIsInJlcSIsInJlcyIsInVpZCIsInVzZXJEYXRhIiwiZGVza0lkV2l0aE1pbk51bVVzZXIiLCJpc191c2VySW5RdWV1ZSIsInVzZXJfaWQiLCJmZXRjaEFsbCIsImNvbHVtbnMiLCJyZXN1bHQiLCJjYXRjaCIsImVyciIsIkVycm9yIiwiRGVza01vZGVsIiwiaXNfZGVsZXRlZCIsImRlc2tVc2VyRGF0YSIsImRlc2tDb3VudCIsImxlbmd0aCIsImRlc2tJZEFycmF5IiwiRGVza1VzZXJDb3VudEFycmF5IiwiaSIsIm1vZGVscyIsImZvckVhY2giLCJtb2RlbCIsImF0dHJpYnV0ZXMiLCJtaW5OdW1Vc2VyIiwiTWF0aCIsIm1pbiIsImFwcGx5IiwiaW5kZXhPZiIsInNhdmUiLCJzYXZlZFF1ZXVlIiwiY29uc29sZSIsImVycm9yIiwiZ2l2ZVVwUXVldWUiLCJib2R5IiwiaWQiLCJtZXRob2QiLCJ1cGRhdGVkUXVldWUiLCJnZXRPY2N1cGFuY3kiLCJwYXJhbXMiLCJpc0ludGVnZXIiLCJwYXJzZUludCIsImdldE9jY3VwYW5jeUFsbERlc2siLCJxdWVyeSIsInFiIiwic2VsZWN0IiwiZGIiLCJyYXciLCJncm91cEJ5IiwidG90YWxDb3VudCIsInIiLCJEZXNrQ291bnQiLCJBdmdVc2VyIiwiZ2V0Q3VycmVudEluZm8iLCJmZXRjaGVkRGVza1VzZXIiLCJmcm9udENvdW50Iiwid2FpdGluZ1RpbWUiLCJyb3V0ZSIsInBvc3QiLCJkZWxldGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUxBO0FBSUE7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQyxDQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBLE1BQU1DLG9CQUFvQixHQUFJQyxNQUFELElBQVk7QUFDckMsU0FBT0MscUJBQWlCQyxLQUFqQixDQUF1QjtBQUMxQkMsSUFBQUEsT0FBTyxFQUFFSDtBQURpQixHQUF2QixFQUdGSSxPQUhFLENBR00sSUFITixFQUdZLE1BSFosRUFJRkMsS0FKRSxDQUlJO0FBQUNDLElBQUFBLE9BQU8sRUFBRTtBQUFWLEdBSkosRUFLRkMsSUFMRSxDQUtJQyxrQkFBRCxJQUF3QjtBQUMxQixVQUFNQyxPQUFPLEdBQUdDLE1BQU0sQ0FBQ0Ysa0JBQWtCLENBQUNHLEdBQW5CLENBQXVCLE1BQXZCLEtBQWtDLENBQW5DLENBQXRCO0FBQ0EsV0FBT0YsT0FBUDtBQUNILEdBUkUsQ0FBUDtBQVNILENBVkQ7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUVDO0FBQ0E7OztBQUNELE1BQU1HLGFBQWEsR0FBSUMsV0FBRCxJQUFpQjtBQUVuQyxTQUFPQyxrQkFBY1osS0FBZCxDQUFvQixJQUFwQixFQUEwQixHQUExQixFQUErQlcsV0FBL0IsRUFDRlgsS0FERSxDQUNJO0FBQ0hhLElBQUFBLFNBQVMsRUFBRSxJQURSO0FBRUhDLElBQUFBLFdBQVcsRUFBRTtBQUZWLEdBREosRUFLRkMsS0FMRSxDQUtJLElBTEosRUFNRlYsSUFORSxDQU1JVyxLQUFELElBQVdSLE1BQU0sQ0FBQ1EsS0FBRCxDQU5wQixDQUFQO0FBT0gsQ0FURCxDLENBWUE7QUFFQTs7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtB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WUMsR0FBRCxJQUFTO0FBQ1osY0FBTUEsR0FBTjtBQUNILE9BVkw7QUFXSCxLQWJMLEVBY0tELEtBZEwsQ0FjWUMsR0FBRCxJQUFTO0FBQ1osWUFBTUEsR0FBTjtBQUNILEtBaEJMO0FBaUJILEdBekJMLEVBMEJLRCxLQTFCTCxDQTBCWUMsR0FBRCxJQUFTO0FBQ1pxQixJQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY3RCLEdBQWQ7QUFDQSw4QkFBVVYsR0FBVixFQUFlLElBQUlXLEtBQUosQ0FBVSw4QkFBVixDQUFmO0FBQ0gsR0E3Qkw7QUE4QkgsQ0F0Q0Q7O0FBeUNBcEMsTUFBTSxDQUFDa0YsS0FBUCxDQUFhLFFBQWIsRUFBdUJDLElBQXZCLENBQTRCNUQsV0FBNUI7QUFDQXZCLE1BQU0sQ0FBQ2tGLEtBQVAsQ0FBYSxRQUFiLEVBQXVCRSxNQUF2QixDQUE4QjFCLFdBQTlCO0FBQ0ExRCxNQUFNLENBQUNrRixLQUFQLENBQWEsMEJBQWIsRUFBeUNuRSxHQUF6QyxDQUE2Q2dELFlBQTdDO0FBQ0EvRCxNQUFNLENBQUNrRixLQUFQLENBQWEscUJBQWIsRUFBb0NuRSxHQUFwQyxDQUF3Q29ELG1CQUF4QztBQUNBbkUsTUFBTSxDQUFDa0YsS0FBUCxDQUFhLDBCQUFiLEVBQXlDbkUsR0FBekMsQ0FBNkMrRCxjQUE3QztlQUdlOUUsTSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxzZXJ2aWNlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBkYiBmcm9tICcuLi9kYic7XHJcbi8vIE1vZGVsc1xyXG5pbXBvcnQgRGVza01vZGVsIGZyb20gJy4uL21vZGVscy9kZXNrJztcclxuaW1wb3J0IERlc2tVc2VyTW9kZWwgZnJvbSAnLi4vbW9kZWxzL2Rlc2tVc2VyJztcclxuaW1wb3J0IEF2ZXJhZ2VUaW1lTW9kZWwgZnJvbSAnLi4vbW9kZWxzL2F2ZXJhZ2VUaW1lJztcclxuLy8gVXRpbHMgdGhhdCBkZXRlcm1pbmUgcmVzcG9uc2UgdHlwZVxyXG5pbXBvcnQge2Vycm9yUmVzcCwgc3VjY2Vzc1Jlc3B9IGZyb20gJy4uL3V0aWwvaHR0cF91dGlsJztcclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbi8vIEZ1bmN0aW9uc1xyXG5cclxuLyoqXHJcbiAqIEdldCBsYXRlc3QgYXZlcmFnZSB0aW1lIG9mIGRlc2ssIGRlZmF1bHQgMVxyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGRlc2tJZFxyXG4gKi9cclxuXHJcbi8vVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgZ2V0Q3VycmVudEluZm8gZnVuY3Rpb24gYW5kIGNhbGN1bGF0ZXMgdGhlIGF2ZXJhZ2UgdGltZSBvZiB0aGUgZGVza3MgdG8gYmUgdXNlZCBpbiBiYXIgY2hhcnQuXHJcbmNvbnN0IGdldEF2ZXJhZ2VUaW1lT2ZEZXNrID0gKGRlc2tJZCkgPT4ge1xyXG4gICAgcmV0dXJuIEF2ZXJhZ2VUaW1lTW9kZWwud2hlcmUoe1xyXG4gICAgICAgIGRlc2tfaWQ6IGRlc2tJZCxcclxuICAgIH0pXHJcbiAgICAgICAgLm9yZGVyQnkoJ2lkJywgJ0RFU0MnKVxyXG4gICAgICAgIC5mZXRjaCh7cmVxdWlyZTogZmFsc2V9KVxyXG4gICAgICAgIC50aGVuKChmZXRjaGVkQXZlcmFnZVRpbWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXZnVGltZSA9IE51bWJlcihmZXRjaGVkQXZlcmFnZVRpbWUuZ2V0KCd0aW1lJykgfHwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhdmdUaW1lO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IHF1ZXVlTnVtYmVyXHJcbiAqL1xyXG5cclxuIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGdldEN1cnJlbnRJbmZvIGZ1bmN0aW9uIGFuZCBjYWxjdWxhdGVzIHRoZSBob3cgbWFueSBwZW9wbGUgaXMgaW5mcm9udCBvZiB0aGUgZ2l2ZW4gcXVldWVOdW1iZXJcclxuIC8vIGZvciB0byBiZSB1c2VkIGluIGJhciBjaGFydC5cclxuY29uc3QgZ2V0RnJvbnRDb3VudCA9IChxdWV1ZU51bWJlcikgPT4ge1xyXG4gICAgXHJcbiAgICByZXR1cm4gRGVza1VzZXJNb2RlbC53aGVyZSgnaWQnLCAnPCcsIHF1ZXVlTnVtYmVyKVxyXG4gICAgICAgIC53aGVyZSh7XHJcbiAgICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNvdW50KCdpZCcpXHJcbiAgICAgICAgLnRoZW4oKHRvdGFsKSA9PiBOdW1iZXIodG90YWwpKTtcclxufTtcclxuXHJcblxyXG4vLyBFbmRwb2ludHNcclxuXHJcbi8vVGhpcyBmdW5jdGlvbiBhZGQgdXNlcnMgdG8gdGhlIHF1ZXVlLlxyXG5jb25zdCBqb2luVG9RdWV1ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgXHJcbiAgICBjb25zdCB7dWlkfSA9IHJlcS51c2VyRGF0YTtcclxuICAgIC8vaW4gYWN0aXZlIGRlc2sgZmV0Y2ggZXZleSBkYXRhIGlzIHF1ZXVlIGhhdmUgcGVvcGxlIGluc2lkZSBmZXRjaCBpZCwgZGVzayBpZCByZWxhdGVkIGRhdGFcclxuICAgIC8vaWYgbm8gdXNlciBpcyBpbiBxdWV1ZSBwbGFjZSBmaXJzdCB1c2VyIHRvIHRoZSBmaXJzdCBkZXNrXHJcbiAgICBsZXQgZGVza0lkV2l0aE1pbk51bVVzZXI7XHJcbiAgICBjb25zdCBpc191c2VySW5RdWV1ZSA9IGF3YWl0IERlc2tVc2VyTW9kZWwud2hlcmUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB1c2VyX2lkOnVpZCxcclxuICAgICAgICAgICAgaXNfYWN0aXZlOnRydWVcclxuICAgICAgICB9XHJcbiAgICApLmZldGNoQWxsKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29sdW1uczogWyd1c2VyX2lkJywgJ2Rlc2tfaWQnXSxcclxuICAgICAgICAgICAgcmVxdWlyZTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICApLnRoZW4oKHJlc3VsdCkgPT4gdHJ1ZSkuY2F0Y2goZXJyPT5mYWxzZSlcclxuICAgICAgICBpZihpc191c2VySW5RdWV1ZSl7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcihcIlVzZXIgYWxyZWFkeSBpbiBxdWV1ZVwiKSlcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgRGVza01vZGVsLndoZXJlKHtcclxuICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNfZGVsZXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZmV0Y2hBbGwoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNrVXNlckRhdGEgPSBhd2FpdCBEZXNrVXNlck1vZGVsLndoZXJlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19hY3RpdmU6dHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICkuZmV0Y2hBbGwoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFsndXNlcl9pZCcsICdkZXNrX2lkJ10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKS50aGVuKChyZXN1bHQpID0+IHJlc3VsdClcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL05vIHVzZXIgaW4gcXVldWUuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgaWYoIWRlc2tVc2VyRGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVza0lkV2l0aE1pbk51bVVzZXI9MTtcclxuICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL0hvdyBtYW55IGRlc2sgYXJlIHRoZXJlLlxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNrQ291bnQgPSByZXN1bHQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL1N0b3JlIGFsbCBkZXNrIGlkcy5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlc2tJZEFycmF5ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vU3RvcmUgbnVtYmVyIG9mIHBlb3BsZSBpbiBlYWNoIGRlc2suXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBEZXNrVXNlckNvdW50QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxkZXNrQ291bnQ7IGkrKyl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0luaXRpYWxpemUgYWxsIGRlc2sgd2l0aCAwIHBlb3BsZSBpbiBxdWV1ZS5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2tJZEFycmF5W2ldID0gaSsxOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVza1VzZXJDb3VudEFycmF5W2ldPTA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gICAvLyBVc2VycyB0aGF0IGFyZSBjdXJyZW50bHkgaW4gcXVlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNrVXNlckRhdGEubW9kZWxzLmZvckVhY2gobW9kZWwgPT57ICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNrSWQgPSBtb2RlbC5hdHRyaWJ1dGVzLmRlc2tfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggRGVza1VzZXJDb3VudEFycmF5W2Rlc2tJZC0xXSA+PTApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlc2tVc2VyQ291bnRBcnJheVtkZXNrSWQtMV0rPTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNrVXNlckNvdW50QXJyYXlbZGVza0lkLTFdPTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtaW5OdW1Vc2VyID0gTWF0aC5taW4uYXBwbHkobnVsbCwgRGVza1VzZXJDb3VudEFycmF5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNrSWRXaXRoTWluTnVtVXNlciA9IGRlc2tJZEFycmF5W0Rlc2tVc2VyQ291bnRBcnJheS5pbmRleE9mKG1pbk51bVVzZXIpXTtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBuZXcgRGVza1VzZXJNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2tfaWQ6IGRlc2tJZFdpdGhNaW5OdW1Vc2VyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiB1aWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoc2F2ZWRRdWV1ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCBzYXZlZFF1ZXVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcigndXNlciBoYXMgbm90IGJlZW4gYWRkZWQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignZGVzayBtdXN0IGJlIHZhbGlkJykpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICBcclxufTtcclxuLy8gVGhpcyBmdW5jdGlvbiBpcyBmb3IgZ2l2aW5nIHVwIHRoZSBxdWV1ZSBieSB1c2Vycycgd2lsbC5cclxuLy8gR2l2aW5nIGRlc2sgaWQgYW5kIHVzZXIgaWQsIHdoZXJlIGluIGFjdGl2ZSBkZXNrIGFuZCBhY3RpdmUgdXNlciBpbiBxdWV1ZSwgY2hhbmdlIHVzZXIgc3RhdHVzIHRvIGZhbHNlXHJcbmNvbnN0IGdpdmVVcFF1ZXVlID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7ZGVza0lkfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3Qge3VpZH0gPSByZXEudXNlckRhdGE7XHJcblxyXG4gICAgaWYgKCFkZXNrSWQpIHtcclxuICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ2Rlc2tJZCBtdXN0IGJlIGV4aXN0cycpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgRGVza01vZGVsLndoZXJlKHtcclxuICAgICAgICBpZDogZGVza0lkLFxyXG4gICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcclxuICAgICAgICBpc19kZWxldGVkOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICAgICAgLmZldGNoKClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIERlc2tVc2VyTW9kZWwud2hlcmUoe1xyXG4gICAgICAgICAgICAgICAgZGVza19pZDogZGVza0lkLFxyXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdWlkLFxyXG4gICAgICAgICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnNhdmUoe2lzX2FjdGl2ZTogZmFsc2V9LCB7bWV0aG9kOiAndXBkYXRlJ30pXHJcbiAgICAgICAgICAgICAgICAudGhlbigodXBkYXRlZFF1ZXVlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB1cGRhdGVkUXVldWUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcigndXNlciBoYXMgbm90IGJlZW4gZ2l2ZW4gdXAnKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdkZXNrIG11c3QgYmUgdmFsaWQnKSk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vL1RoaXMgZnVuY3Rpb24gZ2V0IGRlc2sgaWQgYW5kIGNvdW50IHRoZSB1c2VycyB0aGF0IGFyZSBub3QgZmluaXNoZWQgdGhlaXIgdGFza1xyXG4vL2FuZCByZXR1cm5zIGxlbmd0aCBvZiBjdXJyZW50IHF1ZXVlLlxyXG5jb25zdCBnZXRPY2N1cGFuY3kgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtkZXNrSWR9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoTnVtYmVyKGRlc2tJZCkpKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdkZXNrSWQgbXVzdCBiZSBudW1iZXInKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIERlc2tVc2VyTW9kZWwud2hlcmUoe1xyXG4gICAgICAgIGRlc2tfaWQ6IGRlc2tJZCxcclxuICAgICAgICBpc19hY3RpdmU6IHRydWUsXHJcbiAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgfSlcclxuICAgICAgICAuY291bnQoJ2lkJylcclxuICAgICAgICAudGhlbigoY291bnQpID0+IHtcclxuICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbDogcGFyc2VJbnQoY291bnQpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdObyBxdWV1ZSBvY2N1cGFuY3knKSk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vLyBUaGlzIGZ1bmN0aW9uIHF1ZXJ5IGRhdGFiYXNlIGZvciBhY3RpdmUgZGVzayBpZCBhbmQgcmV0dXJucyB0aGUgcXVldWUgbGVuZ2h0IGFuZCBvY2N1cGFuY3kgdGltZXNcclxuY29uc3QgZ2V0T2NjdXBhbmN5QWxsRGVzayA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIERlc2tVc2VyTW9kZWxcclxuICAgICAgICAucXVlcnkoIChxYikgPT4ge1xyXG4gICAgICAgICAgICBxYi5zZWxlY3QoZGIucmF3KCdkZXNrX2lkLCBjb3VudChpZCkgYXMgY291bnQnKSk7XHJcbiAgICAgICAgICAgIHFiLmdyb3VwQnkoJ2Rlc2tfaWQnKTtcclxuICAgICAgICAgICAgcWIud2hlcmUoe1xyXG4gICAgICAgICAgICAgICAgaXNfYWN0aXZlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5mZXRjaEFsbCgpXHJcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCB0b3RhbENvdW50ID0gMDtcclxuICAgICAgICAgICAgcmVzdWx0LmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbENvdW50ICs9IHBhcnNlSW50KHIuZ2V0KCdjb3VudCcpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHtcclxuICAgICAgICAgICAgICAgIERlc2tDb3VudDogIHJlc3VsdC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBBdmdVc2VyOiAodG90YWxDb3VudC9yZXN1bHQubGVuZ3RoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdObyBxdWV1ZSBvY2N1cGFuY3kgZm9yIGFueSBkZXNrJykpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuLy9UaGlzIGZ1bmN0aW9uIHRha2VzIHF1ZXVlIG51bWJlciBhbmQgdXNlciBpZCBmb3IgYWN0aXZlIHF1ZXVlIHJldHVybiBob3cgbWFueSBwZW9wbGUgaXMgaW4gZnJvbnQgdGhhbiBnZXQgYXZlcmFnZSB0aW1lIG9mIHRoZSBkZXNrXHJcblxyXG5jb25zdCBnZXRDdXJyZW50SW5mbyA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3Qge3F1ZXVlTnVtYmVyfSA9IHJlcS5wYXJhbXM7IFxyXG4gICAgY29uc3Qge3VpZH0gPSByZXEudXNlckRhdGE7XHJcblxyXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihxdWV1ZU51bWJlcikpKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdxdWV1ZSBudW1iZXIgbXVzdCBiZSBudW1iZXInKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgRGVza1VzZXJNb2RlbC53aGVyZSh7XHJcbiAgICAgICAgaWQ6IHF1ZXVlTnVtYmVyLFxyXG4gICAgICAgIHVzZXJfaWQ6IHVpZCxcclxuICAgICAgICBpc19hY3RpdmU6IHRydWUsXHJcbiAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxyXG4gICAgfSlcclxuICAgICAgICAuZmV0Y2goKVxyXG4gICAgICAgIC50aGVuKChmZXRjaGVkRGVza1VzZXIpID0+IHtcclxuICAgICAgICAgICAgZ2V0RnJvbnRDb3VudChxdWV1ZU51bWJlcilcclxuICAgICAgICAgICAgICAgIC50aGVuKChmcm9udENvdW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0QXZlcmFnZVRpbWVPZkRlc2soZmV0Y2hlZERlc2tVc2VyLmdldCgnZGVza19pZCcpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoYXZnVGltZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZnVGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9udENvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRpbmdUaW1lOiBhdmdUaW1lICogZnJvbnRDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ3F1ZXVlIG51bWJlciBkb2VzIG5vdCBleGlzdHMnKSk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG5cclxucm91dGVyLnJvdXRlKCcvcXVldWUnKS5wb3N0KGpvaW5Ub1F1ZXVlKTtcclxucm91dGVyLnJvdXRlKCcvcXVldWUnKS5kZWxldGUoZ2l2ZVVwUXVldWUpO1xyXG5yb3V0ZXIucm91dGUoJy9xdWV1ZS9vY2N1cGFuY3kvOmRlc2tJZCcpLmdldChnZXRPY2N1cGFuY3kpO1xyXG5yb3V0ZXIucm91dGUoJy9xdWV1ZS9hbGxPY2N1cGFuY3knKS5nZXQoZ2V0T2NjdXBhbmN5QWxsRGVzayk7XHJcbnJvdXRlci5yb3V0ZSgnL3F1ZXVlL2luZm8vOnF1ZXVlTnVtYmVyJykuZ2V0KGdldEN1cnJlbnRJbmZvKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "queue_service.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "getAverageTimeOfDesk",
        "deskId",
        "AverageTimeModel",
        "where",
        "desk_id",
        "orderBy",
        "fetch",
        "require",
        "then",
        "fetchedAverageTime",
        "avgTime",
        "Number",
        "get",
        "getFrontCount",
        "queueNumber",
        "DeskUserModel",
        "is_active",
        "is_finished",
        "count",
        "total",
        "joinToQueue",
        "req",
        "res",
        "uid",
        "userData",
        "deskIdWithMinNumUser",
        "is_userInQueue",
        "user_id",
        "fetchAll",
        "columns",
        "result",
        "catch",
        "err",
        "Error",
        "DeskModel",
        "is_deleted",
        "deskUserData",
        "deskCount",
        "length",
        "deskIdArray",
        "DeskUserCountArray",
        "i",
        "models",
        "forEach",
        "model",
        "attributes",
        "minNumUser",
        "Math",
        "min",
        "apply",
        "indexOf",
        "save",
        "savedQueue",
        "console",
        "error",
        "giveUpQueue",
        "body",
        "id",
        "method",
        "updatedQueue",
        "getOccupancy",
        "params",
        "isInteger",
        "parseInt",
        "getOccupancyAllDesk",
        "query",
        "qb",
        "select",
        "db",
        "raw",
        "groupBy",
        "totalCount",
        "r",
        "DeskCount",
        "AvgUser",
        "getCurrentInfo",
        "fetchedDeskUser",
        "frontCount",
        "waitingTime",
        "route",
        "post",
        "delete"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;;;AALA;AAIA;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;;AAEA;AACA;AACA;AACA;AAEA;;;AACA,MAAMC,oBAAoB,GAAIC,MAAD,IAAY;AACrC,SAAOC,qBAAiBC,KAAjB,CAAuB;AAC1BC,IAAAA,OAAO,EAAEH;AADiB,GAAvB,EAGFI,OAHE,CAGM,IAHN,EAGY,MAHZ,EAIFC,KAJE,CAII;AAACC,IAAAA,OAAO,EAAE;AAAV,GAJJ,EAKFC,IALE,CAKIC,kBAAD,IAAwB;AAC1B,UAAMC,OAAO,GAAGC,MAAM,CAACF,kBAAkB,CAACG,GAAnB,CAAuB,MAAvB,KAAkC,CAAnC,CAAtB;AACA,WAAOF,OAAP;AACH,GARE,CAAP;AASH,CAVD;AAYA;AACA;AACA;AACA;AAEC;AACA;;;AACD,MAAMG,aAAa,GAAIC,WAAD,IAAiB;AAEnC,SAAOC,kBAAcZ,KAAd,CAAoB,IAApB,EAA0B,GAA1B,EAA+BW,WAA/B,EACFX,KADE,CACI;AACHa,IAAAA,SAAS,EAAE,IADR;AAEHC,IAAAA,WAAW,EAAE;AAFV,GADJ,EAKFC,KALE,CAKI,IALJ,EAMFV,IANE,CAMIW,KAAD,IAAWR,MAAM,CAACQ,KAAD,CANpB,CAAP;AAOH,CATD,C,CAYA;AAEA;;;AACA,MAAMC,WAAW,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAEpC,QAAM;AAACC,IAAAA;AAAD,MAAQF,GAAG,CAACG,QAAlB,CAFoC,CAGpC;AACA;;AACA,MAAIC,oBAAJ;AACA,QAAMC,cAAc,GAAG,MAAMX,kBAAcZ,KAAd,CACzB;AACIwB,IAAAA,OAAO,EAACJ,GADZ;AAEIP,IAAAA,SAAS,EAAC;AAFd,GADyB,EAK3BY,QAL2B,CAMzB;AACIC,IAAAA,OAAO,EAAE,CAAC,SAAD,EAAY,SAAZ,CADb;AAEItB,IAAAA,OAAO,EAAE;AAFb,GANyB,EAU3BC,IAV2B,CAUrBsB,MAAD,IAAY,IAVU,EAUJC,KAVI,CAUEC,GAAG,IAAE,KAVP,CAA7B;;AAWI,MAAGN,cAAH,EAAkB;AACd,8BAAUJ,GAAV,EAAe,IAAIW,KAAJ,CAAU,uBAAV,CAAf;AACH,GAFD,MAEK;AACDC,kBAAU/B,KAAV,CAAgB;AAEZa,MAAAA,SAAS,EAAE,IAFC;AAGZmB,MAAAA,UAAU,EAAE;AAHA,KAAhB,EAKKP,QALL,GAMKpB,IANL,CAMU,MAAOsB,MAAP,IAAkB;AAGpB,YAAMM,YAAY,GAAG,MAAMrB,kBAAcZ,KAAd,CACvB;AACIa,QAAAA,SAAS,EAAC;AADd,OADuB,EAIzBY,QAJyB,CAKvB;AACIC,QAAAA,OAAO,EAAE,CAAC,SAAD,EAAY,SAAZ,CADb;AAEItB,QAAAA,OAAO,EAAE;AAFb,OALuB,EASzBC,IATyB,CASnBsB,MAAD,IAAYA,MATQ,EAU1BC,KAV0B,CAUpBC,GAAG,IAAI;AAEV,eAAO,KAAP;AACH,OAb0B,CAA3B,CAHoB,CAkBpB;;AAED,UAAG,CAACI,YAAJ,EAAiB;AAChBX,QAAAA,oBAAoB,GAAC,CAArB;AACA,OAFD,MAEK;AAEJ;AAEA,cAAMY,SAAS,GAAGP,MAAM,CAACQ,MAAzB,CAJI,CAMJ;;AAEA,YAAIC,WAAW,GAAG,EAAlB,CARI,CAUJ;;AAEA,YAAIC,kBAAkB,GAAG,EAAzB;;AACA,aAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACJ,SAAf,EAA0BI,CAAC,EAA3B,EAA8B;AAE1B;AAEAF,UAAAA,WAAW,CAACE,CAAD,CAAX,GAAiBA,CAAC,GAAC,CAAnB;AACAD,UAAAA,kBAAkB,CAACC,CAAD,CAAlB,GAAsB,CAAtB;AAEH,SApBG,CAoBA;;;AACAL,QAAAA,YAAY,CAACM,MAAb,CAAoBC,OAApB,CAA4BC,KAAK,IAAG;AAChC,gBAAM3C,MAAM,GAAG2C,KAAK,CAACC,UAAN,CAAiBzC,OAAhC;;AACA,cAAIoC,kBAAkB,CAACvC,MAAM,GAAC,CAAR,CAAlB,IAA+B,CAAnC,EAAqC;AACjCuC,YAAAA,kBAAkB,CAACvC,MAAM,GAAC,CAAR,CAAlB,IAA8B,CAA9B;AACA,WAFJ,MAEQ;AACJuC,YAAAA,kBAAkB,CAACvC,MAAM,GAAC,CAAR,CAAlB,GAA6B,CAA7B;AACA;AACP,SAPD;AAQA,cAAM6C,UAAU,GAAGC,IAAI,CAACC,GAAL,CAASC,KAAT,CAAe,IAAf,EAAqBT,kBAArB,CAAnB;AACAf,QAAAA,oBAAoB,GAAGc,WAAW,CAACC,kBAAkB,CAACU,OAAnB,CAA2BJ,UAA3B,CAAD,CAAlC;AACJ;;AAEA,UAAI/B,iBAAJ,CAAkB;AACdX,QAAAA,OAAO,EAAEqB,oBADK;AAEdE,QAAAA,OAAO,EAAEJ;AAFK,OAAlB,EAIK4B,IAJL,GAKK3C,IALL,CAKW4C,UAAD,IAAgB;AAClB,oCAAY9B,GAAZ,EAAiB8B,UAAjB;AACH,OAPL,EAQKrB,KARL,CAQYC,GAAD,IAAS;AACZqB,QAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,kCAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,yBAAV,CAAf;AACH,OAXL;AAYH,KAzEL,EA0EKF,KA1EL,CA0EYC,GAAD,IAAS;AACZqB,MAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,gCAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,oBAAV,CAAf;AACH,KA7EL;AA8EH;AAER,CApGD,C,CAqGA;AACA;;;AACA,MAAMsB,WAAW,GAAG,CAAClC,GAAD,EAAMC,GAAN,KAAc;AAC9B,QAAM;AAACrB,IAAAA;AAAD,MAAWoB,GAAG,CAACmC,IAArB;AACA,QAAM;AAACjC,IAAAA;AAAD,MAAQF,GAAG,CAACG,QAAlB;;AAEA,MAAI,CAACvB,MAAL,EAAa;AACT,8BAAUqB,GAAV,EAAe,IAAIW,KAAJ,CAAU,uBAAV,CAAf;AACA;AACH;;AAEDC,gBAAU/B,KAAV,CAAgB;AACZsD,IAAAA,EAAE,EAAExD,MADQ;AAEZe,IAAAA,SAAS,EAAE,IAFC;AAGZmB,IAAAA,UAAU,EAAE;AAHA,GAAhB,EAKK7B,KALL,GAMKE,IANL,CAMU,MAAM;AACRO,sBAAcZ,KAAd,CAAoB;AAChBC,MAAAA,OAAO,EAAEH,MADO;AAEhB0B,MAAAA,OAAO,EAAEJ,GAFO;AAGhBP,MAAAA,SAAS,EAAE;AAHK,KAApB,EAKKmC,IALL,CAKU;AAACnC,MAAAA,SAAS,EAAE;AAAZ,KALV,EAK8B;AAAC0C,MAAAA,MAAM,EAAE;AAAT,KAL9B,EAMKlD,IANL,CAMWmD,YAAD,IAAkB;AACpB,kCAAYrC,GAAZ,EAAiBqC,YAAjB;AACH,KARL,EASK5B,KATL,CASYC,GAAD,IAAS;AACZqB,MAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,gCAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,4BAAV,CAAf;AACH,KAZL;AAaH,GApBL,EAqBKF,KArBL,CAqBYC,GAAD,IAAS;AACZqB,IAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,8BAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,oBAAV,CAAf;AACH,GAxBL;AAyBH,CAlCD,C,CAoCA;AACA;;;AACA,MAAM2B,YAAY,GAAG,CAACvC,GAAD,EAAMC,GAAN,KAAc;AAC/B,QAAM;AAACrB,IAAAA;AAAD,MAAWoB,GAAG,CAACwC,MAArB;;AAEA,MAAI,CAAClD,MAAM,CAACmD,SAAP,CAAiBnD,MAAM,CAACV,MAAD,CAAvB,CAAL,EAAuC;AACnC,8BAAUqB,GAAV,EAAe,IAAIW,KAAJ,CAAU,uBAAV,CAAf;AACA;AACH;;AAEDlB,oBAAcZ,KAAd,CAAoB;AAChBC,IAAAA,OAAO,EAAEH,MADO;AAEhBe,IAAAA,SAAS,EAAE,IAFK;AAGhBC,IAAAA,WAAW,EAAE;AAHG,GAApB,EAKKC,KALL,CAKW,IALX,EAMKV,IANL,CAMWU,KAAD,IAAW;AACb,gCAAYI,GAAZ,EAAiB;AACbH,MAAAA,KAAK,EAAE4C,QAAQ,CAAC7C,KAAD;AADF,KAAjB;AAGH,GAVL,EAWKa,KAXL,CAWYC,GAAD,IAAS;AACZqB,IAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,8BAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,oBAAV,CAAf;AACH,GAdL;AAeH,CAvBD,C,CAyBA;;;AACA,MAAM+B,mBAAmB,GAAG,CAAC3C,GAAD,EAAMC,GAAN,KAAc;AAEtCP,oBACKkD,KADL,CACaC,EAAD,IAAQ;AACZA,IAAAA,EAAE,CAACC,MAAH,CAAUC,YAAGC,GAAH,CAAO,6BAAP,CAAV;AACAH,IAAAA,EAAE,CAACI,OAAH,CAAW,SAAX;AACAJ,IAAAA,EAAE,CAAC/D,KAAH,CAAS;AACLa,MAAAA,SAAS,EAAE,IADN;AAELC,MAAAA,WAAW,EAAE;AAFR,KAAT;AAIH,GARL,EASKW,QATL,GAUKpB,IAVL,CAUWsB,MAAD,IAAY;AAEd,QAAIyC,UAAU,GAAG,CAAjB;AACAzC,IAAAA,MAAM,CAACa,OAAP,CAAe6B,CAAC,IAAI;AAChBD,MAAAA,UAAU,IAAIR,QAAQ,CAACS,CAAC,CAAC5D,GAAF,CAAM,OAAN,CAAD,CAAtB;AACH,KAFD;AAIA,gCAAYU,GAAZ,EAAiB;AACbmD,MAAAA,SAAS,EAAG3C,MAAM,CAACQ,MADN;AAEboC,MAAAA,OAAO,EAAGH,UAAU,GAACzC,MAAM,CAACQ;AAFf,KAAjB;AAIH,GArBL,EAsBKP,KAtBL,CAsBYC,GAAD,IAAS;AACZqB,IAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,8BAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,iCAAV,CAAf;AACH,GAzBL;AA0BH,CA5BD,C,CA8BA;;;AAEA,MAAM0C,cAAc,GAAG,CAACtD,GAAD,EAAMC,GAAN,KAAc;AACjC,QAAM;AAACR,IAAAA;AAAD,MAAgBO,GAAG,CAACwC,MAA1B;AACA,QAAM;AAACtC,IAAAA;AAAD,MAAQF,GAAG,CAACG,QAAlB;;AAEA,MAAI,CAACb,MAAM,CAACmD,SAAP,CAAiBnD,MAAM,CAACG,WAAD,CAAvB,CAAL,EAA4C;AACxC,8BAAUQ,GAAV,EAAe,IAAIW,KAAJ,CAAU,6BAAV,CAAf;AACA;AACH;;AACDlB,oBAAcZ,KAAd,CAAoB;AAChBsD,IAAAA,EAAE,EAAE3C,WADY;AAEhBa,IAAAA,OAAO,EAAEJ,GAFO;AAGhBP,IAAAA,SAAS,EAAE,IAHK;AAIhBC,IAAAA,WAAW,EAAE;AAJG,GAApB,EAMKX,KANL,GAOKE,IAPL,CAOWoE,eAAD,IAAqB;AACvB/D,IAAAA,aAAa,CAACC,WAAD,CAAb,CACKN,IADL,CACWqE,UAAD,IAAgB;AAClB7E,MAAAA,oBAAoB,CAAC4E,eAAe,CAAChE,GAAhB,CAAoB,SAApB,CAAD,CAApB,CACKJ,IADL,CACWE,OAAD,IAAa;AACf,oCAAYY,GAAZ,EAAiB;AACbZ,UAAAA,OADa;AAEbmE,UAAAA,UAFa;AAGbC,UAAAA,WAAW,EAAEpE,OAAO,GAAGmE;AAHV,SAAjB;AAKH,OAPL,EAQK9C,KARL,CAQYC,GAAD,IAAS;AACZ,cAAMA,GAAN;AACH,OAVL;AAWH,KAbL,EAcKD,KAdL,CAcYC,GAAD,IAAS;AACZ,YAAMA,GAAN;AACH,KAhBL;AAiBH,GAzBL,EA0BKD,KA1BL,CA0BYC,GAAD,IAAS;AACZqB,IAAAA,OAAO,CAACC,KAAR,CAActB,GAAd;AACA,8BAAUV,GAAV,EAAe,IAAIW,KAAJ,CAAU,8BAAV,CAAf;AACH,GA7BL;AA8BH,CAtCD;;AAyCApC,MAAM,CAACkF,KAAP,CAAa,QAAb,EAAuBC,IAAvB,CAA4B5D,WAA5B;AACAvB,MAAM,CAACkF,KAAP,CAAa,QAAb,EAAuBE,MAAvB,CAA8B1B,WAA9B;AACA1D,MAAM,CAACkF,KAAP,CAAa,0BAAb,EAAyCnE,GAAzC,CAA6CgD,YAA7C;AACA/D,MAAM,CAACkF,KAAP,CAAa,qBAAb,EAAoCnE,GAApC,CAAwCoD,mBAAxC;AACAnE,MAAM,CAACkF,KAAP,CAAa,0BAAb,EAAyCnE,GAAzC,CAA6C+D,cAA7C;eAGe9E,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport db from '../db';\r\n// Models\r\nimport DeskModel from '../models/desk';\r\nimport DeskUserModel from '../models/deskUser';\r\nimport AverageTimeModel from '../models/averageTime';\r\n// Utils that determine response type\r\nimport {errorResp, successResp} from '../util/http_util';\r\nconst router = express.Router();\r\n\r\n// Functions\r\n\r\n/**\r\n * Get latest average time of desk, default 1\r\n * @param {Integer} deskId\r\n */\r\n\r\n//This function is called by getCurrentInfo function and calculates the average time of the desks to be used in bar chart.\r\nconst getAverageTimeOfDesk = (deskId) => {\r\n    return AverageTimeModel.where({\r\n        desk_id: deskId,\r\n    })\r\n        .orderBy('id', 'DESC')\r\n        .fetch({require: false})\r\n        .then((fetchedAverageTime) => {\r\n            const avgTime = Number(fetchedAverageTime.get('time') || 1);\r\n            return avgTime;\r\n        });\r\n};\r\n\r\n/**\r\n * \r\n * @param {Integer} queueNumber\r\n */\r\n\r\n // This function is called by getCurrentInfo function and calculates the how many people is infront of the given queueNumber\r\n // for to be used in bar chart.\r\nconst getFrontCount = (queueNumber) => {\r\n    \r\n    return DeskUserModel.where('id', '<', queueNumber)\r\n        .where({\r\n            is_active: true,\r\n            is_finished: false,\r\n        })\r\n        .count('id')\r\n        .then((total) => Number(total));\r\n};\r\n\r\n\r\n// Endpoints\r\n\r\n//This function add users to the queue.\r\nconst joinToQueue = async (req, res) => {\r\n    \r\n    const {uid} = req.userData;\r\n    //in active desk fetch evey data is queue have people inside fetch id, desk id related data\r\n    //if no user is in queue place first user to the first desk\r\n    let deskIdWithMinNumUser;\r\n    const is_userInQueue = await DeskUserModel.where(\r\n        {\r\n            user_id:uid,\r\n            is_active:true\r\n        }\r\n    ).fetchAll(\r\n        {\r\n            columns: ['user_id', 'desk_id'],\r\n            require: true,\r\n        }\r\n    ).then((result) => true).catch(err=>false)\r\n        if(is_userInQueue){\r\n            errorResp(res, new Error(\"User already in queue\"))\r\n        }else{\r\n            DeskModel.where({\r\n       \r\n                is_active: true,\r\n                is_deleted: false,\r\n            })\r\n                .fetchAll()\r\n                .then(async (result) => {\r\n         \r\n        \r\n                    const deskUserData = await DeskUserModel.where(\r\n                        {\r\n                            is_active:true,\r\n                        }\r\n                    ).fetchAll(\r\n                        {\r\n                            columns: ['user_id', 'desk_id'],\r\n                            require: true,\r\n                        }\r\n                    ).then((result) => result)\r\n                    .catch(err => {\r\n                        \r\n                        return false;\r\n                    })\r\n\r\n                    //No user in queue.\r\n\r\n                   if(!deskUserData){\r\n                    deskIdWithMinNumUser=1;\r\n                   }else{\r\n\r\n                    //How many desk are there.\r\n\r\n                    const deskCount = result.length;\r\n\r\n                    //Store all desk ids.\r\n\r\n                    let deskIdArray = [];\r\n\r\n                    //Store number of people in each desk.\r\n\r\n                    let DeskUserCountArray = [];\r\n                    for(let i=0; i<deskCount; i++){\r\n\r\n                        //Initialize all desk with 0 people in queue.\r\n\r\n                        deskIdArray[i] = i+1; \r\n                        DeskUserCountArray[i]=0;\r\n\r\n                    }   // Users that are currently in que.\r\n                        deskUserData.models.forEach(model =>{      \r\n                            const deskId = model.attributes.desk_id;\r\n                            if( DeskUserCountArray[deskId-1] >=0){\r\n                                DeskUserCountArray[deskId-1]+=1;\r\n                               }else{\r\n                                DeskUserCountArray[deskId-1]=1;\r\n                               }\r\n                        });\r\n                        const minNumUser = Math.min.apply(null, DeskUserCountArray)\r\n                        deskIdWithMinNumUser = deskIdArray[DeskUserCountArray.indexOf(minNumUser)];\r\n                   }\r\n                    \r\n                    new DeskUserModel({\r\n                        desk_id: deskIdWithMinNumUser,\r\n                        user_id: uid,\r\n                    })\r\n                        .save()\r\n                        .then((savedQueue) => {\r\n                            successResp(res, savedQueue);\r\n                        })\r\n                        .catch((err) => {\r\n                            console.error(err);\r\n                            errorResp(res, new Error('user has not been added'));\r\n                        });\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    errorResp(res, new Error('desk must be valid'));\r\n                });\r\n        }\r\n   \r\n};\r\n// This function is for giving up the queue by users' will.\r\n// Giving desk id and user id, where in active desk and active user in queue, change user status to false\r\nconst giveUpQueue = (req, res) => {\r\n    const {deskId} = req.body;\r\n    const {uid} = req.userData;\r\n\r\n    if (!deskId) {\r\n        errorResp(res, new Error('deskId must be exists'));\r\n        return;\r\n    }\r\n\r\n    DeskModel.where({\r\n        id: deskId,\r\n        is_active: true,\r\n        is_deleted: false,\r\n    })\r\n        .fetch()\r\n        .then(() => {\r\n            DeskUserModel.where({\r\n                desk_id: deskId,\r\n                user_id: uid,\r\n                is_active: true,\r\n            })\r\n                .save({is_active: false}, {method: 'update'})\r\n                .then((updatedQueue) => {\r\n                    successResp(res, updatedQueue);\r\n                })\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    errorResp(res, new Error('user has not been given up'));\r\n                });\r\n        })\r\n        .catch((err) => {\r\n            console.error(err);\r\n            errorResp(res, new Error('desk must be valid'));\r\n        });\r\n};\r\n\r\n//This function get desk id and count the users that are not finished their task\r\n//and returns length of current queue.\r\nconst getOccupancy = (req, res) => {\r\n    const {deskId} = req.params;\r\n\r\n    if (!Number.isInteger(Number(deskId))) {\r\n        errorResp(res, new Error('deskId must be number'));\r\n        return;\r\n    }\r\n\r\n    DeskUserModel.where({\r\n        desk_id: deskId,\r\n        is_active: true,\r\n        is_finished: false,\r\n    })\r\n        .count('id')\r\n        .then((count) => {\r\n            successResp(res, {\r\n                total: parseInt(count),\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            console.error(err);\r\n            errorResp(res, new Error('No queue occupancy'));\r\n        });\r\n};\r\n\r\n// This function query database for active desk id and returns the queue lenght and occupancy times\r\nconst getOccupancyAllDesk = (req, res) => {\r\n\r\n    DeskUserModel\r\n        .query( (qb) => {\r\n            qb.select(db.raw('desk_id, count(id) as count'));\r\n            qb.groupBy('desk_id');\r\n            qb.where({\r\n                is_active: true,\r\n                is_finished: false,\r\n            });\r\n        })\r\n        .fetchAll()\r\n        .then((result) => {\r\n                \r\n            let totalCount = 0;\r\n            result.forEach(r => {\r\n                totalCount += parseInt(r.get('count'));\r\n            });\r\n\r\n            successResp(res, {\r\n                DeskCount:  result.length,\r\n                AvgUser: (totalCount/result.length)\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            console.error(err);\r\n            errorResp(res, new Error('No queue occupancy for any desk'));\r\n        });\r\n};\r\n\r\n//This function takes queue number and user id for active queue return how many people is in front than get average time of the desk\r\n\r\nconst getCurrentInfo = (req, res) => {\r\n    const {queueNumber} = req.params; \r\n    const {uid} = req.userData;\r\n\r\n    if (!Number.isInteger(Number(queueNumber))) {\r\n        errorResp(res, new Error('queue number must be number'));\r\n        return;\r\n    }\r\n    DeskUserModel.where({\r\n        id: queueNumber,\r\n        user_id: uid,\r\n        is_active: true,\r\n        is_finished: false,\r\n    })\r\n        .fetch()\r\n        .then((fetchedDeskUser) => {\r\n            getFrontCount(queueNumber)\r\n                .then((frontCount) => {\r\n                    getAverageTimeOfDesk(fetchedDeskUser.get('desk_id'))\r\n                        .then((avgTime) => {\r\n                            successResp(res, {\r\n                                avgTime,\r\n                                frontCount,\r\n                                waitingTime: avgTime * frontCount,\r\n                            });\r\n                        })\r\n                        .catch((err) => {\r\n                            throw err;\r\n                        });\r\n                })\r\n                .catch((err) => {\r\n                    throw err;\r\n                });\r\n        })\r\n        .catch((err) => {\r\n            console.error(err);\r\n            errorResp(res, new Error('queue number does not exists'));\r\n        });\r\n};\r\n\r\n\r\nrouter.route('/queue').post(joinToQueue);\r\nrouter.route('/queue').delete(giveUpQueue);\r\nrouter.route('/queue/occupancy/:deskId').get(getOccupancy);\r\nrouter.route('/queue/allOccupancy').get(getOccupancyAllDesk);\r\nrouter.route('/queue/info/:queueNumber').get(getCurrentInfo);\r\n\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609259922310
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\db\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\db\\\\index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\db\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\db\\index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\db\\index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\db\\index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\db\\",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst config = require('config');\n\nconst path = require('path'); // Databse information\n\n\nconst knexConnector = require('knex')({\n  client: 'pg',\n  connection: {\n    host: \"127.0.0.1\",\n    user: \"me\",\n    password: \"databasepostgrepass589\",\n    database: \"projectdb\",\n    charset: 'utf8'\n  },\n  useNullAsDefault: true,\n  log: {\n    warn(message) {}\n\n  },\n  migrations: {\n    directory: path.join(__dirname, 'tables/'),\n    tableName: 'migrations'\n  },\n  seeds: {\n    directory: path.join(__dirname, 'seeds/')\n  }\n});\n\nmodule.exports = knexConnector;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbmZpZyIsInJlcXVpcmUiLCJwYXRoIiwia25leENvbm5lY3RvciIsImNsaWVudCIsImNvbm5lY3Rpb24iLCJob3N0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJjaGFyc2V0IiwidXNlTnVsbEFzRGVmYXVsdCIsImxvZyIsIndhcm4iLCJtZXNzYWdlIiwibWlncmF0aW9ucyIsImRpcmVjdG9yeSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJ0YWJsZU5hbWUiLCJzZWVkcyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxJQUFJLEdBQUdELE9BQU8sQ0FBQyxNQUFELENBQXBCLEMsQ0FDQTs7O0FBQ0EsTUFBTUUsYUFBYSxHQUFHRixPQUFPLENBQUMsTUFBRCxDQUFQLENBQWdCO0FBQ2xDRyxFQUFBQSxNQUFNLEVBQUUsSUFEMEI7QUFFbENDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxJQUFJLEVBQUcsV0FEQztBQUVSQyxJQUFBQSxJQUFJLEVBQUcsSUFGQztBQUdSQyxJQUFBQSxRQUFRLEVBQUcsd0JBSEg7QUFJUkMsSUFBQUEsUUFBUSxFQUFHLFdBSkg7QUFLUkMsSUFBQUEsT0FBTyxFQUFFO0FBTEQsR0FGc0I7QUFVbENDLEVBQUFBLGdCQUFnQixFQUFFLElBVmdCO0FBV2xDQyxFQUFBQSxHQUFHLEVBQUU7QUFDREMsSUFBQUEsSUFBSSxDQUFDQyxPQUFELEVBQVUsQ0FDYjs7QUFGQSxHQVg2QjtBQWVsQ0MsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFNBQVMsRUFBRWQsSUFBSSxDQUFDZSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsU0FBckIsQ0FESDtBQUVSQyxJQUFBQSxTQUFTLEVBQUU7QUFGSCxHQWZzQjtBQW1CbENDLEVBQUFBLEtBQUssRUFBRTtBQUNISixJQUFBQSxTQUFTLEVBQUVkLElBQUksQ0FBQ2UsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFFBQXJCO0FBRFI7QUFuQjJCLENBQWhCLENBQXRCOztBQXdCQUcsTUFBTSxDQUFDQyxPQUFQLEdBQWlCbkIsYUFBakIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcZGJcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJ2NvbmZpZycpO1xyXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4vLyBEYXRhYnNlIGluZm9ybWF0aW9uXHJcbmNvbnN0IGtuZXhDb25uZWN0b3IgPSByZXF1aXJlKCdrbmV4Jykoe1xyXG4gICAgY2xpZW50OiAncGcnLFxyXG4gICAgY29ubmVjdGlvbjoge1xyXG4gICAgICAgIGhvc3QgOiBcIjEyNy4wLjAuMVwiLFxyXG4gICAgICAgIHVzZXIgOiBcIm1lXCIsXHJcbiAgICAgICAgcGFzc3dvcmQgOiBcImRhdGFiYXNlcG9zdGdyZXBhc3M1ODlcIixcclxuICAgICAgICBkYXRhYmFzZSA6IFwicHJvamVjdGRiXCIsXHJcbiAgICAgICAgY2hhcnNldDogJ3V0ZjgnXHJcblxyXG4gICAgfSxcclxuICAgIHVzZU51bGxBc0RlZmF1bHQ6IHRydWUsXHJcbiAgICBsb2c6IHtcclxuICAgICAgICB3YXJuKG1lc3NhZ2UpIHtcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIG1pZ3JhdGlvbnM6IHtcclxuICAgICAgICBkaXJlY3Rvcnk6IHBhdGguam9pbihfX2Rpcm5hbWUsICd0YWJsZXMvJyksXHJcbiAgICAgICAgdGFibGVOYW1lOiAnbWlncmF0aW9ucycsXHJcbiAgICB9LFxyXG4gICAgc2VlZHM6IHtcclxuICAgICAgICBkaXJlY3Rvcnk6IHBhdGguam9pbihfX2Rpcm5hbWUsICdzZWVkcy8nKSxcclxuICAgIH0sXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBrbmV4Q29ubmVjdG9yO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "config",
        "require",
        "path",
        "knexConnector",
        "client",
        "connection",
        "host",
        "user",
        "password",
        "database",
        "charset",
        "useNullAsDefault",
        "log",
        "warn",
        "message",
        "migrations",
        "directory",
        "join",
        "__dirname",
        "tableName",
        "seeds",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB,C,CACA;;;AACA,MAAME,aAAa,GAAGF,OAAO,CAAC,MAAD,CAAP,CAAgB;AAClCG,EAAAA,MAAM,EAAE,IAD0B;AAElCC,EAAAA,UAAU,EAAE;AACRC,IAAAA,IAAI,EAAG,WADC;AAERC,IAAAA,IAAI,EAAG,IAFC;AAGRC,IAAAA,QAAQ,EAAG,wBAHH;AAIRC,IAAAA,QAAQ,EAAG,WAJH;AAKRC,IAAAA,OAAO,EAAE;AALD,GAFsB;AAUlCC,EAAAA,gBAAgB,EAAE,IAVgB;AAWlCC,EAAAA,GAAG,EAAE;AACDC,IAAAA,IAAI,CAACC,OAAD,EAAU,CACb;;AAFA,GAX6B;AAelCC,EAAAA,UAAU,EAAE;AACRC,IAAAA,SAAS,EAAEd,IAAI,CAACe,IAAL,CAAUC,SAAV,EAAqB,SAArB,CADH;AAERC,IAAAA,SAAS,EAAE;AAFH,GAfsB;AAmBlCC,EAAAA,KAAK,EAAE;AACHJ,IAAAA,SAAS,EAAEd,IAAI,CAACe,IAAL,CAAUC,SAAV,EAAqB,QAArB;AADR;AAnB2B,CAAhB,CAAtB;;AAwBAG,MAAM,CAACC,OAAP,GAAiBnB,aAAjB",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\db\\",
      "sourcesContent": [
        "const config = require('config');\r\nconst path = require('path');\r\n// Databse information\r\nconst knexConnector = require('knex')({\r\n    client: 'pg',\r\n    connection: {\r\n        host : \"127.0.0.1\",\r\n        user : \"me\",\r\n        password : \"databasepostgrepass589\",\r\n        database : \"projectdb\",\r\n        charset: 'utf8'\r\n\r\n    },\r\n    useNullAsDefault: true,\r\n    log: {\r\n        warn(message) {\r\n        },\r\n    },\r\n    migrations: {\r\n        directory: path.join(__dirname, 'tables/'),\r\n        tableName: 'migrations',\r\n    },\r\n    seeds: {\r\n        directory: path.join(__dirname, 'seeds/'),\r\n    },\r\n});\r\n\r\nmodule.exports = knexConnector;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609258311428
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\desk.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\desk.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\desk.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\desk.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "desk.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Models that address tables in data base used by due to ORM\nconst bookshelf = require('bookshelf')(_db.default);\n\nconst Desk = bookshelf.model('Desk', {\n  tableName: 'desks'\n});\nvar _default = Desk;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2suanMiXSwibmFtZXMiOlsiYm9va3NoZWxmIiwicmVxdWlyZSIsImRiIiwiRGVzayIsIm1vZGVsIiwidGFibGVOYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTtBQUNBLE1BQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBUCxDQUFxQkMsV0FBckIsQ0FBbEI7O0FBRUEsTUFBTUMsSUFBSSxHQUFHSCxTQUFTLENBQUNJLEtBQVYsQ0FBZ0IsTUFBaEIsRUFBd0I7QUFDakNDLEVBQUFBLFNBQVMsRUFBRTtBQURzQixDQUF4QixDQUFiO2VBSWVGLEkiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSAnLi4vZGInO1xyXG4vL01vZGVscyB0aGF0IGFkZHJlc3MgdGFibGVzIGluIGRhdGEgYmFzZSB1c2VkIGJ5IGR1ZSB0byBPUk1cclxuY29uc3QgYm9va3NoZWxmID0gcmVxdWlyZSgnYm9va3NoZWxmJykoZGIpO1xyXG5cclxuY29uc3QgRGVzayA9IGJvb2tzaGVsZi5tb2RlbCgnRGVzaycsIHtcclxuICAgIHRhYmxlTmFtZTogJ2Rlc2tzJyxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZXNrO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "desk.js"
      ],
      "names": [
        "bookshelf",
        "require",
        "db",
        "Desk",
        "model",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB;;AAEA,MAAMC,IAAI,GAAGH,SAAS,CAACI,KAAV,CAAgB,MAAhB,EAAwB;AACjCC,EAAAA,SAAS,EAAE;AADsB,CAAxB,CAAb;eAIeF,I",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import db from '../db';\r\n//Models that address tables in data base used by due to ORM\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\nconst Desk = bookshelf.model('Desk', {\r\n    tableName: 'desks',\r\n});\r\n\r\nexport default Desk;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257257635
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\deskUser.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\deskUser.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\deskUser.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\deskUser.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "deskUser.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Models that address tables in data base used by due to ORM\nconst bookshelf = require('bookshelf')(_db.default);\n\nconst DeskUser = bookshelf.model('DeskUser', {\n  tableName: 'desk_user'\n});\nvar _default = DeskUser;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2tVc2VyLmpzIl0sIm5hbWVzIjpbImJvb2tzaGVsZiIsInJlcXVpcmUiLCJkYiIsIkRlc2tVc2VyIiwibW9kZWwiLCJ0YWJsZU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBQ0EsTUFBTUEsU0FBUyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFQLENBQXFCQyxXQUFyQixDQUFsQjs7QUFFQSxNQUFNQyxRQUFRLEdBQUdILFNBQVMsQ0FBQ0ksS0FBVixDQUFnQixVQUFoQixFQUE0QjtBQUN6Q0MsRUFBQUEsU0FBUyxFQUFFO0FBRDhCLENBQTVCLENBQWpCO2VBSWVGLFEiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSAnLi4vZGInO1xyXG4vL01vZGVscyB0aGF0IGFkZHJlc3MgdGFibGVzIGluIGRhdGEgYmFzZSB1c2VkIGJ5IGR1ZSB0byBPUk1cclxuY29uc3QgYm9va3NoZWxmID0gcmVxdWlyZSgnYm9va3NoZWxmJykoZGIpO1xyXG5cclxuY29uc3QgRGVza1VzZXIgPSBib29rc2hlbGYubW9kZWwoJ0Rlc2tVc2VyJywge1xyXG4gICAgdGFibGVOYW1lOiAnZGVza191c2VyJyxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZXNrVXNlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "deskUser.js"
      ],
      "names": [
        "bookshelf",
        "require",
        "db",
        "DeskUser",
        "model",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB;;AAEA,MAAMC,QAAQ,GAAGH,SAAS,CAACI,KAAV,CAAgB,UAAhB,EAA4B;AACzCC,EAAAA,SAAS,EAAE;AAD8B,CAA5B,CAAjB;eAIeF,Q",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import db from '../db';\r\n//Models that address tables in data base used by due to ORM\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\nconst DeskUser = bookshelf.model('DeskUser', {\r\n    tableName: 'desk_user',\r\n});\r\n\r\nexport default DeskUser;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257259400
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\averageTime.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\averageTime.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\averageTime.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\averageTime.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "averageTime.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Models that address tables in data base used by due to ORM\nconst bookshelf = require('bookshelf')(_db.default);\n\nconst AverageTime = bookshelf.model('AverageTime', {\n  tableName: 'average_time'\n});\nvar _default = AverageTime;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF2ZXJhZ2VUaW1lLmpzIl0sIm5hbWVzIjpbImJvb2tzaGVsZiIsInJlcXVpcmUiLCJkYiIsIkF2ZXJhZ2VUaW1lIiwibW9kZWwiLCJ0YWJsZU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBO0FBQ0EsTUFBTUEsU0FBUyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFQLENBQXFCQyxXQUFyQixDQUFsQjs7QUFFQSxNQUFNQyxXQUFXLEdBQUdILFNBQVMsQ0FBQ0ksS0FBVixDQUFnQixhQUFoQixFQUErQjtBQUMvQ0MsRUFBQUEsU0FBUyxFQUFFO0FBRG9DLENBQS9CLENBQXBCO2VBSWVGLFciLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSAnLi4vZGInO1xyXG4vL01vZGVscyB0aGF0IGFkZHJlc3MgdGFibGVzIGluIGRhdGEgYmFzZSB1c2VkIGJ5IGR1ZSB0byBPUk1cclxuY29uc3QgYm9va3NoZWxmID0gcmVxdWlyZSgnYm9va3NoZWxmJykoZGIpO1xyXG5cclxuY29uc3QgQXZlcmFnZVRpbWUgPSBib29rc2hlbGYubW9kZWwoJ0F2ZXJhZ2VUaW1lJywge1xyXG4gICAgdGFibGVOYW1lOiAnYXZlcmFnZV90aW1lJyxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBdmVyYWdlVGltZTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "averageTime.js"
      ],
      "names": [
        "bookshelf",
        "require",
        "db",
        "AverageTime",
        "model",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB;;AAEA,MAAMC,WAAW,GAAGH,SAAS,CAACI,KAAV,CAAgB,aAAhB,EAA+B;AAC/CC,EAAAA,SAAS,EAAE;AADoC,CAA/B,CAApB;eAIeF,W",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import db from '../db';\r\n//Models that address tables in data base used by due to ORM\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\nconst AverageTime = bookshelf.model('AverageTime', {\r\n    tableName: 'average_time',\r\n});\r\n\r\nexport default AverageTime;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257252472
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\util\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\util\\\\http_util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\http_util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\http_util.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\http_util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\",
        "sourceFileName": "http_util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorResp = exports.successResp = void 0;\n\n//Middleware Response types determine positive or negative response.\nconst successResp = (res, data, code = 200) => {\n  res.status(code).json(data);\n};\n\nexports.successResp = successResp;\n\nconst errorResp = (res, err, code = 400) => {\n  res.status(code).json({\n    error: err,\n    message: err.message\n  });\n};\n\nexports.errorResp = errorResp;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBfdXRpbC5qcyJdLCJuYW1lcyI6WyJzdWNjZXNzUmVzcCIsInJlcyIsImRhdGEiLCJjb2RlIiwic3RhdHVzIiwianNvbiIsImVycm9yUmVzcCIsImVyciIsImVycm9yIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBRUEsTUFBTUEsV0FBVyxHQUFHLENBQUNDLEdBQUQsRUFBTUMsSUFBTixFQUFZQyxJQUFJLEdBQUcsR0FBbkIsS0FBMkI7QUFDM0NGLEVBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXRCxJQUFYLEVBQWlCRSxJQUFqQixDQUFzQkgsSUFBdEI7QUFDSCxDQUZEOzs7O0FBSUEsTUFBTUksU0FBUyxHQUFHLENBQUNMLEdBQUQsRUFBTU0sR0FBTixFQUFXSixJQUFJLEdBQUcsR0FBbEIsS0FBMEI7QUFDeENGLEVBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXRCxJQUFYLEVBQWlCRSxJQUFqQixDQUFzQjtBQUNsQkcsSUFBQUEsS0FBSyxFQUFFRCxHQURXO0FBRWxCRSxJQUFBQSxPQUFPLEVBQUVGLEdBQUcsQ0FBQ0U7QUFGSyxHQUF0QjtBQUlILENBTEQiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcdXRpbFxcIiwic291cmNlc0NvbnRlbnQiOlsiLy9NaWRkbGV3YXJlIFJlc3BvbnNlIHR5cGVzIGRldGVybWluZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSByZXNwb25zZS5cclxuXHJcbmNvbnN0IHN1Y2Nlc3NSZXNwID0gKHJlcywgZGF0YSwgY29kZSA9IDIwMCkgPT4ge1xyXG4gICAgcmVzLnN0YXR1cyhjb2RlKS5qc29uKGRhdGEpO1xyXG59O1xyXG5cclxuY29uc3QgZXJyb3JSZXNwID0gKHJlcywgZXJyLCBjb2RlID0gNDAwKSA9PiB7XHJcbiAgICByZXMuc3RhdHVzKGNvZGUpLmpzb24oe1xyXG4gICAgICAgIGVycm9yOiBlcnIsXHJcbiAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXHJcbiAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCB7c3VjY2Vzc1Jlc3AsIGVycm9yUmVzcH07XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "http_util.js"
      ],
      "names": [
        "successResp",
        "res",
        "data",
        "code",
        "status",
        "json",
        "errorResp",
        "err",
        "error",
        "message"
      ],
      "mappings": ";;;;;;;AAAA;AAEA,MAAMA,WAAW,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAI,GAAG,GAAnB,KAA2B;AAC3CF,EAAAA,GAAG,CAACG,MAAJ,CAAWD,IAAX,EAAiBE,IAAjB,CAAsBH,IAAtB;AACH,CAFD;;;;AAIA,MAAMI,SAAS,GAAG,CAACL,GAAD,EAAMM,GAAN,EAAWJ,IAAI,GAAG,GAAlB,KAA0B;AACxCF,EAAAA,GAAG,CAACG,MAAJ,CAAWD,IAAX,EAAiBE,IAAjB,CAAsB;AAClBG,IAAAA,KAAK,EAAED,GADW;AAElBE,IAAAA,OAAO,EAAEF,GAAG,CAACE;AAFK,GAAtB;AAIH,CALD",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\",
      "sourcesContent": [
        "//Middleware Response types determine positive or negative response.\r\n\r\nconst successResp = (res, data, code = 200) => {\r\n    res.status(code).json(data);\r\n};\r\n\r\nconst errorResp = (res, err, code = 400) => {\r\n    res.status(code).json({\r\n        error: err,\r\n        message: err.message,\r\n    });\r\n};\r\n\r\nexport {successResp, errorResp};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609252697600
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\qr_code_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\qr_code_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\qr_code_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\qr_code_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "qr_code_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _qrCode = _interopRequireDefault(require(\"../models/qrCode\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nvar _request = _interopRequireDefault(require(\"request\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _cryptoRandomString = require(\"crypto-random-string\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Requirements\n// Utils that determine response type\nlet qnum = 0; //Create Number for QR\n\nconst generateQR = (req, res) => {\n  const qrIns = {\n    code: qnum = qnum + 1,\n    isActive: true,\n    created_at: (0, _moment.default)().format('YYYY-MM-DD HH:mm:ss')\n  };\n  new _qrCode.default(qrIns).save().then(savedQR => {\n    (0, _http_util.successResp)(res, savedQR, 201);\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; // Use QR change activity to QR code\n\n\nconst useQR = (req, res) => {\n  const {\n    code\n  } = req.params;\n\n  _qrCode.default.where({\n    code,\n    isActive: true\n  }).save({\n    isActive: false,\n    used_at: (0, _moment.default)().format('YYYY-MM-DD HH:mm:ss')\n  }, {\n    method: 'update'\n  }).then(() => {\n    (0, _http_util.successResp)(res, true);\n    sendQR(code);\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; // Send qr number to the kiosk machine's url.\n\n\nasync function sendQR(qr) {\n  const apiURL = \"http://168.119.190.83\";\n  console.log(qr);\n\n  if (!apiURL) {\n    console.error('API URL was not set');\n    return;\n  }\n\n  _request.default.post(apiURL, {\n    json: {\n      qnumber: qr\n    }\n  });\n}\n\nconst router = _express.default.Router();\n\nrouter.route('/qr/').post(generateQR);\nrouter.route('/qr/:code').put(useQR);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInFyX2NvZGVfc2VydmljZS5qcyJdLCJuYW1lcyI6WyJxbnVtIiwiZ2VuZXJhdGVRUiIsInJlcSIsInJlcyIsInFySW5zIiwiY29kZSIsImlzQWN0aXZlIiwiY3JlYXRlZF9hdCIsImZvcm1hdCIsIlFyQ29kZSIsInNhdmUiLCJ0aGVuIiwic2F2ZWRRUiIsImNhdGNoIiwiZXJyIiwidXNlUVIiLCJwYXJhbXMiLCJ3aGVyZSIsInVzZWRfYXQiLCJtZXRob2QiLCJzZW5kUVIiLCJxciIsImFwaVVSTCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInJlcXVlc3QiLCJwb3N0IiwianNvbiIsInFudW1iZXIiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicm91dGUiLCJwdXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFDQTs7OztBQVZBO0FBRUE7QUFFQTtBQU9BLElBQUlBLElBQUksR0FBRyxDQUFYLEMsQ0FFQTs7QUFFQSxNQUFNQyxVQUFVLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDN0IsUUFBTUMsS0FBSyxHQUFHO0FBQ1ZDLElBQUFBLElBQUksRUFBR0wsSUFBSSxHQUFHQSxJQUFJLEdBQUcsQ0FEWDtBQUVWTSxJQUFBQSxRQUFRLEVBQUUsSUFGQTtBQUdWQyxJQUFBQSxVQUFVLEVBQUUsdUJBQVNDLE1BQVQsQ0FBZ0IscUJBQWhCO0FBSEYsR0FBZDtBQU1BLE1BQUlDLGVBQUosQ0FBV0wsS0FBWCxFQUNLTSxJQURMLEdBRUtDLElBRkwsQ0FFV0MsT0FBRCxJQUFhO0FBQ2YsZ0NBQVlULEdBQVosRUFBaUJTLE9BQWpCLEVBQTBCLEdBQTFCO0FBRUgsR0FMTCxFQU1LQyxLQU5MLENBTVlDLEdBQUQsSUFBUztBQUNaLDhCQUFVWCxHQUFWLEVBQWVXLEdBQWY7QUFDSCxHQVJMO0FBU0gsQ0FoQkQsQyxDQWtCQTs7O0FBRUEsTUFBTUMsS0FBSyxHQUFHLENBQUNiLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ3hCLFFBQU07QUFBRUUsSUFBQUE7QUFBRixNQUFXSCxHQUFHLENBQUNjLE1BQXJCOztBQUVBUCxrQkFBT1EsS0FBUCxDQUFhO0FBQUVaLElBQUFBLElBQUY7QUFBUUMsSUFBQUEsUUFBUSxFQUFFO0FBQWxCLEdBQWIsRUFDS0ksSUFETCxDQUVRO0FBQ0lKLElBQUFBLFFBQVEsRUFBRSxLQURkO0FBRUlZLElBQUFBLE9BQU8sRUFBRSx1QkFBU1YsTUFBVCxDQUFnQixxQkFBaEI7QUFGYixHQUZSLEVBTVE7QUFBRVcsSUFBQUEsTUFBTSxFQUFFO0FBQVYsR0FOUixFQVFLUixJQVJMLENBUVUsTUFBTTtBQUNSLGdDQUFZUixHQUFaLEVBQWlCLElBQWpCO0FBQ0FpQixJQUFBQSxNQUFNLENBQUNmLElBQUQsQ0FBTjtBQUNILEdBWEwsRUFZS1EsS0FaTCxDQVlZQyxHQUFELElBQVM7QUFDWiw4QkFBVVgsR0FBVixFQUFlVyxHQUFmO0FBQ0gsR0FkTDtBQWVILENBbEJELEMsQ0FvQkE7OztBQUNBLGVBQWVNLE1BQWYsQ0FBc0JDLEVBQXRCLEVBQTBCO0FBRXRCLFFBQU1DLE1BQU0sR0FBRyx1QkFBZjtBQUNBQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUgsRUFBWjs7QUFDQSxNQUFJLENBQUNDLE1BQUwsRUFBYTtBQUNUQyxJQUFBQSxPQUFPLENBQUNFLEtBQVIsQ0FBYyxxQkFBZDtBQUNBO0FBQ0g7O0FBQ0RDLG1CQUFRQyxJQUFSLENBQ0lMLE1BREosRUFFSTtBQUNJTSxJQUFBQSxJQUFJLEVBQUU7QUFDRkMsTUFBQUEsT0FBTyxFQUFFUjtBQURQO0FBRFYsR0FGSjtBQU9IOztBQUVELE1BQU1TLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFDQUYsTUFBTSxDQUFDRyxLQUFQLENBQWEsTUFBYixFQUFxQk4sSUFBckIsQ0FBMEIxQixVQUExQjtBQUNBNkIsTUFBTSxDQUFDRyxLQUFQLENBQWEsV0FBYixFQUEwQkMsR0FBMUIsQ0FBOEJuQixLQUE5QjtlQUVlZSxNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXHNlcnZpY2VzXFwiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2RlbHNcclxuaW1wb3J0IFFyQ29kZSBmcm9tICcuLi9tb2RlbHMvcXJDb2RlJztcclxuLy8gUmVxdWlyZW1lbnRzXHJcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG4vLyBVdGlscyB0aGF0IGRldGVybWluZSByZXNwb25zZSB0eXBlXHJcbmltcG9ydCB7IGVycm9yUmVzcCwgc3VjY2Vzc1Jlc3AgfSBmcm9tICcuLi91dGlsL2h0dHBfdXRpbCc7XHJcblxyXG5pbXBvcnQgcmVxdWVzdCBmcm9tICdyZXF1ZXN0JztcclxuXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuaW1wb3J0IHsgYXN5bmMgfSBmcm9tICdjcnlwdG8tcmFuZG9tLXN0cmluZyc7XHJcbmxldCBxbnVtID0gMDtcclxuXHJcbi8vQ3JlYXRlIE51bWJlciBmb3IgUVJcclxuXHJcbmNvbnN0IGdlbmVyYXRlUVIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHFySW5zID0ge1xyXG4gICAgICAgIGNvZGU6IChxbnVtID0gcW51bSArIDEpLFxyXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLFxyXG4gICAgfTtcclxuXHJcbiAgICBuZXcgUXJDb2RlKHFySW5zKVxyXG4gICAgICAgIC5zYXZlKClcclxuICAgICAgICAudGhlbigoc2F2ZWRRUikgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHNhdmVkUVIsIDIwMSk7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgZXJyKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbi8vIFVzZSBRUiBjaGFuZ2UgYWN0aXZpdHkgdG8gUVIgY29kZVxyXG5cclxuY29uc3QgdXNlUVIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHsgY29kZSB9ID0gcmVxLnBhcmFtcztcclxuXHJcbiAgICBRckNvZGUud2hlcmUoeyBjb2RlLCBpc0FjdGl2ZTogdHJ1ZSB9KVxyXG4gICAgICAgIC5zYXZlKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB1c2VkX2F0OiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBtZXRob2Q6ICd1cGRhdGUnIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHRydWUpO1xyXG4gICAgICAgICAgICBzZW5kUVIoY29kZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vLyBTZW5kIHFyIG51bWJlciB0byB0aGUga2lvc2sgbWFjaGluZSdzIHVybC5cclxuYXN5bmMgZnVuY3Rpb24gc2VuZFFSKHFyKSB7XHJcblxyXG4gICAgY29uc3QgYXBpVVJMID0gXCJodHRwOi8vMTY4LjExOS4xOTAuODNcIjtcclxuICAgIGNvbnNvbGUubG9nKHFyKTtcclxuICAgIGlmICghYXBpVVJMKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQVBJIFVSTCB3YXMgbm90IHNldCcpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVxdWVzdC5wb3N0KFxyXG4gICAgICAgIGFwaVVSTCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGpzb246IHtcclxuICAgICAgICAgICAgICAgIHFudW1iZXI6IHFyXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG59XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5yb3V0ZXIucm91dGUoJy9xci8nKS5wb3N0KGdlbmVyYXRlUVIpO1xyXG5yb3V0ZXIucm91dGUoJy9xci86Y29kZScpLnB1dCh1c2VRUik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcblxyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "qr_code_service.js"
      ],
      "names": [
        "qnum",
        "generateQR",
        "req",
        "res",
        "qrIns",
        "code",
        "isActive",
        "created_at",
        "format",
        "QrCode",
        "save",
        "then",
        "savedQR",
        "catch",
        "err",
        "useQR",
        "params",
        "where",
        "used_at",
        "method",
        "sendQR",
        "qr",
        "apiURL",
        "console",
        "log",
        "error",
        "request",
        "post",
        "json",
        "qnumber",
        "router",
        "express",
        "Router",
        "route",
        "put"
      ],
      "mappings": ";;;;;;;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AACA;;;;AAVA;AAEA;AAEA;AAOA,IAAIA,IAAI,GAAG,CAAX,C,CAEA;;AAEA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7B,QAAMC,KAAK,GAAG;AACVC,IAAAA,IAAI,EAAGL,IAAI,GAAGA,IAAI,GAAG,CADX;AAEVM,IAAAA,QAAQ,EAAE,IAFA;AAGVC,IAAAA,UAAU,EAAE,uBAASC,MAAT,CAAgB,qBAAhB;AAHF,GAAd;AAMA,MAAIC,eAAJ,CAAWL,KAAX,EACKM,IADL,GAEKC,IAFL,CAEWC,OAAD,IAAa;AACf,gCAAYT,GAAZ,EAAiBS,OAAjB,EAA0B,GAA1B;AAEH,GALL,EAMKC,KANL,CAMYC,GAAD,IAAS;AACZ,8BAAUX,GAAV,EAAeW,GAAf;AACH,GARL;AASH,CAhBD,C,CAkBA;;;AAEA,MAAMC,KAAK,GAAG,CAACb,GAAD,EAAMC,GAAN,KAAc;AACxB,QAAM;AAAEE,IAAAA;AAAF,MAAWH,GAAG,CAACc,MAArB;;AAEAP,kBAAOQ,KAAP,CAAa;AAAEZ,IAAAA,IAAF;AAAQC,IAAAA,QAAQ,EAAE;AAAlB,GAAb,EACKI,IADL,CAEQ;AACIJ,IAAAA,QAAQ,EAAE,KADd;AAEIY,IAAAA,OAAO,EAAE,uBAASV,MAAT,CAAgB,qBAAhB;AAFb,GAFR,EAMQ;AAAEW,IAAAA,MAAM,EAAE;AAAV,GANR,EAQKR,IARL,CAQU,MAAM;AACR,gCAAYR,GAAZ,EAAiB,IAAjB;AACAiB,IAAAA,MAAM,CAACf,IAAD,CAAN;AACH,GAXL,EAYKQ,KAZL,CAYYC,GAAD,IAAS;AACZ,8BAAUX,GAAV,EAAeW,GAAf;AACH,GAdL;AAeH,CAlBD,C,CAoBA;;;AACA,eAAeM,MAAf,CAAsBC,EAAtB,EAA0B;AAEtB,QAAMC,MAAM,GAAG,uBAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;;AACA,MAAI,CAACC,MAAL,EAAa;AACTC,IAAAA,OAAO,CAACE,KAAR,CAAc,qBAAd;AACA;AACH;;AACDC,mBAAQC,IAAR,CACIL,MADJ,EAEI;AACIM,IAAAA,IAAI,EAAE;AACFC,MAAAA,OAAO,EAAER;AADP;AADV,GAFJ;AAOH;;AAED,MAAMS,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,KAAP,CAAa,MAAb,EAAqBN,IAArB,CAA0B1B,UAA1B;AACA6B,MAAM,CAACG,KAAP,CAAa,WAAb,EAA0BC,GAA1B,CAA8BnB,KAA9B;eAEee,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "// Models\r\nimport QrCode from '../models/qrCode';\r\n// Requirements\r\nimport express from 'express';\r\n// Utils that determine response type\r\nimport { errorResp, successResp } from '../util/http_util';\r\n\r\nimport request from 'request';\r\n\r\nimport moment from 'moment';\r\nimport { async } from 'crypto-random-string';\r\nlet qnum = 0;\r\n\r\n//Create Number for QR\r\n\r\nconst generateQR = (req, res) => {\r\n    const qrIns = {\r\n        code: (qnum = qnum + 1),\r\n        isActive: true,\r\n        created_at: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n    };\r\n\r\n    new QrCode(qrIns)\r\n        .save()\r\n        .then((savedQR) => {\r\n            successResp(res, savedQR, 201);\r\n\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n// Use QR change activity to QR code\r\n\r\nconst useQR = (req, res) => {\r\n    const { code } = req.params;\r\n\r\n    QrCode.where({ code, isActive: true })\r\n        .save(\r\n            {\r\n                isActive: false,\r\n                used_at: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n            },\r\n            { method: 'update' }\r\n        )\r\n        .then(() => {\r\n            successResp(res, true);\r\n            sendQR(code)\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n// Send qr number to the kiosk machine's url.\r\nasync function sendQR(qr) {\r\n\r\n    const apiURL = \"http://168.119.190.83\";\r\n    console.log(qr);\r\n    if (!apiURL) {\r\n        console.error('API URL was not set')\r\n        return;\r\n    }\r\n    request.post(\r\n        apiURL,\r\n        {\r\n            json: {\r\n                qnumber: qr\r\n            }\r\n        })\r\n}\r\n\r\nconst router = express.Router();\r\nrouter.route('/qr/').post(generateQR);\r\nrouter.route('/qr/:code').put(useQR);\r\n\r\nexport default router;\r\n\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609255934633
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\qrCode.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\qrCode.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\qrCode.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\qrCode.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "qrCode.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Models that address tables in data base used by due to ORM\nconst bookshelf = require('bookshelf')(_db.default);\n\nconst QrCode = bookshelf.model('QrCode', {\n  tableName: 'qr_code'\n});\nvar _default = QrCode;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInFyQ29kZS5qcyJdLCJuYW1lcyI6WyJib29rc2hlbGYiLCJyZXF1aXJlIiwiZGIiLCJRckNvZGUiLCJtb2RlbCIsInRhYmxlTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7QUFDQSxNQUFNQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQVAsQ0FBcUJDLFdBQXJCLENBQWxCOztBQUVBLE1BQU1DLE1BQU0sR0FBR0gsU0FBUyxDQUFDSSxLQUFWLENBQWdCLFFBQWhCLEVBQTBCO0FBQ3JDQyxFQUFBQSxTQUFTLEVBQUU7QUFEMEIsQ0FBMUIsQ0FBZjtlQUllRixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRiIGZyb20gJy4uL2RiJztcclxuLy9Nb2RlbHMgdGhhdCBhZGRyZXNzIHRhYmxlcyBpbiBkYXRhIGJhc2UgdXNlZCBieSBkdWUgdG8gT1JNXHJcbmNvbnN0IGJvb2tzaGVsZiA9IHJlcXVpcmUoJ2Jvb2tzaGVsZicpKGRiKTtcclxuXHJcbmNvbnN0IFFyQ29kZSA9IGJvb2tzaGVsZi5tb2RlbCgnUXJDb2RlJywge1xyXG4gICAgdGFibGVOYW1lOiAncXJfY29kZScsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUXJDb2RlO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "qrCode.js"
      ],
      "names": [
        "bookshelf",
        "require",
        "db",
        "QrCode",
        "model",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB;;AAEA,MAAMC,MAAM,GAAGH,SAAS,CAACI,KAAV,CAAgB,QAAhB,EAA0B;AACrCC,EAAAA,SAAS,EAAE;AAD0B,CAA1B,CAAf;eAIeF,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import db from '../db';\r\n//Models that address tables in data base used by due to ORM\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\nconst QrCode = bookshelf.model('QrCode', {\r\n    tableName: 'qr_code',\r\n});\r\n\r\nexport default QrCode;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257265048
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\user_info_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\user_info_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\user_info_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\user_info_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "user_info_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _deskUser = _interopRequireDefault(require(\"../models/deskUser\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Utils that determine response type\n// Endpoints\n//  Get the data operations of authenticated user.\n// This function checks id is match or not and return the data that user have.\nconst getUserStatistics = (req, res) => {\n  const {\n    uid\n  } = req.userData;\n  new _user.default().where('id', uid).fetch({\n    columns: ['id', 'username', 'priority_key', 'is_deleted', 'created_at', 'updated_at']\n  }).then(result => {\n    _deskUser.default.where('user_id', result.get('id')).fetchAll().then(operations => {\n      (0, _http_util.successResp)(res, {\n        user: result,\n        operations: operations\n      });\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n};\n\nconst router = _express.default.Router();\n\nrouter.route('/user/getStatistics').get(getUserStatistics);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJfaW5mb19zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImdldFVzZXJTdGF0aXN0aWNzIiwicmVxIiwicmVzIiwidWlkIiwidXNlckRhdGEiLCJVc2VyTW9kZWwiLCJ3aGVyZSIsImZldGNoIiwiY29sdW1ucyIsInRoZW4iLCJyZXN1bHQiLCJEZXNrVXNlck1vZGVsIiwiZ2V0IiwiZmV0Y2hBbGwiLCJvcGVyYXRpb25zIiwidXNlciIsImNhdGNoIiwiZXJyIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInJvdXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7O0FBQ0E7O0FBRUE7Ozs7QUFKQTtBQUdBO0FBR0E7QUFFQTtBQUNBO0FBQ0EsTUFBTUEsaUJBQWlCLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDcEMsUUFBTTtBQUFDQyxJQUFBQTtBQUFELE1BQVFGLEdBQUcsQ0FBQ0csUUFBbEI7QUFFQSxNQUFJQyxhQUFKLEdBQ0tDLEtBREwsQ0FDVyxJQURYLEVBQ2lCSCxHQURqQixFQUVLSSxLQUZMLENBRVc7QUFDSEMsSUFBQUEsT0FBTyxFQUFFLENBQUMsSUFBRCxFQUFPLFVBQVAsRUFBbUIsY0FBbkIsRUFBbUMsWUFBbkMsRUFBaUQsWUFBakQsRUFBK0QsWUFBL0Q7QUFETixHQUZYLEVBS0tDLElBTEwsQ0FLV0MsTUFBRCxJQUFZO0FBQ2RDLHNCQUFjTCxLQUFkLENBQW9CLFNBQXBCLEVBQStCSSxNQUFNLENBQUNFLEdBQVAsQ0FBVyxJQUFYLENBQS9CLEVBQ0tDLFFBREwsR0FFS0osSUFGTCxDQUVXSyxVQUFELElBQWdCO0FBQ2xCLGtDQUFZWixHQUFaLEVBQWlCO0FBQUNhLFFBQUFBLElBQUksRUFBRUwsTUFBUDtBQUFlSSxRQUFBQSxVQUFVLEVBQUVBO0FBQTNCLE9BQWpCO0FBQ0gsS0FKTDtBQUtILEdBWEwsRUFZS0UsS0FaTCxDQVlZQyxHQUFELElBQVM7QUFDWiw4QkFBVWYsR0FBVixFQUFlZSxHQUFmO0FBQ0gsR0FkTDtBQWVILENBbEJEOztBQW9CQSxNQUFNQyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLHFCQUFiLEVBQW9DVCxHQUFwQyxDQUF3Q1osaUJBQXhDO2VBRWVrQixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXHNlcnZpY2VzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuLy8gTW9kZWxzXHJcbmltcG9ydCBVc2VyTW9kZWwgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xyXG5pbXBvcnQgRGVza1VzZXJNb2RlbCBmcm9tICcuLi9tb2RlbHMvZGVza1VzZXInO1xyXG4vLyBVdGlscyB0aGF0IGRldGVybWluZSByZXNwb25zZSB0eXBlXHJcbmltcG9ydCB7ZXJyb3JSZXNwLCBzdWNjZXNzUmVzcH0gZnJvbSAnLi4vdXRpbC9odHRwX3V0aWwnO1xyXG5cclxuLy8gRW5kcG9pbnRzXHJcblxyXG4vLyAgR2V0IHRoZSBkYXRhIG9wZXJhdGlvbnMgb2YgYXV0aGVudGljYXRlZCB1c2VyLlxyXG4vLyBUaGlzIGZ1bmN0aW9uIGNoZWNrcyBpZCBpcyBtYXRjaCBvciBub3QgYW5kIHJldHVybiB0aGUgZGF0YSB0aGF0IHVzZXIgaGF2ZS5cclxuY29uc3QgZ2V0VXNlclN0YXRpc3RpY3MgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHt1aWR9ID0gcmVxLnVzZXJEYXRhO1xyXG5cclxuICAgIG5ldyBVc2VyTW9kZWwoKVxyXG4gICAgICAgIC53aGVyZSgnaWQnLCB1aWQpXHJcbiAgICAgICAgLmZldGNoKHtcclxuICAgICAgICAgICAgY29sdW1uczogWydpZCcsICd1c2VybmFtZScsICdwcmlvcml0eV9rZXknLCAnaXNfZGVsZXRlZCcsICdjcmVhdGVkX2F0JywgJ3VwZGF0ZWRfYXQnXVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBEZXNrVXNlck1vZGVsLndoZXJlKCd1c2VyX2lkJywgcmVzdWx0LmdldCgnaWQnKSlcclxuICAgICAgICAgICAgICAgIC5mZXRjaEFsbCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigob3BlcmF0aW9ucykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NSZXNwKHJlcywge3VzZXI6IHJlc3VsdCwgb3BlcmF0aW9uczogb3BlcmF0aW9uc30pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5yb3V0ZSgnL3VzZXIvZ2V0U3RhdGlzdGljcycpLmdldChnZXRVc2VyU3RhdGlzdGljcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user_info_service.js"
      ],
      "names": [
        "getUserStatistics",
        "req",
        "res",
        "uid",
        "userData",
        "UserModel",
        "where",
        "fetch",
        "columns",
        "then",
        "result",
        "DeskUserModel",
        "get",
        "fetchAll",
        "operations",
        "user",
        "catch",
        "err",
        "router",
        "express",
        "Router",
        "route"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;AACA;;AAEA;;;;AAJA;AAGA;AAGA;AAEA;AACA;AACA,MAAMA,iBAAiB,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AACpC,QAAM;AAACC,IAAAA;AAAD,MAAQF,GAAG,CAACG,QAAlB;AAEA,MAAIC,aAAJ,GACKC,KADL,CACW,IADX,EACiBH,GADjB,EAEKI,KAFL,CAEW;AACHC,IAAAA,OAAO,EAAE,CAAC,IAAD,EAAO,UAAP,EAAmB,cAAnB,EAAmC,YAAnC,EAAiD,YAAjD,EAA+D,YAA/D;AADN,GAFX,EAKKC,IALL,CAKWC,MAAD,IAAY;AACdC,sBAAcL,KAAd,CAAoB,SAApB,EAA+BI,MAAM,CAACE,GAAP,CAAW,IAAX,CAA/B,EACKC,QADL,GAEKJ,IAFL,CAEWK,UAAD,IAAgB;AAClB,kCAAYZ,GAAZ,EAAiB;AAACa,QAAAA,IAAI,EAAEL,MAAP;AAAeI,QAAAA,UAAU,EAAEA;AAA3B,OAAjB;AACH,KAJL;AAKH,GAXL,EAYKE,KAZL,CAYYC,GAAD,IAAS;AACZ,8BAAUf,GAAV,EAAee,GAAf;AACH,GAdL;AAeH,CAlBD;;AAoBA,MAAMC,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,KAAP,CAAa,qBAAb,EAAoCT,GAApC,CAAwCZ,iBAAxC;eAEekB,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import express from 'express';\r\n// Models\r\nimport UserModel from '../models/user';\r\nimport DeskUserModel from '../models/deskUser';\r\n// Utils that determine response type\r\nimport {errorResp, successResp} from '../util/http_util';\r\n\r\n// Endpoints\r\n\r\n//  Get the data operations of authenticated user.\r\n// This function checks id is match or not and return the data that user have.\r\nconst getUserStatistics = (req, res) => {\r\n    const {uid} = req.userData;\r\n\r\n    new UserModel()\r\n        .where('id', uid)\r\n        .fetch({\r\n            columns: ['id', 'username', 'priority_key', 'is_deleted', 'created_at', 'updated_at']\r\n        })\r\n        .then((result) => {\r\n            DeskUserModel.where('user_id', result.get('id'))\r\n                .fetchAll()\r\n                .then((operations) => {\r\n                    successResp(res, {user: result, operations: operations});\r\n                });\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\nconst router = express.Router();\r\n\r\nrouter.route('/user/getStatistics').get(getUserStatistics);\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609259557491
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\user.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _bcrypt = _interopRequireDefault(require(\"bcrypt\"));\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SALT_ROUNDS = 7; // Hash the string and check the value whether it matches or not.\n\nconst hashPassword = password => _bcrypt.default.hash(password, SALT_ROUNDS);\n\nconst verifyPassword = (password, hash) => _bcrypt.default.compare(password, hash);\n\nconst checkAndHash = user => {\n  if (!user.password) return Promise.resolve(user); // Hash the message.\n\n  return hashPassword(user.password).then(hash => {\n    user.password = hash;\n  }).catch(err => `Error Hashing: ${err}`);\n};\n\nconst bookshelf = require('bookshelf')(_db.default); //Models that address tables in data base used by due to ORM.\n\n\nconst User = bookshelf.model('User', {\n  initialize() {\n    this.constructor.__super__.initialize.apply(this, arguments);\n\n    this.on('creating', this.validateSave);\n    this.on('updating', this.validateUpdate);\n  },\n\n  tableName: 'users',\n\n  validateUpdate(model, attrs) {\n    if (model.password !== attrs) return checkAndHash(this.attributes);\n    return this.attributes;\n  },\n\n  validateSave() {\n    return checkAndHash(this.attributes);\n  }\n\n}, {\n  verify(password, data) {\n    return verifyPassword(password, data);\n  }\n\n});\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiU0FMVF9ST1VORFMiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ2ZXJpZnlQYXNzd29yZCIsImNvbXBhcmUiLCJjaGVja0FuZEhhc2giLCJ1c2VyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiY2F0Y2giLCJlcnIiLCJib29rc2hlbGYiLCJyZXF1aXJlIiwiZGIiLCJVc2VyIiwibW9kZWwiLCJpbml0aWFsaXplIiwiY29uc3RydWN0b3IiLCJfX3N1cGVyX18iLCJhcHBseSIsImFyZ3VtZW50cyIsIm9uIiwidmFsaWRhdGVTYXZlIiwidmFsaWRhdGVVcGRhdGUiLCJ0YWJsZU5hbWUiLCJhdHRycyIsImF0dHJpYnV0ZXMiLCJ2ZXJpZnkiLCJkYXRhIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxXQUFXLEdBQUcsQ0FBcEIsQyxDQUVBOztBQUVBLE1BQU1DLFlBQVksR0FBSUMsUUFBRCxJQUFjQyxnQkFBT0MsSUFBUCxDQUFZRixRQUFaLEVBQXNCRixXQUF0QixDQUFuQzs7QUFDQSxNQUFNSyxjQUFjLEdBQUcsQ0FBQ0gsUUFBRCxFQUFXRSxJQUFYLEtBQW9CRCxnQkFBT0csT0FBUCxDQUFlSixRQUFmLEVBQXlCRSxJQUF6QixDQUEzQzs7QUFFQSxNQUFNRyxZQUFZLEdBQUlDLElBQUQsSUFBVTtBQUMzQixNQUFJLENBQUNBLElBQUksQ0FBQ04sUUFBVixFQUFvQixPQUFPTyxPQUFPLENBQUNDLE9BQVIsQ0FBZ0JGLElBQWhCLENBQVAsQ0FETyxDQUkzQjs7QUFDQSxTQUFPUCxZQUFZLENBQUNPLElBQUksQ0FBQ04sUUFBTixDQUFaLENBQ0ZTLElBREUsQ0FDSVAsSUFBRCxJQUFVO0FBQ1pJLElBQUFBLElBQUksQ0FBQ04sUUFBTCxHQUFnQkUsSUFBaEI7QUFDSCxHQUhFLEVBSUZRLEtBSkUsQ0FJS0MsR0FBRCxJQUFVLGtCQUFpQkEsR0FBSSxFQUpuQyxDQUFQO0FBS0gsQ0FWRDs7QUFZQSxNQUFNQyxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQVAsQ0FBcUJDLFdBQXJCLENBQWxCLEMsQ0FHQTs7O0FBQ0EsTUFBTUMsSUFBSSxHQUFHSCxTQUFTLENBQUNJLEtBQVYsQ0FDVCxNQURTLEVBRVQ7QUFDSUMsRUFBQUEsVUFBVSxHQUFHO0FBQ1QsU0FBS0MsV0FBTCxDQUFpQkMsU0FBakIsQ0FBMkJGLFVBQTNCLENBQXNDRyxLQUF0QyxDQUE0QyxJQUE1QyxFQUFrREMsU0FBbEQ7O0FBRUEsU0FBS0MsRUFBTCxDQUFRLFVBQVIsRUFBb0IsS0FBS0MsWUFBekI7QUFDQSxTQUFLRCxFQUFMLENBQVEsVUFBUixFQUFvQixLQUFLRSxjQUF6QjtBQUNILEdBTkw7O0FBT0lDLEVBQUFBLFNBQVMsRUFBRSxPQVBmOztBQVFJRCxFQUFBQSxjQUFjLENBQUNSLEtBQUQsRUFBUVUsS0FBUixFQUFlO0FBQ3pCLFFBQUlWLEtBQUssQ0FBQ2hCLFFBQU4sS0FBbUIwQixLQUF2QixFQUE4QixPQUFPckIsWUFBWSxDQUFDLEtBQUtzQixVQUFOLENBQW5CO0FBQzlCLFdBQU8sS0FBS0EsVUFBWjtBQUNILEdBWEw7O0FBWUlKLEVBQUFBLFlBQVksR0FBRztBQUNYLFdBQU9sQixZQUFZLENBQUMsS0FBS3NCLFVBQU4sQ0FBbkI7QUFDSDs7QUFkTCxDQUZTLEVBa0JUO0FBQ0lDLEVBQUFBLE1BQU0sQ0FBQzVCLFFBQUQsRUFBVzZCLElBQVgsRUFBaUI7QUFDbkIsV0FBTzFCLGNBQWMsQ0FBQ0gsUUFBRCxFQUFXNkIsSUFBWCxDQUFyQjtBQUNIOztBQUhMLENBbEJTLENBQWI7ZUF5QmVkLEkiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XHJcbmltcG9ydCBkYiBmcm9tICcuLi9kYic7XHJcblxyXG5jb25zdCBTQUxUX1JPVU5EUyA9IDc7XHJcblxyXG4vLyBIYXNoIHRoZSBzdHJpbmcgYW5kIGNoZWNrIHRoZSB2YWx1ZSB3aGV0aGVyIGl0IG1hdGNoZXMgb3Igbm90LlxyXG5cclxuY29uc3QgaGFzaFBhc3N3b3JkID0gKHBhc3N3b3JkKSA9PiBiY3J5cHQuaGFzaChwYXNzd29yZCwgU0FMVF9ST1VORFMpO1xyXG5jb25zdCB2ZXJpZnlQYXNzd29yZCA9IChwYXNzd29yZCwgaGFzaCkgPT4gYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGhhc2gpO1xyXG5cclxuY29uc3QgY2hlY2tBbmRIYXNoID0gKHVzZXIpID0+IHtcclxuICAgIGlmICghdXNlci5wYXNzd29yZCkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyKTtcclxuXHJcblxyXG4gICAgLy8gSGFzaCB0aGUgbWVzc2FnZS5cclxuICAgIHJldHVybiBoYXNoUGFzc3dvcmQodXNlci5wYXNzd29yZClcclxuICAgICAgICAudGhlbigoaGFzaCkgPT4ge1xyXG4gICAgICAgICAgICB1c2VyLnBhc3N3b3JkID0gaGFzaDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBgRXJyb3IgSGFzaGluZzogJHtlcnJ9YCk7XHJcbn07XHJcblxyXG5jb25zdCBib29rc2hlbGYgPSByZXF1aXJlKCdib29rc2hlbGYnKShkYik7XHJcblxyXG5cclxuLy9Nb2RlbHMgdGhhdCBhZGRyZXNzIHRhYmxlcyBpbiBkYXRhIGJhc2UgdXNlZCBieSBkdWUgdG8gT1JNLlxyXG5jb25zdCBVc2VyID0gYm9va3NoZWxmLm1vZGVsKFxyXG4gICAgJ1VzZXInLFxyXG4gICAge1xyXG4gICAgICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IuX19zdXBlcl9fLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMub24oJ2NyZWF0aW5nJywgdGhpcy52YWxpZGF0ZVNhdmUpO1xyXG4gICAgICAgICAgICB0aGlzLm9uKCd1cGRhdGluZycsIHRoaXMudmFsaWRhdGVVcGRhdGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFibGVOYW1lOiAndXNlcnMnLFxyXG4gICAgICAgIHZhbGlkYXRlVXBkYXRlKG1vZGVsLCBhdHRycykge1xyXG4gICAgICAgICAgICBpZiAobW9kZWwucGFzc3dvcmQgIT09IGF0dHJzKSByZXR1cm4gY2hlY2tBbmRIYXNoKHRoaXMuYXR0cmlidXRlcyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXM7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWxpZGF0ZVNhdmUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGVja0FuZEhhc2godGhpcy5hdHRyaWJ1dGVzKTtcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB2ZXJpZnkocGFzc3dvcmQsIGRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkLCBkYXRhKTtcclxuICAgICAgICB9LFxyXG4gICAgfVxyXG4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "SALT_ROUNDS",
        "hashPassword",
        "password",
        "bcrypt",
        "hash",
        "verifyPassword",
        "compare",
        "checkAndHash",
        "user",
        "Promise",
        "resolve",
        "then",
        "catch",
        "err",
        "bookshelf",
        "require",
        "db",
        "User",
        "model",
        "initialize",
        "constructor",
        "__super__",
        "apply",
        "arguments",
        "on",
        "validateSave",
        "validateUpdate",
        "tableName",
        "attrs",
        "attributes",
        "verify",
        "data"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,WAAW,GAAG,CAApB,C,CAEA;;AAEA,MAAMC,YAAY,GAAIC,QAAD,IAAcC,gBAAOC,IAAP,CAAYF,QAAZ,EAAsBF,WAAtB,CAAnC;;AACA,MAAMK,cAAc,GAAG,CAACH,QAAD,EAAWE,IAAX,KAAoBD,gBAAOG,OAAP,CAAeJ,QAAf,EAAyBE,IAAzB,CAA3C;;AAEA,MAAMG,YAAY,GAAIC,IAAD,IAAU;AAC3B,MAAI,CAACA,IAAI,CAACN,QAAV,EAAoB,OAAOO,OAAO,CAACC,OAAR,CAAgBF,IAAhB,CAAP,CADO,CAI3B;;AACA,SAAOP,YAAY,CAACO,IAAI,CAACN,QAAN,CAAZ,CACFS,IADE,CACIP,IAAD,IAAU;AACZI,IAAAA,IAAI,CAACN,QAAL,GAAgBE,IAAhB;AACH,GAHE,EAIFQ,KAJE,CAIKC,GAAD,IAAU,kBAAiBA,GAAI,EAJnC,CAAP;AAKH,CAVD;;AAYA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB,C,CAGA;;;AACA,MAAMC,IAAI,GAAGH,SAAS,CAACI,KAAV,CACT,MADS,EAET;AACIC,EAAAA,UAAU,GAAG;AACT,SAAKC,WAAL,CAAiBC,SAAjB,CAA2BF,UAA3B,CAAsCG,KAAtC,CAA4C,IAA5C,EAAkDC,SAAlD;;AAEA,SAAKC,EAAL,CAAQ,UAAR,EAAoB,KAAKC,YAAzB;AACA,SAAKD,EAAL,CAAQ,UAAR,EAAoB,KAAKE,cAAzB;AACH,GANL;;AAOIC,EAAAA,SAAS,EAAE,OAPf;;AAQID,EAAAA,cAAc,CAACR,KAAD,EAAQU,KAAR,EAAe;AACzB,QAAIV,KAAK,CAAChB,QAAN,KAAmB0B,KAAvB,EAA8B,OAAOrB,YAAY,CAAC,KAAKsB,UAAN,CAAnB;AAC9B,WAAO,KAAKA,UAAZ;AACH,GAXL;;AAYIJ,EAAAA,YAAY,GAAG;AACX,WAAOlB,YAAY,CAAC,KAAKsB,UAAN,CAAnB;AACH;;AAdL,CAFS,EAkBT;AACIC,EAAAA,MAAM,CAAC5B,QAAD,EAAW6B,IAAX,EAAiB;AACnB,WAAO1B,cAAc,CAACH,QAAD,EAAW6B,IAAX,CAArB;AACH;;AAHL,CAlBS,CAAb;eAyBed,I",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import bcrypt from 'bcrypt';\r\nimport db from '../db';\r\n\r\nconst SALT_ROUNDS = 7;\r\n\r\n// Hash the string and check the value whether it matches or not.\r\n\r\nconst hashPassword = (password) => bcrypt.hash(password, SALT_ROUNDS);\r\nconst verifyPassword = (password, hash) => bcrypt.compare(password, hash);\r\n\r\nconst checkAndHash = (user) => {\r\n    if (!user.password) return Promise.resolve(user);\r\n\r\n\r\n    // Hash the message.\r\n    return hashPassword(user.password)\r\n        .then((hash) => {\r\n            user.password = hash;\r\n        })\r\n        .catch((err) => `Error Hashing: ${err}`);\r\n};\r\n\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\n\r\n//Models that address tables in data base used by due to ORM.\r\nconst User = bookshelf.model(\r\n    'User',\r\n    {\r\n        initialize() {\r\n            this.constructor.__super__.initialize.apply(this, arguments);\r\n\r\n            this.on('creating', this.validateSave);\r\n            this.on('updating', this.validateUpdate);\r\n        },\r\n        tableName: 'users',\r\n        validateUpdate(model, attrs) {\r\n            if (model.password !== attrs) return checkAndHash(this.attributes);\r\n            return this.attributes;\r\n        },\r\n        validateSave() {\r\n            return checkAndHash(this.attributes);\r\n        },\r\n    },\r\n    {\r\n        verify(password, data) {\r\n            return verifyPassword(password, data);\r\n        },\r\n    }\r\n);\r\n\r\nexport default User;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257875550
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\auth.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _auth_service = _interopRequireDefault(require(\"../services/auth_service\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = require('express').Router(); //Authentication route\n\n\napi.use('/auth', _auth_service.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXBpIiwicmVxdWlyZSIsIlJvdXRlciIsInVzZSIsIkF1dGhTZXJ2aWNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7QUFGQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQVosQyxDQUNBOzs7QUFHQUYsR0FBRyxDQUFDRyxHQUFKLENBQVEsT0FBUixFQUFpQkMscUJBQWpCO2VBRWVKLEciLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxccm91dGVzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhcGkgPSByZXF1aXJlKCdleHByZXNzJykuUm91dGVyKCk7XHJcbi8vQXV0aGVudGljYXRpb24gcm91dGVcclxuaW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGhfc2VydmljZSc7XHJcblxyXG5hcGkudXNlKCcvYXV0aCcsIEF1dGhTZXJ2aWNlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "api",
        "require",
        "Router",
        "use",
        "AuthService"
      ],
      "mappings": ";;;;;;;AAEA;;;;AAFA,MAAMA,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAZ,C,CACA;;;AAGAF,GAAG,CAACG,GAAJ,CAAQ,OAAR,EAAiBC,qBAAjB;eAEeJ,G",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "sourcesContent": [
        "const api = require('express').Router();\r\n//Authentication route\r\nimport AuthService from '../services/auth_service';\r\n\r\napi.use('/auth', AuthService);\r\n\r\nexport default api;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257140569
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\auth_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\auth_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\auth_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\auth_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "auth_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _portalVerificationString = _interopRequireDefault(require(\"../models/portalVerificationString\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nvar _config = _interopRequireDefault(require(\"config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Utils that determine response type\n// Config\nconst {\n  auth\n} = _config.default; //Endpoints\n//This function takes nation id and password,\n//assign priority key to a 0, determines it is mobile user\n//and save whole data to a database.\n\nconst mobileRegister = async (req, res) => {\n  const {\n    nationID,\n    password\n  } = req.body;\n\n  if (!nationID || !password) {\n    (0, _http_util.errorResp)(res, new Error('nationID and Password are required'));\n    return;\n  }\n\n  _user.default.where({\n    nationID\n  }).fetch({\n    columns: ['id'],\n    require: false\n  }).then(async result => {\n    if (result) {\n      (0, _http_util.errorResp)(res, new Error('nationID Already Used'));\n    } else {\n      let priority = 0;\n      new _user.default({\n        nationID,\n        password,\n        priority_key: priority\n      }).save().then(savedUser => {\n        (0, _http_util.successResp)(res, {\n          nationID: savedUser.get('nationID'),\n          priority_key: savedUser.get('priority_key')\n        });\n      }).catch(err => {\n        (0, _http_util.errorResp)(res, err);\n      });\n    }\n  });\n}; //After the user click the link that admin send portal user can register.\n//This function takes username and password, assign priority key to 10, determine that it is a portal user\n\n\nconst portalRegister = async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (Number.isInteger(parseInt(username))) {\n    (0, _http_util.errorResp)(res, new Error('username can\\'t be a integer'));\n    return;\n  }\n\n  if (!username || !password) {\n    (0, _http_util.errorResp)(res, new Error('username and Password are required'));\n    return;\n  }\n\n  _user.default.where({\n    username\n  }).fetch({\n    columns: ['id'],\n    require: false\n  }).then(async result => {\n    if (result) {\n      (0, _http_util.errorResp)(res, new Error('username Already Used'));\n    } else {\n      let priority = 10;\n      new _user.default({\n        username,\n        password,\n        priority_key: priority\n      }).save().then(savedUser => {\n        (0, _http_util.successResp)(res, {\n          username: savedUser.get('username'),\n          priority_key: savedUser.get('priority_key')\n        });\n      }).catch(err => {\n        (0, _http_util.errorResp)(res, err);\n      });\n    }\n  });\n}; // This function takes nation id and password query database to check whether user is inside the database or not\n// and assign 1 hour expire time token to it. That is placed inside config file.\n\n\nconst mobileLogin = (req, res) => {\n  const {\n    password\n  } = req.body;\n  const nationID = parseInt(req.body.nationID);\n\n  if (!nationID || !password) {\n    (0, _http_util.errorResp)(res, new Error('nationID and Password are required'));\n    return;\n  }\n\n  _user.default.where({\n    nationID: nationID,\n    is_deleted: false\n  }).fetch().then(user => {\n    _user.default.verify(password, user.get('password')).then(isMatch => {\n      if (isMatch) {\n        const token = _jsonwebtoken.default.sign({\n          uid: user.get('id'),\n          utype: user.get('priority_key'),\n          uname: user.get('nationID')\n        }, auth.secret, {\n          expiresIn: auth.expiredTime\n        });\n\n        (0, _http_util.successResp)(res, {\n          token,\n          nationID: user.get('nationID'),\n          priority: user.get('priority_key')\n        });\n      } else {\n        (0, _http_util.errorResp)(res, new Error('Wrong Password'));\n      }\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, new Error('Non-exists nationID'));\n  });\n}; //This function allow both admin and portal user login at the same route.\n// This function takes username and password query database to check whether users  is inside the database not\n// and assign 1 hour expire time token to it. That is placed inside config file.\n\n\nconst systemLogin = (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (!username || !password) {\n    (0, _http_util.errorResp)(res, new Error('Username and Password are required'));\n    return;\n  }\n\n  _user.default.where({\n    username: username,\n    is_deleted: false\n  }).fetch().then(user => {\n    _user.default.verify(password, user.get('password')).then(isMatch => {\n      if (isMatch) {\n        const token = _jsonwebtoken.default.sign({\n          uid: user.get('id'),\n          utype: user.get('priority_key'),\n          uname: user.get('username')\n        }, auth.secret, {\n          expiresIn: auth.expiredTime\n        });\n\n        (0, _http_util.successResp)(res, {\n          token,\n          username: user.get('username'),\n          priority: user.get('priority_key')\n        });\n      } else {\n        (0, _http_util.errorResp)(res, new Error('Wrong Password'));\n      }\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, new Error('Non-exists Username'));\n  });\n};\n\nconst router = _express.default.Router();\n\nrouter.route('/mobileLogin').post(mobileLogin);\nrouter.route('/systemLogin').post(systemLogin);\nrouter.route('/mobileRegister').post(mobileRegister);\nrouter.route('/portalRegister/:token').post(portalRegister);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhfc2VydmljZS5qcyJdLCJuYW1lcyI6WyJhdXRoIiwiY29uZmlnIiwibW9iaWxlUmVnaXN0ZXIiLCJyZXEiLCJyZXMiLCJuYXRpb25JRCIsInBhc3N3b3JkIiwiYm9keSIsIkVycm9yIiwiVXNlck1vZGVsIiwid2hlcmUiLCJmZXRjaCIsImNvbHVtbnMiLCJyZXF1aXJlIiwidGhlbiIsInJlc3VsdCIsInByaW9yaXR5IiwicHJpb3JpdHlfa2V5Iiwic2F2ZSIsInNhdmVkVXNlciIsImdldCIsImNhdGNoIiwiZXJyIiwicG9ydGFsUmVnaXN0ZXIiLCJ1c2VybmFtZSIsIk51bWJlciIsImlzSW50ZWdlciIsInBhcnNlSW50IiwibW9iaWxlTG9naW4iLCJpc19kZWxldGVkIiwidXNlciIsInZlcmlmeSIsImlzTWF0Y2giLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJ1aWQiLCJ1dHlwZSIsInVuYW1lIiwic2VjcmV0IiwiZXhwaXJlc0luIiwiZXhwaXJlZFRpbWUiLCJzeXN0ZW1Mb2dpbiIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJyb3V0ZSIsInBvc3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFFQTs7QUFFQTs7OztBQU5BO0FBR0E7QUFFQTtBQUdBLE1BQU07QUFBQ0EsRUFBQUE7QUFBRCxJQUFTQyxlQUFmLEMsQ0FFQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQyxjQUFjLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBRXZDLFFBQU07QUFBQ0MsSUFBQUEsUUFBRDtBQUFXQyxJQUFBQTtBQUFYLE1BQXVCSCxHQUFHLENBQUNJLElBQWpDOztBQUVBLE1BQUksQ0FBQ0YsUUFBRCxJQUFhLENBQUNDLFFBQWxCLEVBQTRCO0FBQ3hCLDhCQUFVRixHQUFWLEVBQWUsSUFBSUksS0FBSixDQUFVLG9DQUFWLENBQWY7QUFDQTtBQUNIOztBQUNEQyxnQkFBVUMsS0FBVixDQUFnQjtB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QUN5QztBQUFqQixTQVBVLENBQWQ7O0FBVUEsb0NBQVlyQyxHQUFaLEVBQWlCO0FBQ2I2QixVQUFBQSxLQURhO0FBRWJULFVBQUFBLFFBQVEsRUFBRU0sSUFBSSxDQUFDVixHQUFMLENBQVMsVUFBVCxDQUZHO0FBR2JKLFVBQUFBLFFBQVEsRUFBRWMsSUFBSSxDQUFDVixHQUFMLENBQVMsY0FBVDtBQUhHLFNBQWpCO0FBS0gsT0FoQkQsTUFnQk87QUFDSCxrQ0FBVWhCLEdBQVYsRUFBZSxJQUFJSSxLQUFKLENBQVUsZ0JBQVYsQ0FBZjtBQUNIO0FBQ0osS0FyQkw7QUFzQkgsR0ExQkwsRUEyQkthLEtBM0JMLENBMkJZQyxHQUFELElBQVM7QUFDWiw4QkFBVWxCLEdBQVYsRUFBZSxJQUFJSSxLQUFKLENBQVUscUJBQVYsQ0FBZjtBQUNILEdBN0JMO0FBOEJILENBdkNEOztBQTJDQSxNQUFNbUMsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmOztBQUVBRixNQUFNLENBQUNHLEtBQVAsQ0FBYSxjQUFiLEVBQTZCQyxJQUE3QixDQUFrQ25CLFdBQWxDO0FBQ0FlLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLGNBQWIsRUFBNkJDLElBQTdCLENBQWtDTCxXQUFsQztBQUVBQyxNQUFNLENBQUNHLEtBQVAsQ0FBYSxpQkFBYixFQUFnQ0MsSUFBaEMsQ0FBcUM3QyxjQUFyQztBQUNBeUMsTUFBTSxDQUFDRyxLQUFQLENBQWEsd0JBQWIsRUFBdUNDLElBQXZDLENBQTRDeEIsY0FBNUM7ZUFHZW9CLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcc2VydmljZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcclxuLy8gTW9kZWxzXHJcbmltcG9ydCBVc2VyTW9kZWwgZnJvbSAnLi4vbW9kZWxzL3VzZXInO1xyXG5pbXBvcnQgUG9ydGFsVmVyaWZpY2F0aW9uU3RyaW5nTW9kZWwgZnJvbSAnLi4vbW9kZWxzL3BvcnRhbFZlcmlmaWNhdGlvblN0cmluZydcclxuLy8gVXRpbHMgdGhhdCBkZXRlcm1pbmUgcmVzcG9uc2UgdHlwZVxyXG5pbXBvcnQge2Vycm9yUmVzcCwgc3VjY2Vzc1Jlc3B9IGZyb20gJy4uL3V0aWwvaHR0cF91dGlsJztcclxuLy8gQ29uZmlnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcclxuXHJcbmNvbnN0IHthdXRofSA9IGNvbmZpZztcclxuXHJcbi8vRW5kcG9pbnRzXHJcblxyXG4vL1RoaXMgZnVuY3Rpb24gdGFrZXMgbmF0aW9uIGlkIGFuZCBwYXNzd29yZCxcclxuLy9hc3NpZ24gcHJpb3JpdHkga2V5IHRvIGEgMCwgZGV0ZXJtaW5lcyBpdCBpcyBtb2JpbGUgdXNlclxyXG4vL2FuZCBzYXZlIHdob2xlIGRhdGEgdG8gYSBkYXRhYmFzZS5cclxuY29uc3QgbW9iaWxlUmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBjb25zdCB7bmF0aW9uSUQsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghbmF0aW9uSUQgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCduYXRpb25JRCBhbmQgUGFzc3dvcmQgYXJlIHJlcXVpcmVkJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFVzZXJNb2RlbC53aGVyZSh7XHJcbiAgICAgICAgbmF0aW9uSUQsXHJcbiAgICB9KVxyXG4gICAgICAgIC5mZXRjaCh7Y29sdW1uczogWydpZCddLCByZXF1aXJlOiBmYWxzZX0pXHJcbiAgICAgICAgLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ25hdGlvbklEIEFscmVhZHkgVXNlZCcpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBwcmlvcml0eSA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgbmV3IFVzZXJNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbmF0aW9uSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlfa2V5OiBwcmlvcml0eSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChzYXZlZFVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpb25JRDogc2F2ZWRVc2VyLmdldCgnbmF0aW9uSUQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5X2tleTogc2F2ZWRVc2VyLmdldCgncHJpb3JpdHlfa2V5JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclJlc3AocmVzLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn07XHJcbi8vQWZ0ZXIgdGhlIHVzZXIgY2xpY2sgdGhlIGxpbmsgdGhhdCBhZG1pbiBzZW5kIHBvcnRhbCB1c2VyIGNhbiByZWdpc3Rlci5cclxuLy9UaGlzIGZ1bmN0aW9uIHRha2VzIHVzZXJuYW1lIGFuZCBwYXNzd29yZCwgYXNzaWduIHByaW9yaXR5IGtleSB0byAxMCwgZGV0ZXJtaW5lIHRoYXQgaXQgaXMgYSBwb3J0YWwgdXNlclxyXG5jb25zdCBwb3J0YWxSZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGNvbnN0IHt1c2VybmFtZSwgcGFzc3dvcmR9ID0gcmVxLmJvZHk7XHJcblxyXG4gICAgaWYoTnVtYmVyLmlzSW50ZWdlcihwYXJzZUludCh1c2VybmFtZSkpKXtcclxuICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ3VzZXJuYW1lIGNhblxcJ3QgYmUgYSBpbnRlZ2VyJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcigndXNlcm5hbWUgYW5kIFBhc3N3b3JkIGFyZSByZXF1aXJlZCcpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAgICAgICAgIFVzZXJNb2RlbC53aGVyZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5mZXRjaCh7Y29sdW1uczogWydpZCddLCByZXF1aXJlOiBmYWxzZX0pXHJcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ3VzZXJuYW1lIEFscmVhZHkgVXNlZCcpKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJpb3JpdHkgPSAxMDtcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFVzZXJNb2RlbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlfa2V5OiBwcmlvcml0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChzYXZlZFVzZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHNhdmVkVXNlci5nZXQoJ3VzZXJuYW1lJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5X2tleTogc2F2ZWRVc2VyLmdldCgncHJpb3JpdHlfa2V5JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbn07XHJcbi8vIFRoaXMgZnVuY3Rpb24gdGFrZXMgbmF0aW9uIGlkIGFuZCBwYXNzd29yZCBxdWVyeSBkYXRhYmFzZSB0byBjaGVjayB3aGV0aGVyIHVzZXIgaXMgaW5zaWRlIHRoZSBkYXRhYmFzZSBvciBub3RcclxuLy8gYW5kIGFzc2lnbiAxIGhvdXIgZXhwaXJlIHRpbWUgdG9rZW4gdG8gaXQuIFRoYXQgaXMgcGxhY2VkIGluc2lkZSBjb25maWcgZmlsZS5cclxuY29uc3QgbW9iaWxlTG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBjb25zdCB7cGFzc3dvcmR9ID0gcmVxLmJvZHk7XHJcbiAgICBjb25zdCBuYXRpb25JRCA9IHBhcnNlSW50KHJlcS5ib2R5Lm5hdGlvbklEKTtcclxuXHJcbiAgICBpZiAoIW5hdGlvbklEIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignbmF0aW9uSUQgYW5kIFBhc3N3b3JkIGFyZSByZXF1aXJlZCcpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFVzZXJNb2RlbC53aGVyZSh7bmF0aW9uSUQ6bmF0aW9uSUQsIGlzX2RlbGV0ZWQ6ZmFsc2V9KVxyXG4gICAgICAgIC5mZXRjaCgpXHJcbiAgICAgICAgLnRoZW4oKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFVzZXJNb2RlbC52ZXJpZnkocGFzc3dvcmQsIHVzZXIuZ2V0KCdwYXNzd29yZCcpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKGlzTWF0Y2gpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogdXNlci5nZXQoJ2lkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXR5cGU6IHVzZXIuZ2V0KCdwcmlvcml0eV9rZXknKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmFtZTogdXNlci5nZXQoJ25hdGlvbklEJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aC5zZWNyZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZXhwaXJlc0luOiBhdXRoLmV4cGlyZWRUaW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGlvbklEOiB1c2VyLmdldCgnbmF0aW9uSUQnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiB1c2VyLmdldCgncHJpb3JpdHlfa2V5JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignV3JvbmcgUGFzc3dvcmQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ05vbi1leGlzdHMgbmF0aW9uSUQnKSk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vL1RoaXMgZnVuY3Rpb24gYWxsb3cgYm90aCBhZG1pbiBhbmQgcG9ydGFsIHVzZXIgbG9naW4gYXQgdGhlIHNhbWUgcm91dGUuXHJcbi8vIFRoaXMgZnVuY3Rpb24gdGFrZXMgdXNlcm5hbWUgYW5kIHBhc3N3b3JkIHF1ZXJ5IGRhdGFiYXNlIHRvIGNoZWNrIHdoZXRoZXIgdXNlcnMgIGlzIGluc2lkZSB0aGUgZGF0YWJhc2Ugbm90XHJcbi8vIGFuZCBhc3NpZ24gMSBob3VyIGV4cGlyZSB0aW1lIHRva2VuIHRvIGl0LiBUaGF0IGlzIHBsYWNlZCBpbnNpZGUgY29uZmlnIGZpbGUuXHJcbmNvbnN0IHN5c3RlbUxvZ2luID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgY29uc3Qge3VzZXJuYW1lLCBwYXNzd29yZH0gPSByZXEuYm9keTtcclxuXHJcbiAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCkge1xyXG4gICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignVXNlcm5hbWUgYW5kIFBhc3N3b3JkIGFyZSByZXF1aXJlZCcpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgVXNlck1vZGVsLndoZXJlKHt1c2VybmFtZTp1c2VybmFtZSwgaXNfZGVsZXRlZDpmYWxzZX0pXHJcbiAgICAgICAgLmZldGNoKClcclxuICAgICAgICAudGhlbigodXNlcikgPT4ge1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICBVc2VyTW9kZWwudmVyaWZ5KHBhc3N3b3JkLCB1c2VyLmdldCgncGFzc3dvcmQnKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKChpc01hdGNoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBqd3Quc2lnbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aWQ6IHVzZXIuZ2V0KCdpZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0eXBlOiB1c2VyLmdldCgncHJpb3JpdHlfa2V5JyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5hbWU6IHVzZXIuZ2V0KCd1c2VybmFtZScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGguc2VjcmV0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2V4cGlyZXNJbjogYXV0aC5leHBpcmVkVGltZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NSZXNwKHJlcywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci5nZXQoJ3VzZXJuYW1lJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogdXNlci5nZXQoJ3ByaW9yaXR5X2tleScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ1dyb25nIFBhc3N3b3JkJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdOb24tZXhpc3RzIFVzZXJuYW1lJykpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxucm91dGVyLnJvdXRlKCcvbW9iaWxlTG9naW4nKS5wb3N0KG1vYmlsZUxvZ2luKTtcclxucm91dGVyLnJvdXRlKCcvc3lzdGVtTG9naW4nKS5wb3N0KHN5c3RlbUxvZ2luKTtcclxuXHJcbnJvdXRlci5yb3V0ZSgnL21vYmlsZVJlZ2lzdGVyJykucG9zdChtb2JpbGVSZWdpc3Rlcik7XHJcbnJvdXRlci5yb3V0ZSgnL3BvcnRhbFJlZ2lzdGVyLzp0b2tlbicpLnBvc3QocG9ydGFsUmVnaXN0ZXIpO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth_service.js"
      ],
      "names": [
        "auth",
        "config",
        "mobileRegister",
        "req",
        "res",
        "nationID",
        "password",
        "body",
        "Error",
        "UserModel",
        "where",
        "fetch",
        "columns",
        "require",
        "then",
        "result",
        "priority",
        "priority_key",
        "save",
        "savedUser",
        "get",
        "catch",
        "err",
        "portalRegister",
        "username",
        "Number",
        "isInteger",
        "parseInt",
        "mobileLogin",
        "is_deleted",
        "user",
        "verify",
        "isMatch",
        "token",
        "jwt",
        "sign",
        "uid",
        "utype",
        "uname",
        "secret",
        "expiresIn",
        "expiredTime",
        "systemLogin",
        "router",
        "express",
        "Router",
        "route",
        "post"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport jwt from 'jsonwebtoken';\r\nimport moment from 'moment';\r\n// Models\r\nimport UserModel from '../models/user';\r\nimport PortalVerificationStringModel from '../models/portalVerificationString'\r\n// Utils that determine response type\r\nimport {errorResp, successResp} from '../util/http_util';\r\n// Config\r\nimport config from 'config';\r\n\r\nconst {auth} = config;\r\n\r\n//Endpoints\r\n\r\n//This function takes nation id and password,\r\n//assign priority key to a 0, determines it is mobile user\r\n//and save whole data to a database.\r\nconst mobileRegister = async (req, res) => {\r\n\r\n    const {nationID, password} = req.body;\r\n\r\n    if (!nationID || !password) {\r\n        errorResp(res, new Error('nationID and Password are required'));\r\n        return;\r\n    }\r\n    UserModel.where({\r\n        nationID,\r\n    })\r\n        .fetch({columns: ['id'], require: false})\r\n        .then(async (result) => {\r\n            if (result) {\r\n                errorResp(res, new Error('nationID Already Used'));\r\n            } else {\r\n                let priority = 0;\r\n\r\n                new UserModel({\r\n                    nationID,\r\n                    password,\r\n                    priority_key: priority,\r\n                })\r\n                    .save()\r\n                    .then((savedUser) => {\r\n                        successResp(res, {\r\n                            nationID: savedUser.get('nationID'),\r\n                            priority_key: savedUser.get('priority_key')\r\n                        });\r\n                    })\r\n                    .catch((err) => {\r\n                        errorResp(res, err);\r\n                    });\r\n            }\r\n        });\r\n};\r\n//After the user click the link that admin send portal user can register.\r\n//This function takes username and password, assign priority key to 10, determine that it is a portal user\r\nconst portalRegister = async (req, res) => {\r\n\r\n    const {username, password} = req.body;\r\n\r\n    if(Number.isInteger(parseInt(username))){\r\n        errorResp(res, new Error('username can\\'t be a integer'));\r\n        return;\r\n    }\r\n\r\n    if (!username || !password) {\r\n        errorResp(res, new Error('username and Password are required'));\r\n        return;\r\n    }\r\n            UserModel.where({\r\n                username,\r\n            })\r\n                .fetch({columns: ['id'], require: false})\r\n                .then(async (result) => {\r\n                    if (result) {\r\n                        errorResp(res, new Error('username Already Used'));\r\n                    } else {\r\n                        let priority = 10;\r\n        \r\n        \r\n                        new UserModel({\r\n                            username,\r\n                            password,\r\n                            priority_key: priority,\r\n                        })\r\n                            .save()\r\n                            .then((savedUser) => {\r\n                                successResp(res, {\r\n                                    username: savedUser.get('username'),\r\n                                    priority_key: savedUser.get('priority_key')\r\n                                });\r\n                            })\r\n                            .catch((err) => {\r\n                                errorResp(res, err);\r\n                            });\r\n                    }\r\n                });\r\n\r\n};\r\n// This function takes nation id and password query database to check whether user is inside the database or not\r\n// and assign 1 hour expire time token to it. That is placed inside config file.\r\nconst mobileLogin = (req, res) => {\r\n\r\n    const {password} = req.body;\r\n    const nationID = parseInt(req.body.nationID);\r\n\r\n    if (!nationID || !password) {\r\n        errorResp(res, new Error('nationID and Password are required'));\r\n        return;\r\n    }\r\n    \r\n    UserModel.where({nationID:nationID, is_deleted:false})\r\n        .fetch()\r\n        .then((user) => {\r\n            \r\n            UserModel.verify(password, user.get('password'))\r\n                .then((isMatch) => {\r\n                    if (isMatch) {\r\n                        const token = jwt.sign(\r\n                            {\r\n                                uid: user.get('id'),\r\n                                utype: user.get('priority_key'),\r\n                                uname: user.get('nationID'),\r\n                            },\r\n                            auth.secret,\r\n                            {expiresIn: auth.expiredTime}\r\n                        );\r\n\r\n                        successResp(res, {\r\n                            token,\r\n                            nationID: user.get('nationID'),\r\n                            priority: user.get('priority_key'),\r\n                        });\r\n                    } else {\r\n                        errorResp(res, new Error('Wrong Password'));\r\n                    }\r\n                });\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, new Error('Non-exists nationID'));\r\n        });\r\n};\r\n\r\n//This function allow both admin and portal user login at the same route.\r\n// This function takes username and password query database to check whether users  is inside the database not\r\n// and assign 1 hour expire time token to it. That is placed inside config file.\r\nconst systemLogin = (req, res) => {\r\n\r\n    const {username, password} = req.body;\r\n\r\n    if (!username || !password) {\r\n        errorResp(res, new Error('Username and Password are required'));\r\n        return;\r\n    }\r\n\r\n    UserModel.where({username:username, is_deleted:false})\r\n        .fetch()\r\n        .then((user) => {\r\n           \r\n            UserModel.verify(password, user.get('password'))\r\n                .then((isMatch) => {\r\n                    if (isMatch) {\r\n                        const token = jwt.sign(\r\n                            {\r\n                                uid: user.get('id'),\r\n                                utype: user.get('priority_key'),\r\n                                uname: user.get('username'),\r\n                            },\r\n                            auth.secret,\r\n                            {expiresIn: auth.expiredTime}\r\n                        );\r\n\r\n                        successResp(res, {\r\n                            token,\r\n                            username: user.get('username'),\r\n                            priority: user.get('priority_key'),\r\n                        });\r\n                    } else {\r\n                        errorResp(res, new Error('Wrong Password'));\r\n                    }\r\n                });\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, new Error('Non-exists Username'));\r\n        });\r\n};\r\n\r\n\r\n\r\nconst router = express.Router();\r\n\r\nrouter.route('/mobileLogin').post(mobileLogin);\r\nrouter.route('/systemLogin').post(systemLogin);\r\n\r\nrouter.route('/mobileRegister').post(mobileRegister);\r\nrouter.route('/portalRegister/:token').post(portalRegister);\r\n\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257026416
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\portalVerificationString.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\portalVerificationString.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\portalVerificationString.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\portalVerificationString.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "portalVerificationString.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Models that address tables in data base used by due to ORM\nconst bookshelf = require('bookshelf')(_db.default);\n\nconst PortalVerificationString = bookshelf.model('PortalVerificationString', {\n  tableName: 'portal_verification_string'\n});\nvar _default = PortalVerificationString;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvcnRhbFZlcmlmaWNhdGlvblN0cmluZy5qcyJdLCJuYW1lcyI6WyJib29rc2hlbGYiLCJyZXF1aXJlIiwiZGIiLCJQb3J0YWxWZXJpZmljYXRpb25TdHJpbmciLCJtb2RlbCIsInRhYmxlTmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0E7QUFDQSxNQUFNQSxTQUFTLEdBQUdDLE9BQU8sQ0FBQyxXQUFELENBQVAsQ0FBcUJDLFdBQXJCLENBQWxCOztBQUVBLE1BQU1DLHdCQUF3QixHQUFHSCxTQUFTLENBQUNJLEtBQVYsQ0FBZ0IsMEJBQWhCLEVBQTRDO0FBQ3pFQyxFQUFBQSxTQUFTLEVBQUU7QUFEOEQsQ0FBNUMsQ0FBakM7ZUFJZUYsd0IiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcbW9kZWxzXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGIgZnJvbSAnLi4vZGInO1xyXG4vL01vZGVscyB0aGF0IGFkZHJlc3MgdGFibGVzIGluIGRhdGEgYmFzZSB1c2VkIGJ5IGR1ZSB0byBPUk1cclxuY29uc3QgYm9va3NoZWxmID0gcmVxdWlyZSgnYm9va3NoZWxmJykoZGIpO1xyXG5cclxuY29uc3QgUG9ydGFsVmVyaWZpY2F0aW9uU3RyaW5nID0gYm9va3NoZWxmLm1vZGVsKCdQb3J0YWxWZXJpZmljYXRpb25TdHJpbmcnLCB7XHJcbiAgICB0YWJsZU5hbWU6ICdwb3J0YWxfdmVyaWZpY2F0aW9uX3N0cmluZycsXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsVmVyaWZpY2F0aW9uU3RyaW5nO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "portalVerificationString.js"
      ],
      "names": [
        "bookshelf",
        "require",
        "db",
        "PortalVerificationString",
        "model",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB;;AAEA,MAAMC,wBAAwB,GAAGH,SAAS,CAACI,KAAV,CAAgB,0BAAhB,EAA4C;AACzEC,EAAAA,SAAS,EAAE;AAD8D,CAA5C,CAAjC;eAIeF,wB",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import db from '../db';\r\n//Models that address tables in data base used by due to ORM\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\nconst PortalVerificationString = bookshelf.model('PortalVerificationString', {\r\n    tableName: 'portal_verification_string',\r\n});\r\n\r\nexport default PortalVerificationString;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257261342
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\admin.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\admin.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\admin.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\admin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
        "sourceFileName": "admin.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _desk_service = _interopRequireDefault(require(\"../services/desk_service\"));\n\nvar _user_service = _interopRequireDefault(require(\"../services/user_service\"));\n\nvar _email_service = _interopRequireDefault(require(\"../services/email_service\"));\n\nvar _verification_token_genrate_service = _interopRequireDefault(require(\"../services/verification_token_genrate_service\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = require('express').Router(); //Admin route\n\n\napi.use(_user_service.default);\napi.use(_desk_service.default);\napi.post('/sendEmail', _email_service.default);\napi.get('/genratePortalRegistrationLink', _verification_token_genrate_service.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImFwaSIsInJlcXVpcmUiLCJSb3V0ZXIiLCJ1c2UiLCJVc2VyU2VydmljZSIsIkRlc2tTZXJ2aWNlIiwicG9zdCIsInNlbmRFbWFpbCIsImdldCIsImdlbnJhdGVQb3J0YWxSZWdpc3RyYXRpb25MaW5rIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFMQSxNQUFNQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQVAsQ0FBbUJDLE1BQW5CLEVBQVosQyxDQUNBOzs7QUFNQUYsR0FBRyxDQUFDRyxHQUFKLENBQVFDLHFCQUFSO0FBQ0FKLEdBQUcsQ0FBQ0csR0FBSixDQUFRRSxxQkFBUjtBQUNBTCxHQUFHLENBQUNNLElBQUosQ0FBUyxZQUFULEVBQXVCQyxzQkFBdkI7QUFDQVAsR0FBRyxDQUFDUSxHQUFKLENBQVEsZ0NBQVIsRUFBeUNDLDJDQUF6QztlQUdlVCxHIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXHJvdXRlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXBpID0gcmVxdWlyZSgnZXhwcmVzcycpLlJvdXRlcigpO1xyXG4vL0FkbWluIHJvdXRlXHJcbmltcG9ydCBEZXNrU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9kZXNrX3NlcnZpY2UnO1xyXG5pbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvdXNlcl9zZXJ2aWNlJztcclxuaW1wb3J0IHNlbmRFbWFpbCBmcm9tICcuLi9zZXJ2aWNlcy9lbWFpbF9zZXJ2aWNlJztcclxuaW1wb3J0IGdlbnJhdGVQb3J0YWxSZWdpc3RyYXRpb25MaW5rIGZyb20gJy4uL3NlcnZpY2VzL3ZlcmlmaWNhdGlvbl90b2tlbl9nZW5yYXRlX3NlcnZpY2UnXHJcblxyXG5hcGkudXNlKFVzZXJTZXJ2aWNlKTtcclxuYXBpLnVzZShEZXNrU2VydmljZSk7XHJcbmFwaS5wb3N0KCcvc2VuZEVtYWlsJywgc2VuZEVtYWlsKTtcclxuYXBpLmdldCgnL2dlbnJhdGVQb3J0YWxSZWdpc3RyYXRpb25MaW5rJyxnZW5yYXRlUG9ydGFsUmVnaXN0cmF0aW9uTGluaylcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhcGk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "admin.js"
      ],
      "names": [
        "api",
        "require",
        "Router",
        "use",
        "UserService",
        "DeskService",
        "post",
        "sendEmail",
        "get",
        "genratePortalRegistrationLink"
      ],
      "mappings": ";;;;;;;AAEA;;AACA;;AACA;;AACA;;;;AALA,MAAMA,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAZ,C,CACA;;;AAMAF,GAAG,CAACG,GAAJ,CAAQC,qBAAR;AACAJ,GAAG,CAACG,GAAJ,CAAQE,qBAAR;AACAL,GAAG,CAACM,IAAJ,CAAS,YAAT,EAAuBC,sBAAvB;AACAP,GAAG,CAACQ,GAAJ,CAAQ,gCAAR,EAAyCC,2CAAzC;eAGeT,G",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "sourcesContent": [
        "const api = require('express').Router();\r\n//Admin route\r\nimport DeskService from '../services/desk_service';\r\nimport UserService from '../services/user_service';\r\nimport sendEmail from '../services/email_service';\r\nimport genratePortalRegistrationLink from '../services/verification_token_genrate_service'\r\n\r\napi.use(UserService);\r\napi.use(DeskService);\r\napi.post('/sendEmail', sendEmail);\r\napi.get('/genratePortalRegistrationLink',genratePortalRegistrationLink)\r\n\r\n\r\nexport default api;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257146420
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\desk_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\desk_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\desk_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\desk_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "desk_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _desk = _interopRequireDefault(require(\"../models/desk\"));\n\nvar _averageTime = _interopRequireDefault(require(\"../models/averageTime\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Utils that determine response type\n// Endpoints\n//Accessible by admin only\n//This function take name and create a new desk.\nconst createDesk = (req, res) => {\n  const {\n    name\n  } = req.body;\n\n  if (!name) {\n    (0, _http_util.errorResp)(res, new Error('Name must be exists'));\n    return;\n  }\n\n  new _desk.default({\n    name\n  }).save().then(savedDesk => {\n    (0, _http_util.successResp)(res, savedDesk, 201);\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; // This function takes id and removes the desk from system.\n\n\nconst removeDesk = (req, res) => {\n  const {\n    id\n  } = req.params;\n\n  if (!Number.isInteger(Number(id))) {\n    (0, _http_util.errorResp)(res, new Error('id must be number'));\n    return;\n  }\n\n  new _desk.default().where({\n    id,\n    is_deleted: false\n  }).save({\n    is_deleted: true\n  }, {\n    method: 'update'\n  }).then(() => {\n    (0, _http_util.successResp)(res, {\n      id\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; // This function lists the active desk.\n\n\nconst listDesks = (req, res) => {\n  _desk.default.where({\n    is_deleted: false\n  }).fetchAll({\n    columns: ['id', 'name', 'is_active', 'created_at'],\n    require: false\n  }).then(result => {\n    (0, _http_util.successResp)(res, {\n      data: result\n    });\n  });\n}; // This function take desk id and status and change activity of the desk active to deactive or vice versa.\n\n\nconst setActivityToDesk = (req, res) => {\n  const {\n    status\n  } = req.body;\n  const {\n    id\n  } = req.params;\n\n  if (!Number.isInteger(Number(id))) {\n    (0, _http_util.errorResp)(res, new Error('id must be number'));\n    return;\n  }\n\n  if (status === undefined) {\n    (0, _http_util.errorResp)(res, new Error('status must be exists'));\n    return;\n  }\n\n  _desk.default.where({\n    id,\n    is_active: !status\n  }).save({\n    is_active: status\n  }, {\n    method: 'update'\n  }).then(() => {\n    (0, _http_util.successResp)(res, {\n      id,\n      status\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, new Error('No Rows Updated'));\n  });\n}; // This function sets the given desks' average time that kiosk machine send.\n\n\nconst setAverageTime = (req, res) => {\n  const {\n    time,\n    deskId\n  } = req.body || {};\n\n  if (Number(time) <= 0) {\n    (0, _http_util.errorResp)(res, new Error('Time must be greater than zero'));\n    return;\n  }\n\n  const insertData = {\n    time,\n    desk_id: deskId,\n    created_at: (0, _moment.default)().format('YYYY-MM-DD HH:mm:ss')\n  };\n  new _averageTime.default(insertData).save().then(savedAvgTime => {\n    (0, _http_util.successResp)(res, {\n      time: savedAvgTime.get('time'),\n      created_at: savedAvgTime.get('created_at')\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; //This function get the averaga time from database and send back response to the user.\n\n\nconst getAverageTime = (req, res) => {\n  const {\n    deskId\n  } = req.query;\n  new _averageTime.default().where('desk_id', deskId).orderBy('id', 'desc').fetch({\n    columns: ['time', 'created_at'],\n    require: false\n  }).then(result => {\n    (0, _http_util.successResp)(res, result);\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n};\n\nconst router = _express.default.Router();\n\nrouter.route('/desk').post(createDesk).get(listDesks);\nrouter.route('/desk/:id').delete(removeDesk).put(setActivityToDesk);\nrouter.route('/desk/stats/time').post(setAverageTime).get(getAverageTime);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlc2tfc2VydmljZS5qcyJdLCJuYW1lcyI6WyJjcmVhdGVEZXNrIiwicmVxIiwicmVzIiwibmFtZSIsImJvZHkiLCJFcnJvciIsIkRlc2tNb2RlbCIsInNhdmUiLCJ0aGVuIiwic2F2ZWREZXNrIiwiY2F0Y2giLCJlcnIiLCJyZW1vdmVEZXNrIiwiaWQiLCJwYXJhbXMiLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJ3aGVyZSIsImlzX2RlbGV0ZWQiLCJtZXRob2QiLCJsaXN0RGVza3MiLCJmZXRjaEFsbCIsImNvbHVtbnMiLCJyZXF1aXJlIiwicmVzdWx0IiwiZGF0YSIsInNldEFjdGl2aXR5VG9EZXNrIiwic3RhdHVzIiwidW5kZWZpbmVkIiwiaXNfYWN0aXZlIiwic2V0QXZlcmFnZVRpbWUiLCJ0aW1lIiwiZGVza0lkIiwiaW5zZXJ0RGF0YSIsImRlc2tfaWQiLCJjcmVhdGVkX2F0IiwiZm9ybWF0IiwiQXZlcmFnZVRpbWVNb2RlbCIsInNhdmVkQXZnVGltZSIsImdldCIsImdldEF2ZXJhZ2VUaW1lIiwicXVlcnkiLCJvcmRlckJ5IiwiZmV0Y2giLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicm91dGUiLCJwb3N0IiwiZGVsZXRlIiwicHV0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBRUE7Ozs7QUFKQTtBQUdBO0FBR0E7QUFFQTtBQUVBO0FBQ0EsTUFBTUEsVUFBVSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzdCLFFBQU07QUFBQ0MsSUFBQUE7QUFBRCxNQUFTRixHQUFHLENBQUNHLElBQW5COztBQUVBLE1BQUksQ0FBQ0QsSUFBTCxFQUFXO0FBQ1AsOEJBQVVELEdBQVYsRUFBZSxJQUFJRyxLQUFKLENBQVUscUJBQVYsQ0FBZjtBQUNBO0FBQ0g7O0FBQ0QsTUFBSUMsYUFBSixDQUFjO0FBQ1ZILElBQUFBO0FBRFUsR0FBZCxFQUdLSSxJQUhMLEdBSUtDLElBSkwsQ0FJV0MsU0FBRCxJ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SUFBQUEsT0FBTyxFQUFFLENBQUMsTUFBRCxFQUFTLFlBQVQsQ0FETjtBQUVIQyxJQUFBQSxPQUFPLEVBQUU7QUFGTixHQUhYLEVBT0tmLElBUEwsQ0FPV2dCLE1BQUQsSUFBWTtBQUNkLGdDQUFZdEIsR0FBWixFQUFpQnNCLE1BQWpCO0FBQ0gsR0FUTCxFQVVLZCxLQVZMLENBVVlDLEdBQUQsSUFBUztBQUNaLDhCQUFVVCxHQUFWLEVBQWVTLEdBQWY7QUFDSCxHQVpMO0FBYUgsQ0FqQkQ7O0FBbUJBLE1BQU1pQyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLE9BQWIsRUFBc0JDLElBQXRCLENBQTJCaEQsVUFBM0IsRUFBdUN1QyxHQUF2QyxDQUEyQ25CLFNBQTNDO0FBRUF3QixNQUFNLENBQUNHLEtBQVAsQ0FBYSxXQUFiLEVBQTBCRSxNQUExQixDQUFpQ3JDLFVBQWpDLEVBQTZDc0MsR0FBN0MsQ0FBaUR4QixpQkFBakQ7QUFFQWtCLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLGtCQUFiLEVBQWlDQyxJQUFqQyxDQUFzQ2xCLGNBQXRDLEVBQXNEUyxHQUF0RCxDQUEwREMsY0FBMUQ7ZUFFZUksTSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxzZXJ2aWNlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuLy8gTW9kZWxzXHJcbmltcG9ydCBEZXNrTW9kZWwgZnJvbSAnLi4vbW9kZWxzL2Rlc2snO1xyXG5pbXBvcnQgQXZlcmFnZVRpbWVNb2RlbCBmcm9tICcuLi9tb2RlbHMvYXZlcmFnZVRpbWUnO1xyXG4vLyBVdGlscyB0aGF0IGRldGVybWluZSByZXNwb25zZSB0eXBlXHJcbmltcG9ydCB7ZXJyb3JSZXNwLCBzdWNjZXNzUmVzcH0gZnJvbSAnLi4vdXRpbC9odHRwX3V0aWwnO1xyXG5cclxuLy8gRW5kcG9pbnRzXHJcblxyXG4vL0FjY2Vzc2libGUgYnkgYWRtaW4gb25seVxyXG5cclxuLy9UaGlzIGZ1bmN0aW9uIHRha2UgbmFtZSBhbmQgY3JlYXRlIGEgbmV3IGRlc2suXHJcbmNvbnN0IGNyZWF0ZURlc2sgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtuYW1lfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgIGlmICghbmFtZSkge1xyXG4gICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignTmFtZSBtdXN0IGJlIGV4aXN0cycpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBuZXcgRGVza01vZGVsKHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgfSlcclxuICAgICAgICAuc2F2ZSgpXHJcbiAgICAgICAgLnRoZW4oKHNhdmVkRGVzaykgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHNhdmVkRGVzaywgMjAxKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vLyBUaGlzIGZ1bmN0aW9uIHRha2VzIGlkIGFuZCByZW1vdmVzIHRoZSBkZXNrIGZyb20gc3lzdGVtLlxyXG5jb25zdCByZW1vdmVEZXNrID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCB7aWR9ID0gcmVxLnBhcmFtcztcclxuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihOdW1iZXIoaWQpKSkge1xyXG4gICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignaWQgbXVzdCBiZSBudW1iZXInKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIG5ldyBEZXNrTW9kZWwoKVxyXG4gICAgICAgIC53aGVyZSh7aWQsIGlzX2RlbGV0ZWQ6IGZhbHNlfSlcclxuICAgICAgICAuc2F2ZShcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXNfZGVsZXRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAndXBkYXRlJyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NSZXNwKHJlcywge2lkfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuLy8gVGhpcyBmdW5jdGlvbiBsaXN0cyB0aGUgYWN0aXZlIGRlc2suXHJcbmNvbnN0IGxpc3REZXNrcyA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgRGVza01vZGVsLndoZXJlKHtcclxuICAgICAgICBpc19kZWxldGVkOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICAgICAgLmZldGNoQWxsKHtcclxuICAgICAgICAgICAgY29sdW1uczogWydpZCcsICduYW1lJywgJ2lzX2FjdGl2ZScsICdjcmVhdGVkX2F0J10sXHJcbiAgICAgICAgICAgIHJlcXVpcmU6IGZhbHNlLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHtkYXRhOiByZXN1bHR9KTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbi8vIFRoaXMgZnVuY3Rpb24gdGFrZSBkZXNrIGlkIGFuZCBzdGF0dXMgYW5kIGNoYW5nZSBhY3Rpdml0eSBvZiB0aGUgZGVzayBhY3RpdmUgdG8gZGVhY3RpdmUgb3IgdmljZSB2ZXJzYS5cclxuY29uc3Qgc2V0QWN0aXZpdHlUb0Rlc2sgPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBjb25zdCB7c3RhdHVzfSA9IHJlcS5ib2R5O1xyXG4gICAgY29uc3Qge2lkfSA9IHJlcS5wYXJhbXM7XHJcblxyXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihpZCkpKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdpZCBtdXN0IGJlIG51bWJlcicpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdzdGF0dXMgbXVzdCBiZSBleGlzdHMnKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIERlc2tNb2RlbC53aGVyZSh7aWQsIGlzX2FjdGl2ZTogIXN0YXR1c30pXHJcbiAgICAgICAgLnNhdmUoe2lzX2FjdGl2ZTogc3RhdHVzfSwge21ldGhvZDogJ3VwZGF0ZSd9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7aWQsIHN0YXR1c30pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdObyBSb3dzIFVwZGF0ZWQnKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG59O1xyXG4vLyBUaGlzIGZ1bmN0aW9uIHNldHMgdGhlIGdpdmVuIGRlc2tzJyBhdmVyYWdlIHRpbWUgdGhhdCBraW9zayBtYWNoaW5lIHNlbmQuXHJcbmNvbnN0IHNldEF2ZXJhZ2VUaW1lID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgY29uc3Qge3RpbWUsIGRlc2tJZH0gPSByZXEuYm9keSB8fCB7fTtcclxuXHJcbiAgICBpZiAoTnVtYmVyKHRpbWUpIDw9IDApIHtcclxuICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ1RpbWUgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVybycpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5zZXJ0RGF0YSA9IHtcclxuICAgICAgICB0aW1lLFxyXG4gICAgICAgIGRlc2tfaWQ6IGRlc2tJZCxcclxuICAgICAgICBjcmVhdGVkX2F0OiBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcclxuICAgIH07XHJcblxyXG4gICAgbmV3IEF2ZXJhZ2VUaW1lTW9kZWwoaW5zZXJ0RGF0YSlcclxuICAgICAgICAuc2F2ZSgpXHJcbiAgICAgICAgLnRoZW4oKHNhdmVkQXZnVGltZSkgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHtcclxuICAgICAgICAgICAgICAgIHRpbWU6IHNhdmVkQXZnVGltZS5nZXQoJ3RpbWUnKSxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHNhdmVkQXZnVGltZS5nZXQoJ2NyZWF0ZWRfYXQnKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8vVGhpcyBmdW5jdGlvbiBnZXQgdGhlIGF2ZXJhZ2EgdGltZSBmcm9tIGRhdGFiYXNlIGFuZCBzZW5kIGJhY2sgcmVzcG9uc2UgdG8gdGhlIHVzZXIuXHJcblxyXG5jb25zdCBnZXRBdmVyYWdlVGltZSA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGNvbnN0IHtkZXNrSWR9ID0gcmVxLnF1ZXJ5O1xyXG5cclxuICAgIG5ldyBBdmVyYWdlVGltZU1vZGVsKClcclxuICAgICAgICAud2hlcmUoJ2Rlc2tfaWQnLCBkZXNrSWQpXHJcbiAgICAgICAgLm9yZGVyQnkoJ2lkJywgJ2Rlc2MnKVxyXG4gICAgICAgIC5mZXRjaCh7XHJcbiAgICAgICAgICAgIGNvbHVtbnM6IFsndGltZScsICdjcmVhdGVkX2F0J10sXHJcbiAgICAgICAgICAgIHJlcXVpcmU6IGZhbHNlLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHJlc3VsdCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBlcnIpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5yb3V0ZSgnL2Rlc2snKS5wb3N0KGNyZWF0ZURlc2spLmdldChsaXN0RGVza3MpO1xyXG5cclxucm91dGVyLnJvdXRlKCcvZGVzay86aWQnKS5kZWxldGUocmVtb3ZlRGVzaykucHV0KHNldEFjdGl2aXR5VG9EZXNrKTtcclxuXHJcbnJvdXRlci5yb3V0ZSgnL2Rlc2svc3RhdHMvdGltZScpLnBvc3Qoc2V0QXZlcmFnZVRpbWUpLmdldChnZXRBdmVyYWdlVGltZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "desk_service.js"
      ],
      "names": [
        "createDesk",
        "req",
        "res",
        "name",
        "body",
        "Error",
        "DeskModel",
        "save",
        "then",
        "savedDesk",
        "catch",
        "err",
        "removeDesk",
        "id",
        "params",
        "Number",
        "isInteger",
        "where",
        "is_deleted",
        "method",
        "listDesks",
        "fetchAll",
        "columns",
        "require",
        "result",
        "data",
        "setActivityToDesk",
        "status",
        "undefined",
        "is_active",
        "setAverageTime",
        "time",
        "deskId",
        "insertData",
        "desk_id",
        "created_at",
        "format",
        "AverageTimeModel",
        "savedAvgTime",
        "get",
        "getAverageTime",
        "query",
        "orderBy",
        "fetch",
        "router",
        "express",
        "Router",
        "route",
        "post",
        "delete",
        "put"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import moment from 'moment';\r\nimport express from 'express';\r\n// Models\r\nimport DeskModel from '../models/desk';\r\nimport AverageTimeModel from '../models/averageTime';\r\n// Utils that determine response type\r\nimport {errorResp, successResp} from '../util/http_util';\r\n\r\n// Endpoints\r\n\r\n//Accessible by admin only\r\n\r\n//This function take name and create a new desk.\r\nconst createDesk = (req, res) => {\r\n    const {name} = req.body;\r\n\r\n    if (!name) {\r\n        errorResp(res, new Error('Name must be exists'));\r\n        return;\r\n    }\r\n    new DeskModel({\r\n        name,\r\n    })\r\n        .save()\r\n        .then((savedDesk) => {\r\n            successResp(res, savedDesk, 201);\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n// This function takes id and removes the desk from system.\r\nconst removeDesk = (req, res) => {\r\n    const {id} = req.params;\r\n    if (!Number.isInteger(Number(id))) {\r\n        errorResp(res, new Error('id must be number'));\r\n        return;\r\n    }\r\n\r\n    new DeskModel()\r\n        .where({id, is_deleted: false})\r\n        .save(\r\n            {\r\n                is_deleted: true,\r\n            },\r\n            {\r\n                method: 'update',\r\n            }\r\n        )\r\n        .then(() => {\r\n            successResp(res, {id});\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n// This function lists the active desk.\r\nconst listDesks = (req, res) => {\r\n    DeskModel.where({\r\n        is_deleted: false,\r\n    })\r\n        .fetchAll({\r\n            columns: ['id', 'name', 'is_active', 'created_at'],\r\n            require: false,\r\n        })\r\n        .then((result) => {\r\n            successResp(res, {data: result});\r\n        });\r\n};\r\n\r\n// This function take desk id and status and change activity of the desk active to deactive or vice versa.\r\nconst setActivityToDesk = (req, res) => {\r\n\r\n    const {status} = req.body;\r\n    const {id} = req.params;\r\n\r\n    if (!Number.isInteger(Number(id))) {\r\n        errorResp(res, new Error('id must be number'));\r\n        return;\r\n    }\r\n\r\n    if (status === undefined) {\r\n        errorResp(res, new Error('status must be exists'));\r\n        return;\r\n    }\r\n\r\n    DeskModel.where({id, is_active: !status})\r\n        .save({is_active: status}, {method: 'update'})\r\n        .then(() => {\r\n            successResp(res, {id, status});\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, new Error('No Rows Updated'));\r\n        });\r\n\r\n};\r\n// This function sets the given desks' average time that kiosk machine send.\r\nconst setAverageTime = (req, res) => {\r\n\r\n    const {time, deskId} = req.body || {};\r\n\r\n    if (Number(time) <= 0) {\r\n        errorResp(res, new Error('Time must be greater than zero'));\r\n        return;\r\n    }\r\n\r\n    const insertData = {\r\n        time,\r\n        desk_id: deskId,\r\n        created_at: moment().format('YYYY-MM-DD HH:mm:ss'),\r\n    };\r\n\r\n    new AverageTimeModel(insertData)\r\n        .save()\r\n        .then((savedAvgTime) => {\r\n            successResp(res, {\r\n                time: savedAvgTime.get('time'),\r\n                created_at: savedAvgTime.get('created_at'),\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n\r\n//This function get the averaga time from database and send back response to the user.\r\n\r\nconst getAverageTime = (req, res) => {\r\n\r\n    const {deskId} = req.query;\r\n\r\n    new AverageTimeModel()\r\n        .where('desk_id', deskId)\r\n        .orderBy('id', 'desc')\r\n        .fetch({\r\n            columns: ['time', 'created_at'],\r\n            require: false,\r\n        })\r\n        .then((result) => {\r\n            successResp(res, result);\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\nconst router = express.Router();\r\n\r\nrouter.route('/desk').post(createDesk).get(listDesks);\r\n\r\nrouter.route('/desk/:id').delete(removeDesk).put(setActivityToDesk);\r\n\r\nrouter.route('/desk/stats/time').post(setAverageTime).get(getAverageTime);\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609259670184
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\user_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\user_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\user_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\user_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "user_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _cryptoRandomString = _interopRequireDefault(require(\"crypto-random-string\"));\n\nvar _user = _interopRequireDefault(require(\"../models/user\"));\n\nvar _refLink = _interopRequireDefault(require(\"../models/refLink\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Utils that determine response type\nconst router = _express.default.Router(); // Endpoints\n// Remove portal user by admin.\n//This function checks if username is valid and in the database or not and change \"is_deleted\" value to the true.\n\n\nconst removeUser = (req, res) => {\n  const {\n    username\n  } = req.params;\n\n  if (Number.isInteger(Number(username))) {\n    (0, _http_util.errorResp)(res, new Error('username cant be number'));\n    return;\n  }\n\n  _user.default.where({\n    username: username,\n    is_deleted: false\n  }).save({\n    is_deleted: true\n  }, {\n    method: 'update'\n  }).then(() => {\n    (0, _http_util.successResp)(res, {\n      username\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; // This function query databse for active users.\n\n\nconst listUsers = (req, res) => {\n  _user.default.where({\n    is_deleted: false\n  }).fetchAll({\n    columns: ['id', 'username'],\n    require: false\n  }).then(result => {\n    (0, _http_util.successResp)(res, {\n      data: result\n    });\n  }).catch(err => {\n    console.error(err);\n    (0, _http_util.errorResp)(res, new Error('error occurs when listing users'));\n  });\n};\n/*\r\n    Create ref link for register as portal user\r\n*/\n// Creating new referance link for to be used in the registeration as portal user.\n// Link expire date set to 1 day.\n\n\nconst createRefLink = (req, res) => {\n  let ref = (0, _cryptoRandomString.default)({\n    length: 15\n  });\n  let expireDate = (0, _moment.default)().add(1, 'days').format('YYYY-MM-DD HH:mm:ss');\n  new _refLink.default({\n    ref_code: ref,\n    expires_at: expireDate\n  }).save().then(result => {\n    (0, _http_util.successResp)(res, {\n      ref_code: result.get('ref_code'),\n      expires_at: expireDate\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; // This fucntion change users' priviledge.\n// Set priority the user  \n//    0 =>  Mobile User\n//    10 => Portal User\n//    3 =>  Admin\n\n\nconst setPriority = (req, res) => {\n  const {\n    priority,\n    userId\n  } = req.body;\n\n  if (!Number.isInteger(Number(userId))) {\n    (0, _http_util.errorResp)(res, new Error('userId must be number'));\n    return;\n  }\n\n  if (!Number.isInteger(Number(priority))) {\n    (0, _http_util.errorResp)(res, new Error('priority must be number'));\n    return;\n  }\n\n  _user.default.where('id', userId).fetch({\n    require: true\n  }).then(result => {\n    _user.default.where('id', userId).save({\n      priority_key: priority\n    }, {\n      method: 'update'\n    }).then(updateResult => {\n      (0, _http_util.successResp)(res, {\n        id: updateResult.get('id'),\n        priority_key: updateResult.get('priority_key')\n      });\n    });\n  }).catch(err => {\n    console.log(err);\n    (0, _http_util.errorResp)(res, new Error('error occurs when setting priority'));\n  });\n};\n\nrouter.route('/user/:username').delete(removeUser);\nrouter.route('/user').get(listUsers);\nrouter.route('/user/createRefLink').get(createRefLink);\nrouter.route('/user/setPriority').post(setPriority);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJfc2VydmljZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicmVtb3ZlVXNlciIsInJlcSIsInJlcyIsInVzZXJuYW1lIiwicGFyYW1zIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwiRXJyb3IiLCJVc2VyTW9kZWwiLCJ3aGVyZSIsImlzX2RlbGV0ZWQiLCJzYXZlIiwibWV0aG9kIiwidGhlbiIsImNhdGNoIiwiZXJyIiwibGlzdFVzZXJzIiwiZmV0Y2hBbGwiLCJjb2x1bW5zIiwicmVxdWlyZSIsInJlc3VsdCIsImRhdGEiLCJjb25zb2xlIiwiZXJyb3IiLCJjcmVhdGVSZWZMaW5rIiwicmVmIiwibGVuZ3RoIiwiZXhwaXJlRGF0ZSIsImFkZCIsImZvcm1hdCIsIlJlZk1vZGVsIiwicmVmX2NvZGUiLCJleHBpcmVzX2F0IiwiZ2V0Iiwic2V0UHJpb3JpdHkiLCJwcmlvcml0eSIsInVzZXJJZCIsImJvZHkiLCJmZXRjaCIsInByaW9yaXR5X2tleSIsInVwZGF0ZVJlc3VsdCIsImlkIiwibG9nIiwicm91dGUiLCJkZWxldGUiLCJwb3N0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBR0E7Ozs7QUFMQTtBQUlBO0FBRUEsTUFBTUEsTUFBTSxHQUFHQyxpQkFBUUMsTUFBUixFQUFmLEMsQ0FFQTtBQUVBO0FBRUE7OztBQUNBLE1BQU1DLFVBQVUsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUM3QixRQUFNO0FBQUNDLElBQUFBO0FBQUQsTUFBYUYsR0FBRyxDQUFDRyxNQUF2Qjs7QUFFQSxNQUFJQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJELE1BQU0sQ0FBQ0YsUUFBRCxDQUF2QixDQUFKLEVBQXdDO0FBQ3BDLDhCQUFVRCxHQUFWLEVBQWUsSUFBSUssS0FBSixDQUFVLHlCQUFWLENBQWY7QUFDQTtBQUNIOztBQUVEQyxnQkFBVUMsS0FBVixDQUFnQjtBQUFDTixJQUFBQSxRQUFRLEVBQUNBLFFBQVY7QUFBb0JPLElBQUFBLFVBQVUsRUFBRTtBQUFoQyxHQUFoQixFQUNLQyxJQURMLENBQ1U7QUFBQ0QsSUFBQUEsVUFBVSxFQUFFO0FBQWIsR0FEVixFQUM4QjtBQUFDRSxJQUFBQSxNQUFNLEVBQUU7QUFBVCxHQUQ5QixFQUVLQyxJQUZMLENBRVUsTUFBTTtBQUNSLGdDQUFZWCxHQUFaLEVBQWlCO0FBQUNDLE1BQUFBO0FBQUQsS0FBakI7QUFDSCxHQUpMLEVBS0tXLEtBTEwsQ0FLWUMsR0FBRCxJQUFTO0FBQ1osOEJBQVViLEdBQVYsRUFBZWEsR0FBZjtBQUNILEdBUEw7QUFRSCxDQWhCRCxDLENBbUJBOzs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsQ0FBQ2YsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDNUJNLGdCQUFVQyxLQUFWLENBQWdCO0FBQUNDLElBQUFBLFVBQVUsRUFBRTtBQUFiLEdBQWhCLEVBQ0tPLFFBREwsQ0FDYztBQUNOQyxJQUFBQSxPQUFPLEVBQUUsQ0FBQyxJQUFELEVBQU8sVUFBUCxDQURIO0FBRU5DLElBQUFBLE9BQU8sRUFBRTtBQUZILEdBRGQsRUFLS04sSUFMTCxDQUtXTyxNQUFELElBQVk7QUFDZCxnQ0FBWWxCLEdBQVosRUFBaUI7QUFBQ21CLE1BQUFBLElBQUksRUFBRUQ7QUFBUCxLQUFqQjtBQUNILEdBUEwsRUFRS04sS0FSTCxDQVFZQyxHQUFELElBQVM7QUFDWk8sSUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWNSLEdBQWQ7QUFDQSw4QkFBVWIsR0FBVixFQUFlLElBQUlLLEtBQUosQ0FBVSxpQ0FBVixDQUFmO0FBQ0gsR0FYTDtBQVlILENBYkQ7QUFlQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFFQSxNQUFNaUIsYUFBYSxHQUFHLENBQUN2QixHQUFELEVBQU1DLEdBQU4sS0FBYztBQUVoQyxNQUFJdUIsR0FBRyxHQUFHLGlDQUFtQjtBQUFDQyxJQUFBQSxNQUFNLEVBQUU7QUFBVCxHQUFuQixDQUFWO0FBQ0EsTUFBSUMsVUFBVSxHQUFHLHVCQUFTQyxHQUFULENBQWEsQ0FBYixFQUFnQixNQUFoQixFQUF3QkMsTUFBeEIsQ0FBK0IscUJBQS9CLENBQWpCO0FBQ0EsTUFBSUMsZ0JBQUosQ0FBYTtBQUNUQyxJQUFBQSxRQUFRLEVBQUVOLEdBREQ7QUFFVE8sSUFBQUEsVUFBVSxFQUFFTDtBQUZILEdBQWIsRUFJS2hCLElBSkwsR0FLS0UsSUFMTCxDQUtXTyxNQUFELElBQVk7QUFDZCxnQ0FBWWxCLEdBQVosRUFBaUI7QUFBQzZCLE1BQUFBLFFBQVEsRUFBRVgsTUFBTSxDQUFDYSxHQUFQLENBQVcsVUFBWCxDQUFYO0FBQW1DRCxNQUFBQSxVQUFVLEVBQUVMO0FBQS9DLEtBQWpCO0FBQ0gsR0FQTCxFQVFLYixLQVJMLENBUVlDLEdBQUQsSUFBUztBQUNaLDhCQUFVYixHQUFWLEVBQWVhLEdBQWY7QUFDSCxHQVZMO0FBV0gsQ0FmRCxDLENBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBLE1BQU1tQixXQUFXLEdBQUcsQ0FBQ2pDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzlCLFFBQU07QUFBQ2lDLElBQUFBLFFBQUQ7QUFBV0MsSUFBQUE7QUFBWCxNQUFxQm5DLEdBQUcsQ0FBQ29DLElBQS9COztBQUVBLE1BQUksQ0FBQ2hDLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkQsTUFBTSxDQUFDK0IsTUFBRCxDQUF2QixDQUFMLEVBQXVDO0FBQ25DLDhCQUFVbEMsR0FBVixFQUFlLElBQUlLLEtBQUosQ0FBVSx1QkFBVixDQUFmO0FBQ0E7QUFDSDs7QUFDRCxNQUFJLENBQUNGLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkQsTUFBTSxDQUFDOEIsUUFBRCxDQUF2QixDQUFMLEVBQXlDO0FBQ3JDLDhCQUFVakMsR0FBVixFQUFlLElBQUlLLEtBQUosQ0FBVSx5QkFBVixDQUFmO0FBQ0E7QUFDSDs7QUFFREMsZ0JBQ0tDLEtBREwsQ0FDVyxJQURYLEVBQ2lCMkIsTUFEakIsRUFFS0UsS0FGTCxDQUVXO0FBQUNuQixJQUFBQSxPQUFPLEVBQUU7QUFBVixHQUZYLEVBR0tOLElBSEwsQ0FHV08sTUFBRCxJQUFZO0FBQ2RaLGtCQUFVQyxLQUFWLENBQWdCLElBQWhCLEVBQXNCMkIsTUFBdEIsRUFBOEJ6QixJQUE5QixDQUNJO0FBQ0k0QixNQUFBQSxZQUFZLEVBQUVKO0FBRGxCLEtBREosRUFJSTtBQUNJdkIsTUFBQUEsTUFBTSxFQUFFO0FBRFosS0FKSixFQU9FQyxJQVBGLENBT1EyQixZQUFELElBQWtCO0FBQ3JCLGtDQUFZdEMsR0FBWixFQUFpQjtBQUNidUMsUUFBQUEsRUFBRSxFQUFFRCxZQUFZLENBQUNQLEdBQWIsQ0FBaUIsSUFBakIsQ0FEUztBQUViTSxRQUFBQSxZQUFZLEVBQUVDLFlBQVksQ0FBQ1AsR0FBYixDQUFpQixjQUFqQjtBQUZELE9BQWpCO0FBSUgsS0FaRDtBQWNILEdBbEJMLEVBbUJLbkIsS0FuQkwsQ0FtQllDLEdBQUQsSUFBUztBQUNaTyxJQUFBQSxPQUFPLENBQUNvQixHQUFSLENBQVkzQixHQUFaO0FBQ0EsOEJBQVViLEdBQVYsRUFBZSxJQUFJSyxLQUFKLENBQVUsb0NBQVYsQ0FBZjtBQUNILEdBdEJMO0FBdUJILENBbkNEOztBQXNDQVYsTUFBTSxDQUFDOEMsS0FBUCxDQUFhLGlCQUFiLEVBQWdDQyxNQUFoQyxDQUF1QzVDLFVBQXZDO0FBQ0FILE1BQU0sQ0FBQzhDLEtBQVAsQ0FBYSxPQUFiLEVBQXNCVixHQUF0QixDQUEwQmpCLFNBQTFCO0FBQ0FuQixNQUFNLENBQUM4QyxLQUFQLENBQWEscUJBQWIsRUFBb0NWLEdBQXBDLENBQXdDVCxhQUF4QztBQUNBM0IsTUFBTSxDQUFDOEMsS0FBUCxDQUFhLG1CQUFiLEVBQWtDRSxJQUFsQyxDQUF1Q1gsV0FBdkM7ZUFFZXJDLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcc2VydmljZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCBjcnlwdG9SYW5kb21TdHJpbmcgZnJvbSAnY3J5cHRvLXJhbmRvbS1zdHJpbmcnO1xyXG4vLyBNb2RlbHNcclxuaW1wb3J0IFVzZXJNb2RlbCBmcm9tICcuLi9tb2RlbHMvdXNlcic7XHJcbmltcG9ydCBSZWZNb2RlbCBmcm9tICcuLi9tb2RlbHMvcmVmTGluayc7XHJcblxyXG4vLyBVdGlscyB0aGF0IGRldGVybWluZSByZXNwb25zZSB0eXBlXHJcbmltcG9ydCB7ZXJyb3JSZXNwLCBzdWNjZXNzUmVzcH0gZnJvbSAnLi4vdXRpbC9odHRwX3V0aWwnO1xyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuLy8gRW5kcG9pbnRzXHJcblxyXG4vLyBSZW1vdmUgcG9ydGFsIHVzZXIgYnkgYWRtaW4uXHJcblxyXG4vL1RoaXMgZnVuY3Rpb24gY2hlY2tzIGlmIHVzZXJuYW1lIGlzIHZhbGlkIGFuZCBpbiB0aGUgZGF0YWJhc2Ugb3Igbm90IGFuZCBjaGFuZ2UgXCJpc19kZWxldGVkXCIgdmFsdWUgdG8gdGhlIHRydWUuXHJcbmNvbnN0IHJlbW92ZVVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHt1c2VybmFtZX0gPSByZXEucGFyYW1zO1xyXG5cclxuICAgIGlmIChOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcih1c2VybmFtZSkpKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCd1c2VybmFtZSBjYW50IGJlIG51bWJlcicpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgVXNlck1vZGVsLndoZXJlKHt1c2VybmFtZTp1c2VybmFtZSwgaXNfZGVsZXRlZDogZmFsc2V9KVxyXG4gICAgICAgIC5zYXZlKHtpc19kZWxldGVkOiB0cnVlfSwge21ldGhvZDogJ3VwZGF0ZSd9KVxyXG4gICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7dXNlcm5hbWV9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG5cclxuLy8gVGhpcyBmdW5jdGlvbiBxdWVyeSBkYXRhYnNlIGZvciBhY3RpdmUgdXNlcnMuXHJcbmNvbnN0IGxpc3RVc2VycyA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgVXNlck1vZGVsLndoZXJlKHtpc19kZWxldGVkOiBmYWxzZX0pXHJcbiAgICAgICAgLmZldGNoQWxsKHtcclxuICAgICAgICAgICAgY29sdW1uczogWydpZCcsICd1c2VybmFtZSddLFxyXG4gICAgICAgICAgICByZXF1aXJlOiBmYWxzZSxcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7ZGF0YTogcmVzdWx0fSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignZXJyb3Igb2NjdXJzIHdoZW4gbGlzdGluZyB1c2VycycpKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbi8qXHJcbiAgICBDcmVhdGUgcmVmIGxpbmsgZm9yIHJlZ2lzdGVyIGFzIHBvcnRhbCB1c2VyXHJcbiovXHJcblxyXG4vLyBDcmVhdGluZyBuZXcgcmVmZXJhbmNlIGxpbmsgZm9yIHRvIGJlIHVzZWQgaW4gdGhlIHJlZ2lzdGVyYXRpb24gYXMgcG9ydGFsIHVzZXIuXHJcbi8vIExpbmsgZXhwaXJlIGRhdGUgc2V0IHRvIDEgZGF5LlxyXG5cclxuY29uc3QgY3JlYXRlUmVmTGluayA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCByZWYgPSBjcnlwdG9SYW5kb21TdHJpbmcoe2xlbmd0aDogMTV9KTtcclxuICAgIGxldCBleHBpcmVEYXRlID0gbW9tZW50KCkuYWRkKDEsICdkYXlzJykuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7XHJcbiAgICBuZXcgUmVmTW9kZWwoe1xyXG4gICAgICAgIHJlZl9jb2RlOiByZWYsXHJcbiAgICAgICAgZXhwaXJlc19hdDogZXhwaXJlRGF0ZVxyXG4gICAgfSlcclxuICAgICAgICAuc2F2ZSgpXHJcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBzdWNjZXNzUmVzcChyZXMsIHtyZWZfY29kZTogcmVzdWx0LmdldCgncmVmX2NvZGUnKSwgZXhwaXJlc19hdDogZXhwaXJlRGF0ZX0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgZXJyKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcbi8vIFRoaXMgZnVjbnRpb24gY2hhbmdlIHVzZXJzJyBwcml2aWxlZGdlLlxyXG4vLyBTZXQgcHJpb3JpdHkgdGhlIHVzZXIgIFxyXG4vLyAgICAwID0+ICBNb2JpbGUgVXNlclxyXG4vLyAgICAxMCA9PiBQb3J0YWwgVXNlclxyXG4vLyAgICAzID0+ICBBZG1pblxyXG5cclxuY29uc3Qgc2V0UHJpb3JpdHkgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtwcmlvcml0eSwgdXNlcklkfSA9IHJlcS5ib2R5O1xyXG4gICAgXHJcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoTnVtYmVyKHVzZXJJZCkpKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCd1c2VySWQgbXVzdCBiZSBudW1iZXInKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcihwcmlvcml0eSkpKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdwcmlvcml0eSBtdXN0IGJlIG51bWJlcicpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFVzZXJNb2RlbFxyXG4gICAgICAgIC53aGVyZSgnaWQnLCB1c2VySWQpXHJcbiAgICAgICAgLmZldGNoKHtyZXF1aXJlOiB0cnVlfSlcclxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIFVzZXJNb2RlbC53aGVyZSgnaWQnLCB1c2VySWQpLnNhdmUoXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlfa2V5OiBwcmlvcml0eVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICd1cGRhdGUnLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApLnRoZW4oKHVwZGF0ZVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHVwZGF0ZVJlc3VsdC5nZXQoJ2lkJyksXHJcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHlfa2V5OiB1cGRhdGVSZXN1bHQuZ2V0KCdwcmlvcml0eV9rZXknKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIG5ldyBFcnJvcignZXJyb3Igb2NjdXJzIHdoZW4gc2V0dGluZyBwcmlvcml0eScpKTtcclxuICAgICAgICB9KTtcclxufTtcclxuXHJcblxyXG5yb3V0ZXIucm91dGUoJy91c2VyLzp1c2VybmFtZScpLmRlbGV0ZShyZW1vdmVVc2VyKTtcclxucm91dGVyLnJvdXRlKCcvdXNlcicpLmdldChsaXN0VXNlcnMpO1xyXG5yb3V0ZXIucm91dGUoJy91c2VyL2NyZWF0ZVJlZkxpbmsnKS5nZXQoY3JlYXRlUmVmTGluayk7XHJcbnJvdXRlci5yb3V0ZSgnL3VzZXIvc2V0UHJpb3JpdHknKS5wb3N0KHNldFByaW9yaXR5KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuXHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "user_service.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "removeUser",
        "req",
        "res",
        "username",
        "params",
        "Number",
        "isInteger",
        "Error",
        "UserModel",
        "where",
        "is_deleted",
        "save",
        "method",
        "then",
        "catch",
        "err",
        "listUsers",
        "fetchAll",
        "columns",
        "require",
        "result",
        "data",
        "console",
        "error",
        "createRefLink",
        "ref",
        "length",
        "expireDate",
        "add",
        "format",
        "RefModel",
        "ref_code",
        "expires_at",
        "get",
        "setPriority",
        "priority",
        "userId",
        "body",
        "fetch",
        "priority_key",
        "updateResult",
        "id",
        "log",
        "route",
        "delete",
        "post"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAGA;;;;AALA;AAIA;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAEA;AAEA;AAEA;;;AACA,MAAMC,UAAU,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC7B,QAAM;AAACC,IAAAA;AAAD,MAAaF,GAAG,CAACG,MAAvB;;AAEA,MAAIC,MAAM,CAACC,SAAP,CAAiBD,MAAM,CAACF,QAAD,CAAvB,CAAJ,EAAwC;AACpC,8BAAUD,GAAV,EAAe,IAAIK,KAAJ,CAAU,yBAAV,CAAf;AACA;AACH;;AAEDC,gBAAUC,KAAV,CAAgB;AAACN,IAAAA,QAAQ,EAACA,QAAV;AAAoBO,IAAAA,UAAU,EAAE;AAAhC,GAAhB,EACKC,IADL,CACU;AAACD,IAAAA,UAAU,EAAE;AAAb,GADV,EAC8B;AAACE,IAAAA,MAAM,EAAE;AAAT,GAD9B,EAEKC,IAFL,CAEU,MAAM;AACR,gCAAYX,GAAZ,EAAiB;AAACC,MAAAA;AAAD,KAAjB;AACH,GAJL,EAKKW,KALL,CAKYC,GAAD,IAAS;AACZ,8BAAUb,GAAV,EAAea,GAAf;AACH,GAPL;AAQH,CAhBD,C,CAmBA;;;AACA,MAAMC,SAAS,GAAG,CAACf,GAAD,EAAMC,GAAN,KAAc;AAC5BM,gBAAUC,KAAV,CAAgB;AAACC,IAAAA,UAAU,EAAE;AAAb,GAAhB,EACKO,QADL,CACc;AACNC,IAAAA,OAAO,EAAE,CAAC,IAAD,EAAO,UAAP,CADH;AAENC,IAAAA,OAAO,EAAE;AAFH,GADd,EAKKN,IALL,CAKWO,MAAD,IAAY;AACd,gCAAYlB,GAAZ,EAAiB;AAACmB,MAAAA,IAAI,EAAED;AAAP,KAAjB;AACH,GAPL,EAQKN,KARL,CAQYC,GAAD,IAAS;AACZO,IAAAA,OAAO,CAACC,KAAR,CAAcR,GAAd;AACA,8BAAUb,GAAV,EAAe,IAAIK,KAAJ,CAAU,iCAAV,CAAf;AACH,GAXL;AAYH,CAbD;AAeA;AACA;AACA;AAEA;AACA;;;AAEA,MAAMiB,aAAa,GAAG,CAACvB,GAAD,EAAMC,GAAN,KAAc;AAEhC,MAAIuB,GAAG,GAAG,iCAAmB;AAACC,IAAAA,MAAM,EAAE;AAAT,GAAnB,CAAV;AACA,MAAIC,UAAU,GAAG,uBAASC,GAAT,CAAa,CAAb,EAAgB,MAAhB,EAAwBC,MAAxB,CAA+B,qBAA/B,CAAjB;AACA,MAAIC,gBAAJ,CAAa;AACTC,IAAAA,QAAQ,EAAEN,GADD;AAETO,IAAAA,UAAU,EAAEL;AAFH,GAAb,EAIKhB,IAJL,GAKKE,IALL,CAKWO,MAAD,IAAY;AACd,gCAAYlB,GAAZ,EAAiB;AAAC6B,MAAAA,QAAQ,EAAEX,MAAM,CAACa,GAAP,CAAW,UAAX,CAAX;AAAmCD,MAAAA,UAAU,EAAEL;AAA/C,KAAjB;AACH,GAPL,EAQKb,KARL,CAQYC,GAAD,IAAS;AACZ,8BAAUb,GAAV,EAAea,GAAf;AACH,GAVL;AAWH,CAfD,C,CAiBA;AACA;AACA;AACA;AACA;;;AAEA,MAAMmB,WAAW,GAAG,CAACjC,GAAD,EAAMC,GAAN,KAAc;AAC9B,QAAM;AAACiC,IAAAA,QAAD;AAAWC,IAAAA;AAAX,MAAqBnC,GAAG,CAACoC,IAA/B;;AAEA,MAAI,CAAChC,MAAM,CAACC,SAAP,CAAiBD,MAAM,CAAC+B,MAAD,CAAvB,CAAL,EAAuC;AACnC,8BAAUlC,GAAV,EAAe,IAAIK,KAAJ,CAAU,uBAAV,CAAf;AACA;AACH;;AACD,MAAI,CAACF,MAAM,CAACC,SAAP,CAAiBD,MAAM,CAAC8B,QAAD,CAAvB,CAAL,EAAyC;AACrC,8BAAUjC,GAAV,EAAe,IAAIK,KAAJ,CAAU,yBAAV,CAAf;AACA;AACH;;AAEDC,gBACKC,KADL,CACW,IADX,EACiB2B,MADjB,EAEKE,KAFL,CAEW;AAACnB,IAAAA,OAAO,EAAE;AAAV,GAFX,EAGKN,IAHL,CAGWO,MAAD,IAAY;AACdZ,kBAAUC,KAAV,CAAgB,IAAhB,EAAsB2B,MAAtB,EAA8BzB,IAA9B,CACI;AACI4B,MAAAA,YAAY,EAAEJ;AADlB,KADJ,EAII;AACIvB,MAAAA,MAAM,EAAE;AADZ,KAJJ,EAOEC,IAPF,CAOQ2B,YAAD,IAAkB;AACrB,kCAAYtC,GAAZ,EAAiB;AACbuC,QAAAA,EAAE,EAAED,YAAY,CAACP,GAAb,CAAiB,IAAjB,CADS;AAEbM,QAAAA,YAAY,EAAEC,YAAY,CAACP,GAAb,CAAiB,cAAjB;AAFD,OAAjB;AAIH,KAZD;AAcH,GAlBL,EAmBKnB,KAnBL,CAmBYC,GAAD,IAAS;AACZO,IAAAA,OAAO,CAACoB,GAAR,CAAY3B,GAAZ;AACA,8BAAUb,GAAV,EAAe,IAAIK,KAAJ,CAAU,oCAAV,CAAf;AACH,GAtBL;AAuBH,CAnCD;;AAsCAV,MAAM,CAAC8C,KAAP,CAAa,iBAAb,EAAgCC,MAAhC,CAAuC5C,UAAvC;AACAH,MAAM,CAAC8C,KAAP,CAAa,OAAb,EAAsBV,GAAtB,CAA0BjB,SAA1B;AACAnB,MAAM,CAAC8C,KAAP,CAAa,qBAAb,EAAoCV,GAApC,CAAwCT,aAAxC;AACA3B,MAAM,CAAC8C,KAAP,CAAa,mBAAb,EAAkCE,IAAlC,CAAuCX,WAAvC;eAEerC,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport moment from 'moment';\r\nimport cryptoRandomString from 'crypto-random-string';\r\n// Models\r\nimport UserModel from '../models/user';\r\nimport RefModel from '../models/refLink';\r\n\r\n// Utils that determine response type\r\nimport {errorResp, successResp} from '../util/http_util';\r\nconst router = express.Router();\r\n\r\n// Endpoints\r\n\r\n// Remove portal user by admin.\r\n\r\n//This function checks if username is valid and in the database or not and change \"is_deleted\" value to the true.\r\nconst removeUser = (req, res) => {\r\n    const {username} = req.params;\r\n\r\n    if (Number.isInteger(Number(username))) {\r\n        errorResp(res, new Error('username cant be number'));\r\n        return;\r\n    }\r\n\r\n    UserModel.where({username:username, is_deleted: false})\r\n        .save({is_deleted: true}, {method: 'update'})\r\n        .then(() => {\r\n            successResp(res, {username});\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n\r\n// This function query databse for active users.\r\nconst listUsers = (req, res) => {\r\n    UserModel.where({is_deleted: false})\r\n        .fetchAll({\r\n            columns: ['id', 'username'],\r\n            require: false,\r\n        })\r\n        .then((result) => {\r\n            successResp(res, {data: result});\r\n        })\r\n        .catch((err) => {\r\n            console.error(err);\r\n            errorResp(res, new Error('error occurs when listing users'));\r\n        });\r\n};\r\n\r\n/*\r\n    Create ref link for register as portal user\r\n*/\r\n\r\n// Creating new referance link for to be used in the registeration as portal user.\r\n// Link expire date set to 1 day.\r\n\r\nconst createRefLink = (req, res) => {\r\n\r\n    let ref = cryptoRandomString({length: 15});\r\n    let expireDate = moment().add(1, 'days').format('YYYY-MM-DD HH:mm:ss');\r\n    new RefModel({\r\n        ref_code: ref,\r\n        expires_at: expireDate\r\n    })\r\n        .save()\r\n        .then((result) => {\r\n            successResp(res, {ref_code: result.get('ref_code'), expires_at: expireDate});\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n// This fucntion change users' priviledge.\r\n// Set priority the user  \r\n//    0 =>  Mobile User\r\n//    10 => Portal User\r\n//    3 =>  Admin\r\n\r\nconst setPriority = (req, res) => {\r\n    const {priority, userId} = req.body;\r\n    \r\n    if (!Number.isInteger(Number(userId))) {\r\n        errorResp(res, new Error('userId must be number'));\r\n        return;\r\n    }\r\n    if (!Number.isInteger(Number(priority))) {\r\n        errorResp(res, new Error('priority must be number'));\r\n        return;\r\n    }\r\n    \r\n    UserModel\r\n        .where('id', userId)\r\n        .fetch({require: true})\r\n        .then((result) => {\r\n            UserModel.where('id', userId).save(\r\n                {\r\n                    priority_key: priority\r\n                },\r\n                {\r\n                    method: 'update',\r\n                }\r\n            ).then((updateResult) => {\r\n                successResp(res, {\r\n                    id: updateResult.get('id'),\r\n                    priority_key: updateResult.get('priority_key')\r\n                });\r\n            }) \r\n            \r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            errorResp(res, new Error('error occurs when setting priority'));\r\n        });\r\n};\r\n\r\n\r\nrouter.route('/user/:username').delete(removeUser);\r\nrouter.route('/user').get(listUsers);\r\nrouter.route('/user/createRefLink').get(createRefLink);\r\nrouter.route('/user/setPriority').post(setPriority);\r\n\r\nexport default router;\r\n\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609253464362
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\models\\\\refLink.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\refLink.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\refLink.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\refLink.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
        "sourceFileName": "refLink.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _db = _interopRequireDefault(require(\"../db\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Models that address tables in data base used by due to ORM\nconst bookshelf = require('bookshelf')(_db.default);\n\nconst RefLink = bookshelf.model('RefLink', {\n  tableName: 'ref_links'\n});\nvar _default = RefLink;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZkxpbmsuanMiXSwibmFtZXMiOlsiYm9va3NoZWxmIiwicmVxdWlyZSIsImRiIiwiUmVmTGluayIsIm1vZGVsIiwidGFibGVOYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7QUFDQTtBQUNBLE1BQU1BLFNBQVMsR0FBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBUCxDQUFxQkMsV0FBckIsQ0FBbEI7O0FBRUEsTUFBTUMsT0FBTyxHQUFHSCxTQUFTLENBQUNJLEtBQVYsQ0FBZ0IsU0FBaEIsRUFBMkI7QUFDdkNDLEVBQUFBLFNBQVMsRUFBRTtBQUQ0QixDQUEzQixDQUFoQjtlQUllRixPIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXG1vZGVsc1xcIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRiIGZyb20gJy4uL2RiJztcclxuLy9Nb2RlbHMgdGhhdCBhZGRyZXNzIHRhYmxlcyBpbiBkYXRhIGJhc2UgdXNlZCBieSBkdWUgdG8gT1JNXHJcbmNvbnN0IGJvb2tzaGVsZiA9IHJlcXVpcmUoJ2Jvb2tzaGVsZicpKGRiKTtcclxuXHJcbmNvbnN0IFJlZkxpbmsgPSBib29rc2hlbGYubW9kZWwoJ1JlZkxpbmsnLCB7XHJcbiAgICB0YWJsZU5hbWU6ICdyZWZfbGlua3MnLFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlZkxpbms7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "refLink.js"
      ],
      "names": [
        "bookshelf",
        "require",
        "db",
        "RefLink",
        "model",
        "tableName"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA;AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAP,CAAqBC,WAArB,CAAlB;;AAEA,MAAMC,OAAO,GAAGH,SAAS,CAACI,KAAV,CAAgB,SAAhB,EAA2B;AACvCC,EAAAA,SAAS,EAAE;AAD4B,CAA3B,CAAhB;eAIeF,O",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\models\\",
      "sourcesContent": [
        "import db from '../db';\r\n//Models that address tables in data base used by due to ORM\r\nconst bookshelf = require('bookshelf')(db);\r\n\r\nconst RefLink = bookshelf.model('RefLink', {\r\n    tableName: 'ref_links',\r\n});\r\n\r\nexport default RefLink;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257269000
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\email_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\email_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\email_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\email_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "email_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _email = _interopRequireDefault(require(\"../util/email\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Email\n//For Admin user to send mail\nmodule.exports = (request, response) => {\n  const {\n    message,\n    email\n  } = request.body; // Change the address of \"https://www.google.com\" this to the Web portal url\n\n  const emailService = new _email.default({\n    message,\n    email\n  }, 'Testing mail', 'https://www.google.com');\n  emailService.send();\n  response.status(200).send(`Email sent To: ${email} Successfully`);\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsX3NlcnZpY2UuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVlc3QiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJlbWFpbCIsImJvZHkiLCJlbWFpbFNlcnZpY2UiLCJFbWFpbCIsInNlbmQiLCJzdGF0dXMiXSwibWFwcGluZ3MiOiI7O0FBQ0E7Ozs7QUFEQTtBQUdBO0FBRUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixDQUFDQyxPQUFELEVBQVVDLFFBQVYsS0FBdUI7QUFDcEMsUUFBTTtBQUFDQyxJQUFBQSxPQUFEO0FBQVVDLElBQUFBO0FBQVYsTUFBbUJILE9BQU8sQ0FBQ0ksSUFBakMsQ0FEb0MsQ0FHcEM7O0FBQ0EsUUFBTUMsWUFBWSxHQUFHLElBQUlDLGNBQUosQ0FBVTtBQUFDSixJQUFBQSxPQUFEO0FBQVVDLElBQUFBO0FBQVYsR0FBVixFQUE0QixjQUE1QixFQUE0Qyx3QkFBNUMsQ0FBckI7QUFDQUUsRUFBQUEsWUFBWSxDQUFDRSxJQUFiO0FBQ0FOLEVBQUFBLFFBQVEsQ0FBQ08sTUFBVCxDQUFnQixHQUFoQixFQUFxQkQsSUFBckIsQ0FBMkIsa0JBQWlCSixLQUFNLGVBQWxEO0FBQ0gsQ0FQRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxzZXJ2aWNlc1xcIiwic291cmNlc0NvbnRlbnQiOlsiLy9FbWFpbFxyXG5pbXBvcnQgRW1haWwgZnJvbSAnLi4vdXRpbC9lbWFpbCdcclxuXHJcbi8vRm9yIEFkbWluIHVzZXIgdG8gc2VuZCBtYWlsXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgY29uc3Qge21lc3NhZ2UsIGVtYWlsfSA9IHJlcXVlc3QuYm9keTtcclxuXHJcbiAgICAvLyBDaGFuZ2UgdGhlIGFkZHJlc3Mgb2YgXCJodHRwczovL3d3dy5nb29nbGUuY29tXCIgdGhpcyB0byB0aGUgV2ViIHBvcnRhbCB1cmxcclxuICAgIGNvbnN0IGVtYWlsU2VydmljZSA9IG5ldyBFbWFpbCh7bWVzc2FnZSwgZW1haWx9LCAnVGVzdGluZyBtYWlsJywgJ2h0dHBzOi8vd3d3Lmdvb2dsZS5jb20nKTtcclxuICAgIGVtYWlsU2VydmljZS5zZW5kKCk7XHJcbiAgICByZXNwb25zZS5zdGF0dXMoMjAwKS5zZW5kKGBFbWFpbCBzZW50IFRvOiAke2VtYWlsfSBTdWNjZXNzZnVsbHlgKTtcclxufTtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "email_service.js"
      ],
      "names": [
        "module",
        "exports",
        "request",
        "response",
        "message",
        "email",
        "body",
        "emailService",
        "Email",
        "send",
        "status"
      ],
      "mappings": ";;AACA;;;;AADA;AAGA;AAEAA,MAAM,CAACC,OAAP,GAAiB,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACpC,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA;AAAV,MAAmBH,OAAO,CAACI,IAAjC,CADoC,CAGpC;;AACA,QAAMC,YAAY,GAAG,IAAIC,cAAJ,CAAU;AAACJ,IAAAA,OAAD;AAAUC,IAAAA;AAAV,GAAV,EAA4B,cAA5B,EAA4C,wBAA5C,CAArB;AACAE,EAAAA,YAAY,CAACE,IAAb;AACAN,EAAAA,QAAQ,CAACO,MAAT,CAAgB,GAAhB,EAAqBD,IAArB,CAA2B,kBAAiBJ,KAAM,eAAlD;AACH,CAPD",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "//Email\r\nimport Email from '../util/email'\r\n\r\n//For Admin user to send mail\r\n\r\nmodule.exports = (request, response) => {\r\n    const {message, email} = request.body;\r\n\r\n    // Change the address of \"https://www.google.com\" this to the Web portal url\r\n    const emailService = new Email({message, email}, 'Testing mail', 'https://www.google.com');\r\n    emailService.send();\r\n    response.status(200).send(`Email sent To: ${email} Successfully`);\r\n};\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609256038192
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\util\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\util\\\\email.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\email.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\email.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\email.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\",
        "sourceFileName": "email.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n//Email implementation for to be used to send email by admin to create new portal user\nconst nodemailer = require('nodemailer');\n\nconst Email = function ({\n  email,\n  message\n}, subject, url) {\n  this.to = email;\n  this.message = message;\n  this.url = url;\n  this.subject = subject;\n  this.from = `Admin`;\n}; //Google service email prototype implementation\n\n\nEmail.prototype.newTransport = () => {\n  return nodemailer.createTransport({\n    service: 'Gmail',\n    secure: true,\n    auth: {\n      user: 'denemekistiyorum589@gmail.com',\n      //Gmail account info\n      pass: 'thisisistemporarypassword'\n    }\n  });\n}; //Email operation\n\n\nEmail.prototype.send = async function () {\n  const mailOptions = {\n    from: this.from,\n    to: this.to,\n    subject: this.subject,\n    text: `${this.message} ${this.url}` // message: write this \"click here to gain readonly priviledges\"\n\n  };\n  await this.newTransport().sendMail(mailOptions);\n};\n\nvar _default = Email;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtYWlsLmpzIl0sIm5hbWVzIjpbIm5vZGVtYWlsZXIiLCJyZXF1aXJlIiwiRW1haWwiLCJlbWFpbCIsIm1lc3NhZ2UiLCJzdWJqZWN0IiwidXJsIiwidG8iLCJmcm9tIiwicHJvdG90eXBlIiwibmV3VHJhbnNwb3J0IiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsInNlbmQiLCJtYWlsT3B0aW9ucyIsInRleHQiLCJzZW5kTWFpbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBRUEsTUFBTUEsVUFBVSxHQUFHQyxPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFFQSxNQUFNQyxLQUFLLEdBQUcsVUFBUztBQUFFQyxFQUFBQSxLQUFGO0FBQVNDLEVBQUFBO0FBQVQsQ0FBVCxFQUE2QkMsT0FBN0IsRUFBc0NDLEdBQXRDLEVBQTJDO0FBQ3JELE9BQUtDLEVBQUwsR0FBVUosS0FBVjtBQUNBLE9BQUtDLE9BQUwsR0FBZUEsT0FBZjtBQUNBLE9BQUtFLEdBQUwsR0FBV0EsR0FBWDtBQUNBLE9BQUtELE9BQUwsR0FBZUEsT0FBZjtBQUNBLE9BQUtHLElBQUwsR0FBYSxPQUFiO0FBQ0QsQ0FOSCxDLENBUUE7OztBQUVFTixLQUFLLENBQUNPLFNBQU4sQ0FBZ0JDLFlBQWhCLEdBQStCLE1BQU07QUFDL0IsU0FBT1YsVUFBVSxDQUFDVyxlQUFYLENBQTJCO0FBQzlCQyxJQUFBQSxPQUFPLEVBQUUsT0FEcUI7QUFFOUJDLElBQUFBLE1BQU0sRUFBRSxJQUZzQjtBQUc5QkMsSUFBQUEsSUFBSSxFQUFFO0FBQ0ZDLE1BQUFBLElBQUksRUFBRSwrQkFESjtBQUNxQztBQUN2Q0MsTUFBQUEsSUFBSSxFQUFFO0FBRko7QUFId0IsR0FBM0IsQ0FBUDtBQVFILENBVEgsQyxDQVdGOzs7QUFFSWQsS0FBSyxDQUFDTyxTQUFOLENBQWdCUSxJQUFoQixHQUF1QixrQkFBaUI7QUFDcEMsUUFBTUMsV0FBVyxHQUFHO0FBQ2hCVixJQUFBQSxJQUFJLEVBQUUsS0FBS0EsSUFESztBQUVoQkQsSUFBQUEsRUFBRSxFQUFFLEtBQUtBLEVBRk87QUFHaEJGLElBQUFBLE9BQU8sRUFBRSxLQUFLQSxPQUhFO0FBSWhCYyxJQUFBQSxJQUFJLEVBQUcsR0FBRSxLQUFLZixPQUFRLElBQUcsS0FBS0UsR0FBSSxFQUpsQixDQUtoQjs7QUFMZ0IsR0FBcEI7QUFRQSxRQUFNLEtBQUtJLFlBQUwsR0FBb0JVLFFBQXBCLENBQTZCRixXQUE3QixDQUFOO0FBQ0gsQ0FWRDs7ZUFXZWhCLEsiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcdXRpbFxcIiwic291cmNlc0NvbnRlbnQiOlsiLy9FbWFpbCBpbXBsZW1lbnRhdGlvbiBmb3IgdG8gYmUgdXNlZCB0byBzZW5kIGVtYWlsIGJ5IGFkbWluIHRvIGNyZWF0ZSBuZXcgcG9ydGFsIHVzZXJcclxuXHJcbmNvbnN0IG5vZGVtYWlsZXIgPSByZXF1aXJlKCdub2RlbWFpbGVyJyk7XHJcblxyXG5jb25zdCBFbWFpbCA9IGZ1bmN0aW9uKHsgZW1haWwsIG1lc3NhZ2UgfSwgc3ViamVjdCwgdXJsKSB7XHJcbiAgICB0aGlzLnRvID0gZW1haWw7XHJcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xyXG4gICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICB0aGlzLnN1YmplY3QgPSBzdWJqZWN0O1xyXG4gICAgdGhpcy5mcm9tID0gYEFkbWluYDtcclxuICB9XHJcblxyXG4vL0dvb2dsZSBzZXJ2aWNlIGVtYWlsIHByb3RvdHlwZSBpbXBsZW1lbnRhdGlvblxyXG5cclxuICBFbWFpbC5wcm90b3R5cGUubmV3VHJhbnNwb3J0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XHJcbiAgICAgICAgICAgIHNlcnZpY2U6ICdHbWFpbCcsXHJcbiAgICAgICAgICAgIHNlY3VyZTogdHJ1ZSxcclxuICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICAgICAgdXNlcjogJ2RlbmVtZWtpc3RpeW9ydW01ODlAZ21haWwuY29tJywgLy9HbWFpbCBhY2NvdW50IGluZm9cclxuICAgICAgICAgICAgICAgIHBhc3M6ICd0aGlzaXNpc3RlbXBvcmFyeXBhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbi8vRW1haWwgb3BlcmF0aW9uXHJcblxyXG4gICAgRW1haWwucHJvdG90eXBlLnNlbmQgPSBhc3luYyBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCBtYWlsT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgZnJvbTogdGhpcy5mcm9tLFxyXG4gICAgICAgICAgICB0bzogdGhpcy50byxcclxuICAgICAgICAgICAgc3ViamVjdDogdGhpcy5zdWJqZWN0LFxyXG4gICAgICAgICAgICB0ZXh0OiBgJHt0aGlzLm1lc3NhZ2V9ICR7dGhpcy51cmx9YFxyXG4gICAgICAgICAgICAvLyBtZXNzYWdlOiB3cml0ZSB0aGlzIFwiY2xpY2sgaGVyZSB0byBnYWluIHJlYWRvbmx5IHByaXZpbGVkZ2VzXCJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLm5ld1RyYW5zcG9ydCgpLnNlbmRNYWlsKG1haWxPcHRpb25zKTtcclxuICAgIH1cclxuICAgIGV4cG9ydCBkZWZhdWx0IEVtYWlsO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "email.js"
      ],
      "names": [
        "nodemailer",
        "require",
        "Email",
        "email",
        "message",
        "subject",
        "url",
        "to",
        "from",
        "prototype",
        "newTransport",
        "createTransport",
        "service",
        "secure",
        "auth",
        "user",
        "pass",
        "send",
        "mailOptions",
        "text",
        "sendMail"
      ],
      "mappings": ";;;;;;;AAAA;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,YAAD,CAA1B;;AAEA,MAAMC,KAAK,GAAG,UAAS;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAT,EAA6BC,OAA7B,EAAsCC,GAAtC,EAA2C;AACrD,OAAKC,EAAL,GAAUJ,KAAV;AACA,OAAKC,OAAL,GAAeA,OAAf;AACA,OAAKE,GAAL,GAAWA,GAAX;AACA,OAAKD,OAAL,GAAeA,OAAf;AACA,OAAKG,IAAL,GAAa,OAAb;AACD,CANH,C,CAQA;;;AAEEN,KAAK,CAACO,SAAN,CAAgBC,YAAhB,GAA+B,MAAM;AAC/B,SAAOV,UAAU,CAACW,eAAX,CAA2B;AAC9BC,IAAAA,OAAO,EAAE,OADqB;AAE9BC,IAAAA,MAAM,EAAE,IAFsB;AAG9BC,IAAAA,IAAI,EAAE;AACFC,MAAAA,IAAI,EAAE,+BADJ;AACqC;AACvCC,MAAAA,IAAI,EAAE;AAFJ;AAHwB,GAA3B,CAAP;AAQH,CATH,C,CAWF;;;AAEId,KAAK,CAACO,SAAN,CAAgBQ,IAAhB,GAAuB,kBAAiB;AACpC,QAAMC,WAAW,GAAG;AAChBV,IAAAA,IAAI,EAAE,KAAKA,IADK;AAEhBD,IAAAA,EAAE,EAAE,KAAKA,EAFO;AAGhBF,IAAAA,OAAO,EAAE,KAAKA,OAHE;AAIhBc,IAAAA,IAAI,EAAG,GAAE,KAAKf,OAAQ,IAAG,KAAKE,GAAI,EAJlB,CAKhB;;AALgB,GAApB;AAQA,QAAM,KAAKI,YAAL,GAAoBU,QAApB,CAA6BF,WAA7B,CAAN;AACH,CAVD;;eAWehB,K",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\util\\",
      "sourcesContent": [
        "//Email implementation for to be used to send email by admin to create new portal user\r\n\r\nconst nodemailer = require('nodemailer');\r\n\r\nconst Email = function({ email, message }, subject, url) {\r\n    this.to = email;\r\n    this.message = message;\r\n    this.url = url;\r\n    this.subject = subject;\r\n    this.from = `Admin`;\r\n  }\r\n\r\n//Google service email prototype implementation\r\n\r\n  Email.prototype.newTransport = () => {\r\n        return nodemailer.createTransport({\r\n            service: 'Gmail',\r\n            secure: true,\r\n            auth: {\r\n                user: 'denemekistiyorum589@gmail.com', //Gmail account info\r\n                pass: 'thisisistemporarypassword'\r\n            }\r\n        })\r\n    }\r\n\r\n//Email operation\r\n\r\n    Email.prototype.send = async function() {\r\n        const mailOptions = {\r\n            from: this.from,\r\n            to: this.to,\r\n            subject: this.subject,\r\n            text: `${this.message} ${this.url}`\r\n            // message: write this \"click here to gain readonly priviledges\"\r\n        };\r\n\r\n        await this.newTransport().sendMail(mailOptions);\r\n    }\r\n    export default Email;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609252659014
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\verification_token_genrate_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\verification_token_genrate_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\verification_token_genrate_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\verification_token_genrate_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "verification_token_genrate_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _portalVerificationString = _interopRequireDefault(require(\"../models/portalVerificationString\"));\n\nvar _cryptoRandomString = _interopRequireDefault(require(\"crypto-random-string\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//Generate url for portal user to be register on the system.\nconst genratePortalRegistrationLink = (req, res) => {\n  //Random 15 character string creation for to be used in the link that admin send.\n  const token = (0, _cryptoRandomString.default)({\n    length: 15\n  });\n  new _portalVerificationString.default({\n    token\n  }).save().then(result => {\n    if (req.hostname === 'localhost') {\n      //Determine the url address of the API\n      res.status(200).send({\n        registrationUrl: req.protocol + \"://\" + req.hostname + \":5000/auth/portalRegister/\" + token\n      });\n    } else {\n      res.status(200).send({\n        registrationUrl: req.protocol + \"://\" + req.hostname + \"/auth/portalRegister/\" + token\n      });\n    }\n  });\n};\n\nvar _default = genratePortalRegistrationLink;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmaWNhdGlvbl90b2tlbl9nZW5yYXRlX3NlcnZpY2UuanMiXSwibmFtZXMiOlsiZ2VucmF0ZVBvcnRhbFJlZ2lzdHJhdGlvbkxpbmsiLCJyZXEiLCJyZXMiLCJ0b2tlbiIsImxlbmd0aCIsIlBvcnRhbFZlcmlmaWNhdGlvblN0cmluZ01vZGVsIiwic2F2ZSIsInRoZW4iLCJyZXN1bHQiLCJob3N0bmFtZSIsInN0YXR1cyIsInNlbmQiLCJyZWdpc3RyYXRpb25VcmwiLCJwcm90b2NvbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBR0E7QUFDQSxNQUFNQSw2QkFBNkIsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUNoRDtBQUNBLFFBQU1DLEtBQUssR0FBRyxpQ0FBbUI7QUFBQ0MsSUFBQUEsTUFBTSxFQUFFO0FBQVQsR0FBbkIsQ0FBZDtBQUNBLE1BQUlDLGlDQUFKLENBQWtDO0FBQzlCRixJQUFBQTtBQUQ4QixHQUFsQyxFQUVHRyxJQUZILEdBR0NDLElBSEQsQ0FHTUMsTUFBTSxJQUFJO0FBQ1osUUFBR1AsR0FBRyxDQUFDUSxRQUFKLEtBQWlCLFdBQXBCLEVBQWdDO0FBRTVCO0FBQ0FQLE1BQUFBLEdBQUcsQ0FBQ1EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ2pCQyxRQUFBQSxlQUFlLEVBQUNYLEdBQUcsQ0FBQ1ksUUFBSixHQUFhLEtBQWIsR0FBbUJaLEdBQUcsQ0FBQ1EsUUFBdkIsR0FBZ0MsNEJBQWhDLEdBQTZETjtBQUQ1RCxPQUFyQjtBQUdILEtBTkQsTUFNSztBQUNERCxNQUFBQSxHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUNqQkMsUUFBQUEsZUFBZSxFQUFDWCxHQUFHLENBQUNZLFFBQUosR0FBYSxLQUFiLEdBQW1CWixHQUFHLENBQUNRLFFBQXZCLEdBQWdDLHVCQUFoQyxHQUF3RE47QUFEdkQsT0FBckI7QUFHSDtBQUVKLEdBaEJEO0FBaUJILENBcEJEOztlQXFCZUgsNkIiLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcc2VydmljZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3J0YWxWZXJpZmljYXRpb25TdHJpbmdNb2RlbCBmcm9tICcuLi9tb2RlbHMvcG9ydGFsVmVyaWZpY2F0aW9uU3RyaW5nJ1xyXG5pbXBvcnQgY3J5cHRvUmFuZG9tU3RyaW5nIGZyb20gJ2NyeXB0by1yYW5kb20tc3RyaW5nJztcclxuXHJcblxyXG4vL0dlbmVyYXRlIHVybCBmb3IgcG9ydGFsIHVzZXIgdG8gYmUgcmVnaXN0ZXIgb24gdGhlIHN5c3RlbS5cclxuY29uc3QgZ2VucmF0ZVBvcnRhbFJlZ2lzdHJhdGlvbkxpbmsgPSAocmVxLCByZXMpID0+IHtcclxuICAgIC8vUmFuZG9tIDE1IGNoYXJhY3RlciBzdHJpbmcgY3JlYXRpb24gZm9yIHRvIGJlIHVzZWQgaW4gdGhlIGxpbmsgdGhhdCBhZG1pbiBzZW5kLlxyXG4gICAgY29uc3QgdG9rZW4gPSBjcnlwdG9SYW5kb21TdHJpbmcoe2xlbmd0aDogMTV9KTtcclxuICAgIG5ldyBQb3J0YWxWZXJpZmljYXRpb25TdHJpbmdNb2RlbCh7XHJcbiAgICAgICAgdG9rZW5cclxuICAgIH0pLnNhdmUoKVxyXG4gICAgLnRoZW4ocmVzdWx0ID0+IHtcclxuICAgICAgICBpZihyZXEuaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vRGV0ZXJtaW5lIHRoZSB1cmwgYWRkcmVzcyBvZiB0aGUgQVBJXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblVybDpyZXEucHJvdG9jb2wrXCI6Ly9cIityZXEuaG9zdG5hbWUrXCI6NTAwMC9hdXRoL3BvcnRhbFJlZ2lzdGVyL1wiK3Rva2VuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblVybDpyZXEucHJvdG9jb2wrXCI6Ly9cIityZXEuaG9zdG5hbWUrXCIvYXV0aC9wb3J0YWxSZWdpc3Rlci9cIit0b2tlblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH0pXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgZ2VucmF0ZVBvcnRhbFJlZ2lzdHJhdGlvbkxpbms7Il19",
    "map": {
      "version": 3,
      "sources": [
        "verification_token_genrate_service.js"
      ],
      "names": [
        "genratePortalRegistrationLink",
        "req",
        "res",
        "token",
        "length",
        "PortalVerificationStringModel",
        "save",
        "then",
        "result",
        "hostname",
        "status",
        "send",
        "registrationUrl",
        "protocol"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAGA;AACA,MAAMA,6BAA6B,GAAG,CAACC,GAAD,EAAMC,GAAN,KAAc;AAChD;AACA,QAAMC,KAAK,GAAG,iCAAmB;AAACC,IAAAA,MAAM,EAAE;AAAT,GAAnB,CAAd;AACA,MAAIC,iCAAJ,CAAkC;AAC9BF,IAAAA;AAD8B,GAAlC,EAEGG,IAFH,GAGCC,IAHD,CAGMC,MAAM,IAAI;AACZ,QAAGP,GAAG,CAACQ,QAAJ,KAAiB,WAApB,EAAgC;AAE5B;AACAP,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,QAAAA,eAAe,EAACX,GAAG,CAACY,QAAJ,GAAa,KAAb,GAAmBZ,GAAG,CAACQ,QAAvB,GAAgC,4BAAhC,GAA6DN;AAD5D,OAArB;AAGH,KAND,MAMK;AACDD,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,QAAAA,eAAe,EAACX,GAAG,CAACY,QAAJ,GAAa,KAAb,GAAmBZ,GAAG,CAACQ,QAAvB,GAAgC,uBAAhC,GAAwDN;AADvD,OAArB;AAGH;AAEJ,GAhBD;AAiBH,CApBD;;eAqBeH,6B",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import PortalVerificationStringModel from '../models/portalVerificationString'\r\nimport cryptoRandomString from 'crypto-random-string';\r\n\r\n\r\n//Generate url for portal user to be register on the system.\r\nconst genratePortalRegistrationLink = (req, res) => {\r\n    //Random 15 character string creation for to be used in the link that admin send.\r\n    const token = cryptoRandomString({length: 15});\r\n    new PortalVerificationStringModel({\r\n        token\r\n    }).save()\r\n    .then(result => {\r\n        if(req.hostname === 'localhost'){\r\n            \r\n            //Determine the url address of the API\r\n            res.status(200).send({\r\n                registrationUrl:req.protocol+\"://\"+req.hostname+\":5000/auth/portalRegister/\"+token\r\n            })\r\n        }else{\r\n            res.status(200).send({\r\n                registrationUrl:req.protocol+\"://\"+req.hostname+\"/auth/portalRegister/\"+token\r\n            })\r\n        }\r\n        \r\n    })\r\n}\r\nexport default genratePortalRegistrationLink;"
      ]
    },
    "sourceType": "script",
    "mtime": 1609259685380
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\routes\\\\portal.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\portal.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\portal.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\portal.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
        "sourceFileName": "portal.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _portal_service = _interopRequireDefault(require(\"../services/portal_service\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst api = require('express').Router(); //Portal route\n\n\napi.use(_portal_service.default);\nvar _default = api;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvcnRhbC5qcyJdLCJuYW1lcyI6WyJhcGkiLCJyZXF1aXJlIiwiUm91dGVyIiwidXNlIiwiU3RhdFNlcnZpY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7OztBQUZBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBUCxDQUFtQkMsTUFBbkIsRUFBWixDLENBQ0E7OztBQUdBRixHQUFHLENBQUNHLEdBQUosQ0FBUUMsdUJBQVI7ZUFDZUosRyIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxyb3V0ZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFwaSA9IHJlcXVpcmUoJ2V4cHJlc3MnKS5Sb3V0ZXIoKTtcclxuLy9Qb3J0YWwgcm91dGVcclxuaW1wb3J0IFN0YXRTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3BvcnRhbF9zZXJ2aWNlJztcclxuXHJcbmFwaS51c2UoU3RhdFNlcnZpY2UpO1xyXG5leHBvcnQgZGVmYXVsdCBhcGk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "portal.js"
      ],
      "names": [
        "api",
        "require",
        "Router",
        "use",
        "StatService"
      ],
      "mappings": ";;;;;;;AAEA;;;;AAFA,MAAMA,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAP,CAAmBC,MAAnB,EAAZ,C,CACA;;;AAGAF,GAAG,CAACG,GAAJ,CAAQC,uBAAR;eACeJ,G",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\routes\\",
      "sourcesContent": [
        "const api = require('express').Router();\r\n//Portal route\r\nimport StatService from '../services/portal_service';\r\n\r\napi.use(StatService);\r\nexport default api;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609257149732
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\services\\\\portal_service.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\portal_service.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\portal_service.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\portal_service.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
        "sourceFileName": "portal_service.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _db = _interopRequireWildcard(require(\"../db\"));\n\nvar _averageTime = _interopRequireDefault(require(\"../models/averageTime\"));\n\nvar _desk = _interopRequireDefault(require(\"../models/desk\"));\n\nvar _deskUser = _interopRequireDefault(require(\"../models/deskUser\"));\n\nvar _user2 = _interopRequireDefault(require(\"../models/user\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Models\n// Utils that determine response type\nconst moment = require('moment'); // Endpoints\n//This function query database to get average time of all desks.\n\n\nconst getStatistics = (req, res) => {\n  _averageTime.default.query(qb => qb.select(_db.default.raw('ROUND(AVG(time),0) as time'))).fetch({\n    require: false\n  }).then(result => {\n    (0, _http_util.successResp)(res, {\n      AverageTime: parseInt(result.get('time'))\n    });\n  }).catch(err => {\n    (0, _http_util.errorResp)(res, err);\n  });\n}; //This function return specified user data with given up user's nation id.\n\n\nconst getUserStatisticsByNationID = (req, res) => {\n  const {\n    nationID\n  } = req.params;\n\n  if (!nationID) {\n    (0, _http_util.errorResp)(res, new Error('nationID must be exists'));\n    return;\n  }\n\n  new _user2.default().where('nationID', nationID).fetch({\n    columns: ['id', 'nationID', 'priority_key', 'is_deleted', 'created_at', 'updated_at']\n  }).then(result => {\n    _deskUser.default.where('user_id', result.get('id')).fetchAll().then(operations => {\n      (0, _http_util.successResp)(res, {\n        user: result,\n        operations: operations\n      });\n    });\n  }).catch(err => {\n    console.log(err);\n    (0, _http_util.errorResp)(res, new Error(\"user not exists\"));\n  });\n}; // This function return below data\n// 1)   User data\n// 2)   Online users\n// 3)   Finished users\n// 4)   Give up users\n// 5)   Average time of the desks\n//for the portal user to create a system report\n\n\nconst getPortalStatistics = async (req, res) => {\n  let data = {}; //Get all the user related data.\n\n  const userData = await _user2.default.where({}).fetchAll().then(result => result).catch(e => console.error(e)); //    console.log(userData);\n\n  data.totalUsers = userData.length;\n  data.deactiveUsers = 0;\n  data.activeUsers = 0;\n  data.portalUsers = 0;\n  data.adminUsers = 0;\n  data.mobileUsers = 0;\n  userData.models.forEach(user => {\n    if (user.attributes.is_deleted) {\n      data.deactiveUsers += 1;\n    }\n\n    if (user.attributes.priority_key == '0') {\n      data.mobileUsers += 1;\n    } else if (user.attributes.priority_key == '3') {\n      data.adminUsers += 1;\n    } else if (user.attributes.priority_key == '10') {\n      data.portalUsers += 1;\n    }\n  });\n  data.activeUsers = data.totalUsers - data.activeUsers; //Get online users count.\n\n  await _deskUser.default.where('is_active', 1).count('id').then(count => {\n    data.usersInQueue = count;\n  }).catch(e => console.error(e)); //Get Users that have finished their task .\n\n  (await _deskUser.default.where('is_finished', 1).count('id').then(count => {\n    data.usersThatFinishedWork = count;\n  }).catch(e => console.error(e))) * ( //Get count of given up users.\n  await _deskUser.default.where({\n    is_active: false,\n    is_finished: false\n  }).count('id').then(count => {\n    data.givenUpUsers = count;\n  }).catch(e => console.error(e))); //Get average times of desks.\n\n  await (0, _db.default)('desks').select(['desks.id', 'name', 'time']).leftJoin( // Get average time for desk.\n  _db.default.raw('(SELECT desk_id,  ROUND(AVG(time),0) as time FROM average_time GROUP BY desk_id) as avt'), 'desks.id', 'avt.desk_id').where('is_active', 1).orderBy('desks.id').then(result => {\n    data.desks = result;\n  }).catch(e => console.error(e)); // Get how many deactive desk are there.\n\n  await _desk.default.where('is_active', 0).count('id').then(count => {\n    data.deactiveDesk = count;\n  }).catch(e => console.error(e));\n  (0, _http_util.successResp)(res, data);\n}; // This function calculates average time of desks for below time periods.\n//1)    Hourly\n//2)    Daily\n//3)    Weekly\n//4)    Monthly\n//5)    Yearly\n\n\nconst calculateAverageTimes = (req, res) => {\n  (0, _db.default)('desk_user').select(_db.default.raw('desk_id, user_id, EXTRACT(EPOCH FROM (finished_at - created_at ) ) as time, created_at')).where('is_finished', 1).then(result => {\n    let hourago = moment().add(-1, 'hours').valueOf();\n    let yesterday = moment().add(-1, 'days').valueOf();\n    let weekago = moment().add(-1, 'weeks').valueOf();\n    let monthago = moment().add(-1, 'months').valueOf();\n    let yearago = moment().add(-1, 'years').valueOf();\n    let data = {\n      hourly: {\n        totalTime: 0,\n        count: 0,\n        averageTime: 0\n      },\n      daily: {\n        totalTime: 0,\n        count: 0,\n        averageTime: 0\n      },\n      weekly: {\n        totalTime: 0,\n        count: 0,\n        averageTime: 0\n      },\n      monthly: {\n        totalTime: 0,\n        count: 0,\n        averageTime: 0\n      },\n      yearly: {\n        totalTime: 0,\n        count: 0,\n        averageTime: 0\n      }\n    };\n    let users = [];\n    result.forEach(row => {\n      //Will get time when user joined in queue\n      let rowTimestamp = new Date(row.created_at).getTime();\n      let userId = row.user_id;\n      let userTemplate; //Store the data for a particular user\n\n      userTemplate = {\n        userId: userId,\n        hourly: {\n          totalTime: 0,\n          count: 0,\n          averageTime: 0\n        },\n        daily: {\n          totalTime: 0,\n          count: 0,\n          averageTime: 0\n        },\n        weekly: {\n          totalTime: 0,\n          count: 0,\n          averageTime: 0\n        },\n        monthly: {\n          totalTime: 0,\n          count: 0,\n          averageTime: 0\n        },\n        yearly: {\n          totalTime: 0,\n          count: 0,\n          averageTime: 0\n        }\n      }; // Store time data of all user\n\n      if (rowTimestamp >= hourago) {\n        data.hourly.totalTime += row.time;\n        data.hourly.count += 1;\n        data.hourly.averageTime = data.hourly.totalTime / data.hourly.count;\n        userTemplate.hourly.totalTime += row.time;\n        userTemplate.hourly.count += 1;\n        userTemplate.hourly.averageTime = userTemplate.hourly.totalTime / userTemplate.hourly.count;\n      }\n\n      if (rowTimestamp >= yesterday) {\n        data.daily.totalTime += row.time;\n        data.daily.count += 1;\n        data.daily.averageTime = data.daily.totalTime / data.daily.count;\n        userTemplate.daily.totalTime += row.time;\n        userTemplate.daily.count += 1;\n        userTemplate.daily.averageTime = userTemplate.daily.totalTime / userTemplate.daily.count;\n      }\n\n      if (rowTimestamp >= weekago) {\n        data.weekly.totalTime += row.time;\n        data.weekly.count += 1;\n        data.weekly.averageTime = data.weekly.totalTime / data.weekly.count;\n        userTemplate.weekly.totalTime += row.time;\n        userTemplate.weekly.count += 1;\n        userTemplate.weekly.averageTime = userTemplate.weekly.totalTime / userTemplate.weekly.count;\n      }\n\n      if (rowTimestamp >= monthago) {\n        data.monthly.totalTime += row.time;\n        data.monthly.count += 1;\n        data.monthly.averageTime = data.monthly.totalTime / data.monthly.count;\n        userTemplate.monthly.totalTime += row.time;\n        userTemplate.monthly.count += 1;\n        userTemplate.monthly.averageTime = userTemplate.monthly.totalTime / userTemplate.monthly.count;\n      }\n\n      if (rowTimestamp >= yearago) {\n        data.yearly.totalTime += row.time;\n        data.yearly.count += 1;\n        data.yearly.averageTime = data.yearly.totalTime / data.yearly.count;\n        userTemplate.yearly.totalTime += row.time;\n        userTemplate.yearly.count += 1;\n        userTemplate.yearly.averageTime = userTemplate.yearly.totalTime / userTemplate.yearly.count;\n      } // users.push({userId})\n      // req.users = users;\n\n\n      users = addToUsers(users, userTemplate);\n    }); // console.log(req.users);\n\n    (0, _http_util.successResp)(res, {\n      desks: data,\n      users\n    });\n  }).catch(err => (0, _http_util.errorResp)(res, err));\n}; //This function check if user inside the array then calculate and update user statistics else add user\n\n\nconst addToUsers = (users, user) => {\n  let isAdded = false;\n  users.forEach((_user, index) => {\n    if (_user.userId === user.userId) {\n      isAdded = true;\n      users[index].hourly.count += user.hourly.count;\n      users[index].hourly.totalTime += user.hourly.totalTime;\n      users[index].hourly.averageTime = users[index].hourly.totalTime / users[index].hourly.count;\n      users[index].daily.count += user.daily.count;\n      users[index].daily.totalTime += user.daily.totalTime;\n      users[index].daily.averageTime = users[index].daily.totalTime / users[index].daily.count;\n      users[index].weekly.count += user.weekly.count;\n      users[index].weekly.totalTime += user.weekly.totalTime;\n      users[index].weekly.averageTime = users[index].weekly.totalTime / users[index].weekly.count;\n      users[index].monthly.count += user.monthly.count;\n      users[index].monthly.totalTime += user.monthly.totalTime;\n      users[index].monthly.averageTime = users[index].monthly.totalTime / users[index].monthly.count;\n      users[index].yearly.count += user.yearly.count;\n      users[index].yearly.totalTime += user.yearly.totalTime;\n      users[index].yearly.averageTime = users[index].yearly.totalTime / users[index].yearly.count;\n    }\n  });\n\n  if (!isAdded) {\n    users.push(user);\n  }\n\n  return users;\n};\n\nconst router = _express.default.Router();\n\nrouter.route('/getStatistics').get(getStatistics);\nrouter.route('/getUserStatisticsByNationID/:nationID').get(getUserStatisticsByNationID);\nrouter.route('/getPortalStatistics').get(getPortalStatistics);\nrouter.route('/calculateAverageTimes').get(calculateAverageTimes);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvcnRhbF9zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIm1vbWVudCIsInJlcXVpcmUiLCJnZXRTdGF0aXN0aWNzIiwicmVxIiwicmVzIiwiQXZlcmFnZVRpbWVNb2RlbCIsInF1ZXJ5IiwicWIiLCJzZWxlY3QiLCJkYiIsInJhdyIsImZldGNoIiwidGhlbiIsInJlc3VsdCIsIkF2ZXJhZ2VUaW1lIiwicGFyc2VJbnQiLCJnZXQiLCJjYXRjaCIsImVyciIsImdldFVzZXJTdGF0aXN0aWNzQnlOYXRpb25JRCIsIm5hdGlvbklEIiwicGFyYW1zIiwiRXJyb3IiLCJVc2VyTW9kZWwiLCJ3aGVyZSIsImNvbHVtbnMiLCJEZXNrVXNlck1vZGVsIiwiZmV0Y2hBbGwiLCJvcGVyYXRpb25zIiwidXNlciIsImNvbnNvbGUiLCJsb2ciLCJnZXRQb3J0YWxTdGF0aXN0aWNzIiwiZGF0YSIsInVzZXJEYXRhIiwiZSIsImVycm9yIiwidG90YWxVc2VycyIsImxlbmd0aCIsImRlYWN0aXZlVXNlcnMiLCJhY3RpdmVVc2VycyIsInBvcnRhbFVzZXJzIiwiYWRtaW5Vc2VycyIsIm1vYmlsZVVzZXJzIiwibW9kZWxzIiwiZm9yRWFjaCIsImF0dHJpYnV0ZXMiLCJpc19kZWxldGVkIiwicHJpb3JpdHlfa2V5IiwiY291bnQiLCJ1c2Vyc0luUXVldWUiLCJ1c2Vyc1RoYXRGaW5pc2hlZFdvcmsiLCJpc19hY3RpdmUiLCJpc19maW5pc2hlZCIsImdpdmVuVXBVc2VycyIsImxlZnRKb2luIiwib3JkZXJCeSIsImRlc2tzIiwiRGVzayIsImRlYWN0aXZlRGVzayIsImNhbGN1bGF0ZUF2ZXJhZ2VUaW1lcyIsImhvdXJhZ28iLCJhZGQiLCJ2YWx1ZU9mIiwieWVzdGVyZGF5Iiwid2Vla2FnbyIsIm1vbnRoYWdvIiwieWVhcmFnbyIsImhvdXJseSIsInRvdGFsVGltZSIsImF2ZXJhZ2VUaW1lIiwiZGFpbHkiLCJ3ZWVrbHkiLCJtb250aGx5IiwieWVhcmx5IiwidXNlcnMiLCJyb3ciLCJyb3dUaW1lc3RhbXAiLCJEYXRlIiwiY3JlYXRlZF9hdCIsImdldFRpbWUiLCJ1c2VySWQiLCJ1c2VyX2lkIiwidXNlclRlbXBsYXRlIiwidGltZSIsImFkZFRvVXNlcnMiLCJpc0FkZGVkIiwiX3VzZXIiLCJpbmRleCIsInB1c2giLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicm91dGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7QUFOQTtBQUtBO0FBR0EsTUFBTUEsTUFBTSxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUF0QixDLENBRUE7QUFFQTs7O0FBQ0EsTUFBTUMsYUFBYSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBRWhDQyx1QkFDS0MsS0FETCxDQUNXQyxFQUFFLElBQUlBLEVBQUUsQ0FBQ0MsTUFBSCxDQUFVQyxZQUFHQyxHQUFILENBQU8sNEJBQVAsQ0FBVixDQURqQixFQUVLQyxLQUZMLENBRVc7QUFDSFYsSUFBQUEsT0FBTyxFQUFFO0FBRE4sR0FGWCxFQUtLVyxJQUxMLENBS1lDLE1BQUQsSUFBWTtBQUNmLGdDQUFZVCxHQUFaLEVBQWlCO0FBQ2JVLE1BQUFBLFdBQVcsRUFBRUMsUUFBUSxDQUFDRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLENBQUQ7QUFEUixLQUFqQjtBQUdILEdBVEwsRUFVS0MsS0FWTCxDQVVZQyxHQUFELElBQVM7QUFDWiw4QkFBVWQsR0FBVixFQUFlYyxHQUFmO0FBQ0gsR0FaTDtBQWFILENBZkQsQyxDQWlCQTs7O0FBQ0EsTUFBTUMsMkJBQTJCLEdBQUcsQ0FBQ2hCLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQzlDLFFBQU07QUFBQ2dCLElBQUFBO0FBQUQsTUFBYWpCLEdBQUcsQ0FBQ2tCLE1BQXZCOztBQUVBLE1BQUksQ0FBQ0QsUUFBTCxFQUFlO0FBQ1gsOEJBQVVoQixHQUFWLEVBQWUsSUFBSWtCLEtBQUosQ0FBVSx5QkFBVixDQUFmO0FBQ0E7QUFDSDs7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U0FBcEIsR0FBZ0NNLEtBQUssQ0FBQ2EsS0FBRCxDQUFMLENBQWFkLE1BQWIsQ0FBb0J6QixLQUF0RjtBQUVIO0FBQ0osR0EzQkQ7O0FBNkJBLE1BQUksQ0FBQ3FDLE9BQUwsRUFBYztBQUNWWCxJQUFBQSxLQUFLLENBQUNjLElBQU4sQ0FBVzVELElBQVg7QUFDSDs7QUFFRCxTQUFPOEMsS0FBUDtBQUVILENBckNEOztBQXVDQSxNQUFNZSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLGdCQUFiLEVBQStCN0UsR0FBL0IsQ0FBbUNkLGFBQW5DO0FBQ0F3RixNQUFNLENBQUNHLEtBQVAsQ0FBYSx3Q0FBYixFQUF1RDdFLEdBQXZELENBQTJERywyQkFBM0Q7QUFDQXVFLE1BQU0sQ0FBQ0csS0FBUCxDQUFhLHNCQUFiLEVBQXFDN0UsR0FBckMsQ0FBeUNnQixtQkFBekM7QUFDQTBELE1BQU0sQ0FBQ0csS0FBUCxDQUFhLHdCQUFiLEVBQXVDN0UsR0FBdkMsQ0FBMkM0QyxxQkFBM0M7ZUFFZThCLE0iLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxUb3JvQmFiYVxcRGVza3RvcFxcU2VuaW9yUHJvamVjdFxcV2ViU2VydmljZVxcc2VydmljZXNcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IGRiLCB7IGNvdW50IH0gZnJvbSAnLi4vZGInO1xyXG4vLyBNb2RlbHNcclxuaW1wb3J0IEF2ZXJhZ2VUaW1lTW9kZWwgZnJvbSAnLi4vbW9kZWxzL2F2ZXJhZ2VUaW1lJztcclxuaW1wb3J0IERlc2sgZnJvbSAnLi4vbW9kZWxzL2Rlc2snO1xyXG5pbXBvcnQgRGVza1VzZXJNb2RlbCBmcm9tICcuLi9tb2RlbHMvZGVza1VzZXInO1xyXG5pbXBvcnQgVXNlck1vZGVsIGZyb20gJy4uL21vZGVscy91c2VyJztcclxuLy8gVXRpbHMgdGhhdCBkZXRlcm1pbmUgcmVzcG9uc2UgdHlwZVxyXG5pbXBvcnQge2Vycm9yUmVzcCwgc3VjY2Vzc1Jlc3B9IGZyb20gJy4uL3V0aWwvaHR0cF91dGlsJztcclxuXHJcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xyXG5cclxuLy8gRW5kcG9pbnRzXHJcblxyXG4vL1RoaXMgZnVuY3Rpb24gcXVlcnkgZGF0YWJhc2UgdG8gZ2V0IGF2ZXJhZ2UgdGltZSBvZiBhbGwgZGVza3MuXHJcbmNvbnN0IGdldFN0YXRpc3RpY3MgPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBBdmVyYWdlVGltZU1vZGVsXHJcbiAgICAgICAgLnF1ZXJ5KHFiID0+IHFiLnNlbGVjdChkYi5yYXcoJ1JPVU5EKEFWRyh0aW1lKSwwKSBhcyB0aW1lJykpKVxyXG4gICAgICAgIC5mZXRjaCh7XHJcbiAgICAgICAgICAgIHJlcXVpcmU6IGZhbHNlLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oIChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgc3VjY2Vzc1Jlc3AocmVzLCB7XHJcbiAgICAgICAgICAgICAgICBBdmVyYWdlVGltZTogcGFyc2VJbnQocmVzdWx0LmdldCgndGltZScpKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGVycm9yUmVzcChyZXMsIGVycik7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG4vL1RoaXMgZnVuY3Rpb24gcmV0dXJuIHNwZWNpZmllZCB1c2VyIGRhdGEgd2l0aCBnaXZlbiB1cCB1c2VyJ3MgbmF0aW9uIGlkLlxyXG5jb25zdCBnZXRVc2VyU3RhdGlzdGljc0J5TmF0aW9uSUQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IHtuYXRpb25JRH0gPSByZXEucGFyYW1zO1xyXG5cclxuICAgIGlmICghbmF0aW9uSUQpIHtcclxuICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ25hdGlvbklEIG11c3QgYmUgZXhpc3RzJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBuZXcgVXNlck1vZGVsKClcclxuICAgICAgICAud2hlcmUoJ25hdGlvbklEJywgbmF0aW9uSUQpXHJcbiAgICAgICAgLmZldGNoKHtcclxuICAgICAgICAgICAgY29sdW1uczogWydpZCcsICduYXRpb25JRCcsICdwcmlvcml0eV9rZXknLCAnaXNfZGVsZXRlZCcsICdjcmVhdGVkX2F0JywgJ3VwZGF0ZWRfYXQnXVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBEZXNrVXNlck1vZGVsLndoZXJlKCd1c2VyX2lkJywgcmVzdWx0LmdldCgnaWQnKSlcclxuICAgICAgICAgICAgICAgIC5mZXRjaEFsbCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigob3BlcmF0aW9ucykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NSZXNwKHJlcywge3VzZXI6IHJlc3VsdCwgb3BlcmF0aW9uczogb3BlcmF0aW9uc30pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoXCJ1c2VyIG5vdCBleGlzdHNcIikpO1xyXG4gICAgICAgIH0pO1xyXG5cclxufTtcclxuXHJcbi8vIFRoaXMgZnVuY3Rpb24gcmV0dXJuIGJlbG93IGRhdGFcclxuLy8gMSkgICBVc2VyIGRhdGFcclxuLy8gMikgICBPbmxpbmUgdXNlcnNcclxuLy8gMykgICBGaW5pc2hlZCB1c2Vyc1xyXG4vLyA0KSAgIEdpdmUgdXAgdXNlcnNcclxuLy8gNSkgICBBdmVyYWdlIHRpbWUgb2YgdGhlIGRlc2tzXHJcbi8vZm9yIHRoZSBwb3J0YWwgdXNlciB0byBjcmVhdGUgYSBzeXN0ZW0gcmVwb3J0XHJcbmNvbnN0IGdldFBvcnRhbFN0YXRpc3RpY3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBkYXRhID0ge307XHJcbiAgXHJcbiAgICAvL0dldCBhbGwgdGhlIHVzZXIgcmVsYXRlZCBkYXRhLlxyXG4gICAgXHJcbiAgIGNvbnN0IHVzZXJEYXRhID0gYXdhaXQgVXNlck1vZGVsXHJcbiAgIC53aGVyZSh7fSlcclxuICAgLmZldGNoQWxsKClcclxuICAgLnRoZW4oXHJcbiAgICAgICAocmVzdWx0KSA9PiByZXN1bHQpLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSk7XHJcbiAgICAvLyAgICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7XHJcbiAgICAgICAgZGF0YS50b3RhbFVzZXJzID0gdXNlckRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGRhdGEuZGVhY3RpdmVVc2Vycz0wO1xyXG4gICAgICAgIGRhdGEuYWN0aXZlVXNlcnM9MDtcclxuICAgICAgICBkYXRhLnBvcnRhbFVzZXJzID0gMDtcclxuICAgICAgICBkYXRhLmFkbWluVXNlcnMgPSAwO1xyXG4gICAgICAgIGRhdGEubW9iaWxlVXNlcnMgPSAwO1xyXG4gICAgICAgIHVzZXJEYXRhLm1vZGVscy5mb3JFYWNoKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICBpZih1c2VyLmF0dHJpYnV0ZXMuaXNfZGVsZXRlZCl7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmRlYWN0aXZlVXNlcnMrPTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodXNlci5hdHRyaWJ1dGVzLnByaW9yaXR5X2tleSA9PSAnMCcpe1xyXG4gICAgICAgICAgICAgICAgZGF0YS5tb2JpbGVVc2Vycys9MTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh1c2VyLmF0dHJpYnV0ZXMucHJpb3JpdHlfa2V5ID09ICczJyl7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmFkbWluVXNlcnMgKz0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYodXNlci5hdHRyaWJ1dGVzLnByaW9yaXR5X2tleSA9PSAnMTAnKXtcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFsVXNlcnMrPTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgZGF0YS5hY3RpdmVVc2VycyA9IGRhdGEudG90YWxVc2VycyAtIGRhdGEuYWN0aXZlVXNlcnM7XHJcbiAgICBcclxuICAgICAgLy9HZXQgb25saW5lIHVzZXJzIGNvdW50LlxyXG4gICAgXHJcbiAgICBhd2FpdCBEZXNrVXNlck1vZGVsXHJcbiAgICAgICAgLndoZXJlKCdpc19hY3RpdmUnLCAxKVxyXG4gICAgICAgIC5jb3VudCgnaWQnKVxyXG4gICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAoY291bnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGRhdGEudXNlcnNJblF1ZXVlID0gY291bnQ7XHJcblxyXG4gICAgICAgICAgICB9KS5jYXRjaChlID0+IGNvbnNvbGUuZXJyb3IoZSkpO1xyXG5cclxuICAgICAgICAgICAgIC8vR2V0IFVzZXJzIHRoYXQgaGF2ZSBmaW5pc2hlZCB0aGVpciB0YXNrIC5cclxuICAgIGF3YWl0IERlc2tVc2VyTW9kZWxcclxuICAgIC53aGVyZSgnaXNfZmluaXNoZWQnLCAxKVxyXG4gICAgLmNvdW50KCdpZCcpXHJcbiAgICAudGhlbihcclxuICAgICAgICAoY291bnQpID0+IHtcclxuICAgICAgICAgICAgZGF0YS51c2Vyc1RoYXRGaW5pc2hlZFdvcmsgPSBjb3VudDtcclxuICAgICAgICB9XHJcbiAgICApLmNhdGNoKGU9PiBjb25zb2xlLmVycm9yKGUpKVxyXG5cclxuICAgICpcclxuICAgIC8vR2V0IGNvdW50IG9mIGdpdmVuIHVwIHVzZXJzLlxyXG4gICAgXHJcblxyXG4gICBhd2FpdCBEZXNrVXNlck1vZGVsLndoZXJlKHtcclxuICAgIGlzX2FjdGl2ZTogZmFsc2UsXHJcbiAgICBpc19maW5pc2hlZDogZmFsc2UsXHJcbn0pXHJcbiAgICAuY291bnQoJ2lkJylcclxuICAgIC50aGVuKChjb3VudCkgPT4ge1xyXG4gICAgICAgIGRhdGEuZ2l2ZW5VcFVzZXJzID0gY291bnQ7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSk7XHJcblxyXG4gICAgLy9HZXQgYXZlcmFnZSB0aW1lcyBvZiBkZXNrcy5cclxuICAgIFxyXG4gICAgYXdhaXQgZGIoJ2Rlc2tzJylcclxuICAgICAgICAuc2VsZWN0KFsnZGVza3MuaWQnLCAnbmFtZScsICd0aW1lJ10pXHJcbiAgICAgICAgLmxlZnRKb2luKFxyXG4gICAgICAgICAgICAvLyBHZXQgYXZlcmFnZSB0aW1lIGZvciBkZXNrLlxyXG4gICAgICAgICAgICBkYi5yYXcoJyhTRUxFQ1QgZGVza19pZCwgIFJPVU5EKEFWRyh0aW1lKSwwKSBhcyB0aW1lIEZST00gYXZlcmFnZV90aW1lIEdST1VQIEJZIGRlc2tfaWQpIGFzIGF2dCcpLFxyXG4gICAgICAgICAgICAnZGVza3MuaWQnLFxyXG4gICAgICAgICAgICAnYXZ0LmRlc2tfaWQnXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAud2hlcmUoJ2lzX2FjdGl2ZScsIDEpXHJcbiAgICAgICAgLm9yZGVyQnkoJ2Rlc2tzLmlkJylcclxuICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZGF0YS5kZXNrcyA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gY29uc29sZS5lcnJvcihlKSk7XHJcbiAgICAgICAgICAgIC8vIEdldCBob3cgbWFueSBkZWFjdGl2ZSBkZXNrIGFyZSB0aGVyZS5cclxuICAgICAgICAgICAgYXdhaXQgRGVzay53aGVyZSgnaXNfYWN0aXZlJywgMCkuY291bnQoJ2lkJykudGhlbihjb3VudCA9PiB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLmRlYWN0aXZlRGVzayA9IGNvdW50O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiBjb25zb2xlLmVycm9yKGUpKTtcclxuXHJcbiAgICBzdWNjZXNzUmVzcChyZXMsIGRhdGEpO1xyXG5cclxufTtcclxuXHJcbi8vIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlcyBhdmVyYWdlIHRpbWUgb2YgZGVza3MgZm9yIGJlbG93IHRpbWUgcGVyaW9kcy5cclxuLy8xKSAgICBIb3VybHlcclxuLy8yKSAgICBEYWlseVxyXG4vLzMpICAgIFdlZWtseVxyXG4vLzQpICAgIE1vbnRobHlcclxuLy81KSAgICBZZWFybHlcclxuY29uc3QgY2FsY3VsYXRlQXZlcmFnZVRpbWVzID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBkYignZGVza191c2VyJylcclxuICAgICAgICAuc2VsZWN0KGRiLnJhdygnZGVza19pZCwgdXNlcl9pZCwgRVhUUkFDVChFUE9DSCBGUk9NIChmaW5pc2hlZF9hdCAtIGNyZWF0ZWRfYXQgKSApIGFzIHRpbWUsIGNyZWF0ZWRfYXQnKSlcclxuICAgICAgICAud2hlcmUoJ2lzX2ZpbmlzaGVkJywgMSlcclxuICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgaG91cmFnbyA9IG1vbWVudCgpLmFkZCgtMSwgJ2hvdXJzJykudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHllc3RlcmRheSA9IG1vbWVudCgpLmFkZCgtMSwgJ2RheXMnKS52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2Vla2FnbyA9IG1vbWVudCgpLmFkZCgtMSwgJ3dlZWtzJykudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vbnRoYWdvID0gbW9tZW50KCkuYWRkKC0xLCAnbW9udGhzJykudmFsdWVPZigpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB5ZWFyYWdvID1tb21lbnQoKS5hZGQoLTEsICd5ZWFycycpLnZhbHVlT2YoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBob3VybHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUaW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhaWx5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VUaW1lOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB3ZWVrbHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUaW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1vbnRobHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUaW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWU6IDBcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHllYXJseToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRpbWU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmVyYWdlVGltZTogMFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBsZXQgdXNlcnMgPSBbXTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LmZvckVhY2gocm93ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvL1dpbGwgZ2V0IHRpbWUgd2hlbiB1c2VyIGpvaW5lZCBpbiBxdWV1ZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgcm93VGltZXN0YW1wID0gbmV3IERhdGUocm93LmNyZWF0ZWRfYXQpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVzZXJJZCA9IHJvdy51c2VyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1c2VyVGVtcGxhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9TdG9yZSB0aGUgZGF0YSBmb3IgYSBwYXJ0aWN1bGFyIHVzZXJcclxuICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VybHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWU6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGFpbHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWU6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2Vla2x5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRpbWU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VUaW1lOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRobHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGltZTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVRpbWU6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhcmx5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRpbWU6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VUaW1lOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgdGltZSBkYXRhIG9mIGFsbCB1c2VyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1RpbWVzdGFtcCA+PSBob3VyYWdvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuaG91cmx5LnRvdGFsVGltZSArPSByb3cudGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ob3VybHkuY291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5ob3VybHkuYXZlcmFnZVRpbWUgPSBkYXRhLmhvdXJseS50b3RhbFRpbWUgLyBkYXRhLmhvdXJseS5jb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS5ob3VybHkudG90YWxUaW1lICs9IHJvdy50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUuaG91cmx5LmNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS5ob3VybHkuYXZlcmFnZVRpbWUgPSB1c2VyVGVtcGxhdGUuaG91cmx5LnRvdGFsVGltZSAvIHVzZXJUZW1wbGF0ZS5ob3VybHkuY291bnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1RpbWVzdGFtcCA+PSB5ZXN0ZXJkYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kYWlseS50b3RhbFRpbWUgKz0gcm93LnRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGFpbHkuY291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5kYWlseS5hdmVyYWdlVGltZSA9IGRhdGEuZGFpbHkudG90YWxUaW1lIC8gZGF0YS5kYWlseS5jb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS5kYWlseS50b3RhbFRpbWUgKz0gcm93LnRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS5kYWlseS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUuZGFpbHkuYXZlcmFnZVRpbWUgPSB1c2VyVGVtcGxhdGUuZGFpbHkudG90YWxUaW1lIC8gdXNlclRlbXBsYXRlLmRhaWx5LmNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1RpbWVzdGFtcCA+PSB3ZWVrYWdvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud2Vla2x5LnRvdGFsVGltZSArPSByb3cudGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS53ZWVrbHkuY291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS53ZWVrbHkuYXZlcmFnZVRpbWUgPSBkYXRhLndlZWtseS50b3RhbFRpbWUgLyBkYXRhLndlZWtseS5jb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS53ZWVrbHkudG90YWxUaW1lICs9IHJvdy50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUud2Vla2x5LmNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS53ZWVrbHkuYXZlcmFnZVRpbWUgPSB1c2VyVGVtcGxhdGUud2Vla2x5LnRvdGFsVGltZSAvIHVzZXJUZW1wbGF0ZS53ZWVrbHkuY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAocm93VGltZXN0YW1wID49IG1vbnRoYWdvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubW9udGhseS50b3RhbFRpbWUgKz0gcm93LnRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEubW9udGhseS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLm1vbnRobHkuYXZlcmFnZVRpbWUgPSBkYXRhLm1vbnRobHkudG90YWxUaW1lIC8gZGF0YS5tb250aGx5LmNvdW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclRlbXBsYXRlLm1vbnRobHkudG90YWxUaW1lICs9IHJvdy50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUubW9udGhseS5jb3VudCArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUubW9udGhseS5hdmVyYWdlVGltZSA9IHVzZXJUZW1wbGF0ZS5tb250aGx5LnRvdGFsVGltZSAvIHVzZXJUZW1wbGF0ZS5tb250aGx5LmNvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd1RpbWVzdGFtcCA+PSB5ZWFyYWdvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEueWVhcmx5LnRvdGFsVGltZSArPSByb3cudGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS55ZWFybHkuY291bnQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS55ZWFybHkuYXZlcmFnZVRpbWUgPSBkYXRhLnllYXJseS50b3RhbFRpbWUgLyBkYXRhLnllYXJseS5jb3VudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS55ZWFybHkudG90YWxUaW1lICs9IHJvdy50aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVGVtcGxhdGUueWVhcmx5LmNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJUZW1wbGF0ZS55ZWFybHkuYXZlcmFnZVRpbWUgPSB1c2VyVGVtcGxhdGUueWVhcmx5LnRvdGFsVGltZSAvIHVzZXJUZW1wbGF0ZS55ZWFybHkuY291bnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZXJzLnB1c2goe3VzZXJJZH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVxLnVzZXJzID0gdXNlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcnMgPSBhZGRUb1VzZXJzKHVzZXJzLCB1c2VyVGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXEudXNlcnMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3NSZXNwKHJlcywge2Rlc2tzOiBkYXRhLCB1c2Vyc30pO1xyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goZXJyID0+IGVycm9yUmVzcChyZXMsIGVycikpO1xyXG5cclxufTtcclxuXHJcbi8vVGhpcyBmdW5jdGlvbiBjaGVjayBpZiB1c2VyIGluc2lkZSB0aGUgYXJyYXkgdGhlbiBjYWxjdWxhdGUgYW5kIHVwZGF0ZSB1c2VyIHN0YXRpc3RpY3MgZWxzZSBhZGQgdXNlclxyXG5jb25zdCBhZGRUb1VzZXJzID0gKHVzZXJzLCB1c2VyKSA9PiB7XHJcbiAgICBsZXQgaXNBZGRlZCA9IGZhbHNlO1xyXG4gICAgdXNlcnMuZm9yRWFjaCgoX3VzZXIsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgaWYgKF91c2VyLnVzZXJJZCA9PT0gdXNlci51c2VySWQpIHtcclxuICAgICAgICAgICAgaXNBZGRlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICB1c2Vyc1tpbmRleF0uaG91cmx5LmNvdW50ICs9IHVzZXIuaG91cmx5LmNvdW50O1xyXG4gICAgICAgICAgICB1c2Vyc1tpbmRleF0uaG91cmx5LnRvdGFsVGltZSArPSB1c2VyLmhvdXJseS50b3RhbFRpbWU7XHJcbiAgICAgICAgICAgIHVzZXJzW2luZGV4XS5ob3VybHkuYXZlcmFnZVRpbWUgPSB1c2Vyc1tpbmRleF0uaG91cmx5LnRvdGFsVGltZSAvIHVzZXJzW2luZGV4XS5ob3VybHkuY291bnQ7XHJcblxyXG4gICAgICAgICAgICB1c2Vyc1tpbmRleF0uZGFpbHkuY291bnQgKz0gdXNlci5kYWlseS5jb3VudDtcclxuICAgICAgICAgICAgdXNlcnNbaW5kZXhdLmRhaWx5LnRvdGFsVGltZSArPSB1c2VyLmRhaWx5LnRvdGFsVGltZTtcclxuICAgICAgICAgICAgdXNlcnNbaW5kZXhdLmRhaWx5LmF2ZXJhZ2VUaW1lID0gdXNlcnNbaW5kZXhdLmRhaWx5LnRvdGFsVGltZSAvIHVzZXJzW2luZGV4XS5kYWlseS5jb3VudDtcclxuXHJcblxyXG4gICAgICAgICAgICB1c2Vyc1tpbmRleF0ud2Vla2x5LmNvdW50ICs9IHVzZXIud2Vla2x5LmNvdW50O1xyXG4gICAgICAgICAgICB1c2Vyc1tpbmRleF0ud2Vla2x5LnRvdGFsVGltZSArPSB1c2VyLndlZWtseS50b3RhbFRpbWU7XHJcbiAgICAgICAgICAgIHVzZXJzW2luZGV4XS53ZWVrbHkuYXZlcmFnZVRpbWUgPSB1c2Vyc1tpbmRleF0ud2Vla2x5LnRvdGFsVGltZSAvIHVzZXJzW2luZGV4XS53ZWVrbHkuY291bnQ7XHJcblxyXG5cclxuICAgICAgICAgICAgdXNlcnNbaW5kZXhdLm1vbnRobHkuY291bnQgKz0gdXNlci5tb250aGx5LmNvdW50O1xyXG4gICAgICAgICAgICB1c2Vyc1tpbmRleF0ubW9udGhseS50b3RhbFRpbWUgKz0gdXNlci5tb250aGx5LnRvdGFsVGltZTtcclxuICAgICAgICAgICAgdXNlcnNbaW5kZXhdLm1vbnRobHkuYXZlcmFnZVRpbWUgPSB1c2Vyc1tpbmRleF0ubW9udGhseS50b3RhbFRpbWUgLyB1c2Vyc1tpbmRleF0ubW9udGhseS5jb3VudDtcclxuXHJcbiAgICAgICAgICAgIHVzZXJzW2luZGV4XS55ZWFybHkuY291bnQgKz0gdXNlci55ZWFybHkuY291bnQ7XHJcbiAgICAgICAgICAgIHVzZXJzW2luZGV4XS55ZWFybHkudG90YWxUaW1lICs9IHVzZXIueWVhcmx5LnRvdGFsVGltZTtcclxuICAgICAgICAgICAgdXNlcnNbaW5kZXhdLnllYXJseS5hdmVyYWdlVGltZSA9IHVzZXJzW2luZGV4XS55ZWFybHkudG90YWxUaW1lIC8gdXNlcnNbaW5kZXhdLnllYXJseS5jb3VudDtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFpc0FkZGVkKSB7XHJcbiAgICAgICAgdXNlcnMucHVzaCh1c2VyKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdXNlcnM7XHJcblxyXG59O1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbnJvdXRlci5yb3V0ZSgnL2dldFN0YXRpc3RpY3MnKS5nZXQoZ2V0U3RhdGlzdGljcyk7XHJcbnJvdXRlci5yb3V0ZSgnL2dldFVzZXJTdGF0aXN0aWNzQnlOYXRpb25JRC86bmF0aW9uSUQnKS5nZXQoZ2V0VXNlclN0YXRpc3RpY3NCeU5hdGlvbklEKTtcclxucm91dGVyLnJvdXRlKCcvZ2V0UG9ydGFsU3RhdGlzdGljcycpLmdldChnZXRQb3J0YWxTdGF0aXN0aWNzKTtcclxucm91dGVyLnJvdXRlKCcvY2FsY3VsYXRlQXZlcmFnZVRpbWVzJykuZ2V0KGNhbGN1bGF0ZUF2ZXJhZ2VUaW1lcyk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "portal_service.js"
      ],
      "names": [
        "moment",
        "require",
        "getStatistics",
        "req",
        "res",
        "AverageTimeModel",
        "query",
        "qb",
        "select",
        "db",
        "raw",
        "fetch",
        "then",
        "result",
        "AverageTime",
        "parseInt",
        "get",
        "catch",
        "err",
        "getUserStatisticsByNationID",
        "nationID",
        "params",
        "Error",
        "UserModel",
        "where",
        "columns",
        "DeskUserModel",
        "fetchAll",
        "operations",
        "user",
        "console",
        "log",
        "getPortalStatistics",
        "data",
        "userData",
        "e",
        "error",
        "totalUsers",
        "length",
        "deactiveUsers",
        "activeUsers",
        "portalUsers",
        "adminUsers",
        "mobileUsers",
        "models",
        "forEach",
        "attributes",
        "is_deleted",
        "priority_key",
        "count",
        "usersInQueue",
        "usersThatFinishedWork",
        "is_active",
        "is_finished",
        "givenUpUsers",
        "leftJoin",
        "orderBy",
        "desks",
        "Desk",
        "deactiveDesk",
        "calculateAverageTimes",
        "hourago",
        "add",
        "valueOf",
        "yesterday",
        "weekago",
        "monthago",
        "yearago",
        "hourly",
        "totalTime",
        "averageTime",
        "daily",
        "weekly",
        "monthly",
        "yearly",
        "users",
        "row",
        "rowTimestamp",
        "Date",
        "created_at",
        "getTime",
        "userId",
        "user_id",
        "userTemplate",
        "time",
        "addToUsers",
        "isAdded",
        "_user",
        "index",
        "push",
        "router",
        "express",
        "Router",
        "route"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\services\\",
      "sourcesContent": [
        "import express from 'express';\r\n\r\nimport db, { count } from '../db';\r\n// Models\r\nimport AverageTimeModel from '../models/averageTime';\r\nimport Desk from '../models/desk';\r\nimport DeskUserModel from '../models/deskUser';\r\nimport UserModel from '../models/user';\r\n// Utils that determine response type\r\nimport {errorResp, successResp} from '../util/http_util';\r\n\r\nconst moment = require('moment');\r\n\r\n// Endpoints\r\n\r\n//This function query database to get average time of all desks.\r\nconst getStatistics = (req, res) => {\r\n\r\n    AverageTimeModel\r\n        .query(qb => qb.select(db.raw('ROUND(AVG(time),0) as time')))\r\n        .fetch({\r\n            require: false,\r\n        })\r\n        .then( (result) => {\r\n            successResp(res, {\r\n                AverageTime: parseInt(result.get('time'))\r\n            });\r\n        })\r\n        .catch((err) => {\r\n            errorResp(res, err);\r\n        });\r\n};\r\n\r\n//This function return specified user data with given up user's nation id.\r\nconst getUserStatisticsByNationID = (req, res) => {\r\n    const {nationID} = req.params;\r\n\r\n    if (!nationID) {\r\n        errorResp(res, new Error('nationID must be exists'));\r\n        return;\r\n    }\r\n\r\n    new UserModel()\r\n        .where('nationID', nationID)\r\n        .fetch({\r\n            columns: ['id', 'nationID', 'priority_key', 'is_deleted', 'created_at', 'updated_at']\r\n        })\r\n        .then((result) => {\r\n            DeskUserModel.where('user_id', result.get('id'))\r\n                .fetchAll()\r\n                .then((operations) => {\r\n                    successResp(res, {user: result, operations: operations});\r\n                });\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            errorResp(res, new Error(\"user not exists\"));\r\n        });\r\n\r\n};\r\n\r\n// This function return below data\r\n// 1)   User data\r\n// 2)   Online users\r\n// 3)   Finished users\r\n// 4)   Give up users\r\n// 5)   Average time of the desks\r\n//for the portal user to create a system report\r\nconst getPortalStatistics = async (req, res) => {\r\n    let data = {};\r\n  \r\n    //Get all the user related data.\r\n    \r\n   const userData = await UserModel\r\n   .where({})\r\n   .fetchAll()\r\n   .then(\r\n       (result) => result).catch(e => console.error(e));\r\n    //    console.log(userData);\r\n        data.totalUsers = userData.length;\r\n        data.deactiveUsers=0;\r\n        data.activeUsers=0;\r\n        data.portalUsers = 0;\r\n        data.adminUsers = 0;\r\n        data.mobileUsers = 0;\r\n        userData.models.forEach(user => {\r\n            if(user.attributes.is_deleted){\r\n                data.deactiveUsers+=1;\r\n            }\r\n            if(user.attributes.priority_key == '0'){\r\n                data.mobileUsers+=1;\r\n            }\r\n            else if (user.attributes.priority_key == '3'){\r\n                data.adminUsers +=1;\r\n            }\r\n            else if(user.attributes.priority_key == '10'){\r\n                data.portalUsers+=1;\r\n            }\r\n                \r\n        })\r\n        data.activeUsers = data.totalUsers - data.activeUsers;\r\n    \r\n      //Get online users count.\r\n    \r\n    await DeskUserModel\r\n        .where('is_active', 1)\r\n        .count('id')\r\n        .then(\r\n            (count) => {\r\n                data.usersInQueue = count;\r\n\r\n            }).catch(e => console.error(e));\r\n\r\n             //Get Users that have finished their task .\r\n    await DeskUserModel\r\n    .where('is_finished', 1)\r\n    .count('id')\r\n    .then(\r\n        (count) => {\r\n            data.usersThatFinishedWork = count;\r\n        }\r\n    ).catch(e=> console.error(e))\r\n\r\n    *\r\n    //Get count of given up users.\r\n    \r\n\r\n   await DeskUserModel.where({\r\n    is_active: false,\r\n    is_finished: false,\r\n})\r\n    .count('id')\r\n    .then((count) => {\r\n        data.givenUpUsers = count;\r\n    })\r\n    .catch(e => console.error(e));\r\n\r\n    //Get average times of desks.\r\n    \r\n    await db('desks')\r\n        .select(['desks.id', 'name', 'time'])\r\n        .leftJoin(\r\n            // Get average time for desk.\r\n            db.raw('(SELECT desk_id,  ROUND(AVG(time),0) as time FROM average_time GROUP BY desk_id) as avt'),\r\n            'desks.id',\r\n            'avt.desk_id'\r\n            )\r\n        .where('is_active', 1)\r\n        .orderBy('desks.id')\r\n        .then(\r\n            (result) => {\r\n                data.desks = result;\r\n\r\n            }).catch(e => console.error(e));\r\n            // Get how many deactive desk are there.\r\n            await Desk.where('is_active', 0).count('id').then(count => {\r\n                data.deactiveDesk = count;\r\n            })\r\n            .catch(e => console.error(e));\r\n\r\n    successResp(res, data);\r\n\r\n};\r\n\r\n// This function calculates average time of desks for below time periods.\r\n//1)    Hourly\r\n//2)    Daily\r\n//3)    Weekly\r\n//4)    Monthly\r\n//5)    Yearly\r\nconst calculateAverageTimes = (req, res) => {\r\n    db('desk_user')\r\n        .select(db.raw('desk_id, user_id, EXTRACT(EPOCH FROM (finished_at - created_at ) ) as time, created_at'))\r\n        .where('is_finished', 1)\r\n        .then(\r\n            (result) => {\r\n                \r\n                let hourago = moment().add(-1, 'hours').valueOf();\r\n                let yesterday = moment().add(-1, 'days').valueOf();\r\n                let weekago = moment().add(-1, 'weeks').valueOf();\r\n                let monthago = moment().add(-1, 'months').valueOf();\r\n\r\n                let yearago =moment().add(-1, 'years').valueOf();\r\n\r\n                let data = {\r\n                    hourly: {\r\n                        totalTime: 0,\r\n                        count: 0,\r\n                        averageTime: 0\r\n                    },\r\n                    daily: {\r\n                        totalTime: 0,\r\n                        count: 0,\r\n                        averageTime: 0\r\n                    },\r\n                    weekly: {\r\n                        totalTime: 0,\r\n                        count: 0,\r\n                        averageTime: 0\r\n                    },\r\n                    monthly: {\r\n                        totalTime: 0,\r\n                        count: 0,\r\n                        averageTime: 0\r\n                    },\r\n                    yearly: {\r\n                        totalTime: 0,\r\n                        count: 0,\r\n                        averageTime: 0\r\n                    }\r\n                };\r\n                let users = [];\r\n\r\n\r\n                result.forEach(row => {\r\n                    \r\n                    //Will get time when user joined in queue\r\n\r\n                    let rowTimestamp = new Date(row.created_at).getTime();\r\n\r\n                    let userId = row.user_id;\r\n                    let userTemplate;\r\n                    //Store the data for a particular user\r\n                    userTemplate = {\r\n                        userId: userId,\r\n                        hourly: {\r\n                            totalTime: 0,\r\n                            count: 0,\r\n                            averageTime: 0\r\n                        },\r\n                        daily: {\r\n                            totalTime: 0,\r\n                            count: 0,\r\n                            averageTime: 0\r\n                        },\r\n                        weekly: {\r\n                            totalTime: 0,\r\n                            count: 0,\r\n                            averageTime: 0\r\n                        },\r\n                        monthly: {\r\n                            totalTime: 0,\r\n                            count: 0,\r\n                            averageTime: 0\r\n                        },\r\n                        yearly: {\r\n                            totalTime: 0,\r\n                            count: 0,\r\n                            averageTime: 0\r\n                        }\r\n                    };\r\n\r\n                        // Store time data of all user\r\n                    if (rowTimestamp >= hourago) {\r\n                        data.hourly.totalTime += row.time;\r\n                        data.hourly.count += 1;\r\n                        data.hourly.averageTime = data.hourly.totalTime / data.hourly.count;\r\n\r\n                        userTemplate.hourly.totalTime += row.time;\r\n                        userTemplate.hourly.count += 1;\r\n                        userTemplate.hourly.averageTime = userTemplate.hourly.totalTime / userTemplate.hourly.count;\r\n\r\n                    }\r\n\r\n                    if (rowTimestamp >= yesterday) {\r\n                        data.daily.totalTime += row.time;\r\n                        data.daily.count += 1;\r\n                        data.daily.averageTime = data.daily.totalTime / data.daily.count;\r\n\r\n                        userTemplate.daily.totalTime += row.time;\r\n                        userTemplate.daily.count += 1;\r\n                        userTemplate.daily.averageTime = userTemplate.daily.totalTime / userTemplate.daily.count;\r\n                    }\r\n\r\n                    if (rowTimestamp >= weekago) {\r\n                        data.weekly.totalTime += row.time;\r\n                        data.weekly.count += 1;\r\n                        data.weekly.averageTime = data.weekly.totalTime / data.weekly.count;\r\n\r\n                        userTemplate.weekly.totalTime += row.time;\r\n                        userTemplate.weekly.count += 1;\r\n                        userTemplate.weekly.averageTime = userTemplate.weekly.totalTime / userTemplate.weekly.count;\r\n                    }\r\n\r\n                    if (rowTimestamp >= monthago) {\r\n                        data.monthly.totalTime += row.time;\r\n                        data.monthly.count += 1;\r\n                        data.monthly.averageTime = data.monthly.totalTime / data.monthly.count;\r\n\r\n                        userTemplate.monthly.totalTime += row.time;\r\n                        userTemplate.monthly.count += 1;\r\n                        userTemplate.monthly.averageTime = userTemplate.monthly.totalTime / userTemplate.monthly.count;\r\n                    }\r\n\r\n                    if (rowTimestamp >= yearago) {\r\n                        data.yearly.totalTime += row.time;\r\n                        data.yearly.count += 1;\r\n                        data.yearly.averageTime = data.yearly.totalTime / data.yearly.count;\r\n\r\n                        userTemplate.yearly.totalTime += row.time;\r\n                        userTemplate.yearly.count += 1;\r\n                        userTemplate.yearly.averageTime = userTemplate.yearly.totalTime / userTemplate.yearly.count;\r\n                    }\r\n                    // users.push({userId})\r\n                    // req.users = users;\r\n                    users = addToUsers(users, userTemplate);\r\n                });\r\n                // console.log(req.users);\r\n\r\n                successResp(res, {desks: data, users});\r\n\r\n            })\r\n        .catch(err => errorResp(res, err));\r\n\r\n};\r\n\r\n//This function check if user inside the array then calculate and update user statistics else add user\r\nconst addToUsers = (users, user) => {\r\n    let isAdded = false;\r\n    users.forEach((_user, index) => {\r\n        if (_user.userId === user.userId) {\r\n            isAdded = true;\r\n\r\n            users[index].hourly.count += user.hourly.count;\r\n            users[index].hourly.totalTime += user.hourly.totalTime;\r\n            users[index].hourly.averageTime = users[index].hourly.totalTime / users[index].hourly.count;\r\n\r\n            users[index].daily.count += user.daily.count;\r\n            users[index].daily.totalTime += user.daily.totalTime;\r\n            users[index].daily.averageTime = users[index].daily.totalTime / users[index].daily.count;\r\n\r\n\r\n            users[index].weekly.count += user.weekly.count;\r\n            users[index].weekly.totalTime += user.weekly.totalTime;\r\n            users[index].weekly.averageTime = users[index].weekly.totalTime / users[index].weekly.count;\r\n\r\n\r\n            users[index].monthly.count += user.monthly.count;\r\n            users[index].monthly.totalTime += user.monthly.totalTime;\r\n            users[index].monthly.averageTime = users[index].monthly.totalTime / users[index].monthly.count;\r\n\r\n            users[index].yearly.count += user.yearly.count;\r\n            users[index].yearly.totalTime += user.yearly.totalTime;\r\n            users[index].yearly.averageTime = users[index].yearly.totalTime / users[index].yearly.count;\r\n\r\n        }\r\n    });\r\n\r\n    if (!isAdded) {\r\n        users.push(user);\r\n    }\r\n\r\n    return users;\r\n\r\n};\r\n\r\nconst router = express.Router();\r\n\r\nrouter.route('/getStatistics').get(getStatistics);\r\nrouter.route('/getUserStatisticsByNationID/:nationID').get(getUserStatisticsByNationID);\r\nrouter.route('/getPortalStatistics').get(getPortalStatistics);\r\nrouter.route('/calculateAverageTimes').get(calculateAverageTimes);\r\n\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609259650651
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\auth.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\auth.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\auth.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nvar _config = _interopRequireDefault(require(\"config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Utils\n// Config\n// Function that checks the token before give priviledges to the user\nconst {\n  auth\n} = _config.default;\n\nconst authorize = (req, res, next) => {\n  const {\n    authentication,\n    Authentication\n  } = req.headers;\n  const token = authentication || Authentication;\n\n  if (!token) {\n    (0, _http_util.errorResp)(res, new Error('Unauthorized'), 401);\n    return;\n  }\n\n  _jsonwebtoken.default.verify(token, auth.secret, (err, decoded) => {\n    if (err || !decoded) {\n      console.error(err);\n      (0, _http_util.errorResp)(res, new Error('Unauthorized'), 401);\n      return;\n    }\n\n    req.userData = decoded;\n    next();\n  });\n};\n\nconst router = _express.default.Router();\n\nrouter.use('/', authorize);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiYXV0aCIsImNvbmZpZyIsImF1dGhvcml6ZSIsInJlcSIsInJlcyIsIm5leHQiLCJhdXRoZW50aWNhdGlvbiIsIkF1dGhlbnRpY2F0aW9uIiwiaGVhZGVycyIsInRva2VuIiwiRXJyb3IiLCJqd3QiLCJ2ZXJpZnkiLCJzZWNyZXQiLCJlcnIiLCJkZWNvZGVkIiwiY29uc29sZSIsImVycm9yIiwidXNlckRhdGEiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUE7O0FBRUE7Ozs7QUFIQTtBQUVBO0FBR0E7QUFFQSxNQUFNO0FBQUNBLEVBQUFBO0FBQUQsSUFBU0MsZUFBZjs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDbEMsUUFBTTtBQUFDQyxJQUFBQSxjQUFEO0FBQWlCQyxJQUFBQTtBQUFqQixNQUFtQ0osR0FBRyxDQUFDSyxPQUE3QztBQUNBLFFBQU1DLEtBQUssR0FBR0gsY0FBYyxJQUFJQyxjQUFoQzs7QUFFQSxNQUFJLENBQUNFLEtBQUwsRUFBWTtBQUNSLDhCQUFVTCxHQUFWLEVBQWUsSUFBSU0sS0FBSixDQUFVLGNBQVYsQ0FBZixFQUEwQyxHQUExQztBQUNBO0FBQ0g7O0FBRURDLHdCQUFJQyxNQUFKLENBQVdILEtBQVgsRUFBa0JULElBQUksQ0FBQ2EsTUFBdkIsRUFBK0IsQ0FBQ0MsR0FBRCxFQUFNQyxPQUFOLEtBQWtCO0FBQzdDLFFBQUlELEdBQUcsSUFBSSxDQUFDQyxPQUFaLEVBQXFCO0FBQ2pCQyxNQUFBQSxPQUFPLENBQUNDLEtBQVIsQ0FBY0gsR0FBZDtBQUNBLGdDQUFVVixHQUFWLEVBQWUsSUFBSU0sS0FBSixDQUFVLGNBQVYsQ0FBZixFQUEwQyxHQUExQztBQUNBO0FBQ0g7O0FBQ0RQLElBQUFBLEdBQUcsQ0FBQ2UsUUFBSixHQUFlSCxPQUFmO0FBQ0FWLElBQUFBLElBQUk7QUFDUCxHQVJEO0FBU0gsQ0FsQkQ7O0FBb0JBLE1BQU1jLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQnBCLFNBQWhCO2VBQ2VpQixNIiwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcVG9yb0JhYmFcXERlc2t0b3BcXFNlbmlvclByb2plY3RcXFdlYlNlcnZpY2VcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcbi8vIFV0aWxzXHJcbmltcG9ydCB7ZXJyb3JSZXNwfSBmcm9tICcuLi91dGlsL2h0dHBfdXRpbCc7XHJcbi8vIENvbmZpZ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XHJcblxyXG4vLyBGdW5jdGlvbiB0aGF0IGNoZWNrcyB0aGUgdG9rZW4gYmVmb3JlIGdpdmUgcHJpdmlsZWRnZXMgdG8gdGhlIHVzZXJcclxuXHJcbmNvbnN0IHthdXRofSA9IGNvbmZpZztcclxuY29uc3QgYXV0aG9yaXplID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBjb25zdCB7YXV0aGVudGljYXRpb24sIEF1dGhlbnRpY2F0aW9ufSA9IHJlcS5oZWFkZXJzO1xyXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoZW50aWNhdGlvbiB8fCBBdXRoZW50aWNhdGlvbjtcclxuXHJcbiAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKSwgNDAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgand0LnZlcmlmeSh0b2tlbiwgYXV0aC5zZWNyZXQsIChlcnIsIGRlY29kZWQpID0+IHtcclxuICAgICAgICBpZiAoZXJyIHx8ICFkZWNvZGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKSwgNDAxKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXEudXNlckRhdGEgPSBkZWNvZGVkO1xyXG4gICAgICAgIG5leHQoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxucm91dGVyLnVzZSgnLycsIGF1dGhvcml6ZSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "auth",
        "config",
        "authorize",
        "req",
        "res",
        "next",
        "authentication",
        "Authentication",
        "headers",
        "token",
        "Error",
        "jwt",
        "verify",
        "secret",
        "err",
        "decoded",
        "console",
        "error",
        "userData",
        "router",
        "express",
        "Router",
        "use"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AAEA;;AAEA;;;;AAHA;AAEA;AAGA;AAEA,MAAM;AAACA,EAAAA;AAAD,IAASC,eAAf;;AACA,MAAMC,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClC,QAAM;AAACC,IAAAA,cAAD;AAAiBC,IAAAA;AAAjB,MAAmCJ,GAAG,CAACK,OAA7C;AACA,QAAMC,KAAK,GAAGH,cAAc,IAAIC,cAAhC;;AAEA,MAAI,CAACE,KAAL,EAAY;AACR,8BAAUL,GAAV,EAAe,IAAIM,KAAJ,CAAU,cAAV,CAAf,EAA0C,GAA1C;AACA;AACH;;AAEDC,wBAAIC,MAAJ,CAAWH,KAAX,EAAkBT,IAAI,CAACa,MAAvB,EAA+B,CAACC,GAAD,EAAMC,OAAN,KAAkB;AAC7C,QAAID,GAAG,IAAI,CAACC,OAAZ,EAAqB;AACjBC,MAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACA,gCAAUV,GAAV,EAAe,IAAIM,KAAJ,CAAU,cAAV,CAAf,EAA0C,GAA1C;AACA;AACH;;AACDP,IAAAA,GAAG,CAACe,QAAJ,GAAeH,OAAf;AACAV,IAAAA,IAAI;AACP,GARD;AASH,CAlBD;;AAoBA,MAAMc,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBpB,SAAhB;eACeiB,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "sourcesContent": [
        "import express from 'express';\r\nimport jwt from 'jsonwebtoken';\r\n// Utils\r\nimport {errorResp} from '../util/http_util';\r\n// Config\r\nimport config from 'config';\r\n\r\n// Function that checks the token before give priviledges to the user\r\n\r\nconst {auth} = config;\r\nconst authorize = (req, res, next) => {\r\n    const {authentication, Authentication} = req.headers;\r\n    const token = authentication || Authentication;\r\n\r\n    if (!token) {\r\n        errorResp(res, new Error('Unauthorized'), 401);\r\n        return;\r\n    }\r\n\r\n    jwt.verify(token, auth.secret, (err, decoded) => {\r\n        if (err || !decoded) {\r\n            console.error(err);\r\n            errorResp(res, new Error('Unauthorized'), 401);\r\n            return;\r\n        }\r\n        req.userData = decoded;\r\n        next();\r\n    });\r\n};\r\n\r\nconst router = express.Router();\r\nrouter.use('/', authorize);\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609258281033
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\admin.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\admin.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\admin.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\admin.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
        "sourceFileName": "admin.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Utils\n// Function that checks the authorization number of user \n// before give priviledges.\nconst authorize = (req, res, next) => {\n  const {\n    utype\n  } = req.userData;\n\n  if (Number(utype) !== 3) {\n    (0, _http_util.errorResp)(res, new Error('Unauthorized Admin User'), 401);\n    return;\n  }\n\n  next();\n};\n\nconst router = _express.default.Router();\n\nrouter.use('/', authorize);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkbWluLmpzIl0sIm5hbWVzIjpbImF1dGhvcml6ZSIsInJlcSIsInJlcyIsIm5leHQiLCJ1dHlwZSIsInVzZXJEYXRhIiwiTnVtYmVyIiwiRXJyb3IiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFEQTtBQUlBO0FBQ0E7QUFHQSxNQUFNQSxTQUFTLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDbEMsUUFBTTtBQUFDQyxJQUFBQTtBQUFELE1BQVVILEdBQUcsQ0FBQ0ksUUFBcEI7O0FBQ0EsTUFBSUMsTUFBTSxDQUFDRixLQUFELENBQU4sS0FBa0IsQ0FBdEIsRUFBeUI7QUFDckIsOEJBQVVGLEdBQVYsRUFBZSxJQUFJSyxLQUFKLENBQVUseUJBQVYsQ0FBZixFQUFxRCxHQUFyRDtBQUNBO0FBQ0g7O0FBQ0RKLEVBQUFBLElBQUk7QUFDUCxDQVBEOztBQVNBLE1BQU1LLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQlgsU0FBaEI7ZUFDZVEsTSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuLy8gVXRpbHNcclxuaW1wb3J0IHtlcnJvclJlc3B9IGZyb20gJy4uL3V0aWwvaHR0cF91dGlsJztcclxuXHJcblxyXG4vLyBGdW5jdGlvbiB0aGF0IGNoZWNrcyB0aGUgYXV0aG9yaXphdGlvbiBudW1iZXIgb2YgdXNlciBcclxuLy8gYmVmb3JlIGdpdmUgcHJpdmlsZWRnZXMuXHJcblxyXG5cclxuY29uc3QgYXV0aG9yaXplID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBjb25zdCB7dXR5cGV9ID0gcmVxLnVzZXJEYXRhO1xyXG4gICAgaWYgKE51bWJlcih1dHlwZSkgIT09IDMpIHtcclxuICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBBZG1pbiBVc2VyJyksIDQwMSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbmV4dCgpO1xyXG59O1xyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxucm91dGVyLnVzZSgnLycsIGF1dGhvcml6ZSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "admin.js"
      ],
      "names": [
        "authorize",
        "req",
        "res",
        "next",
        "utype",
        "userData",
        "Number",
        "Error",
        "router",
        "express",
        "Router",
        "use"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;;;AADA;AAIA;AACA;AAGA,MAAMA,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClC,QAAM;AAACC,IAAAA;AAAD,MAAUH,GAAG,CAACI,QAApB;;AACA,MAAIC,MAAM,CAACF,KAAD,CAAN,KAAkB,CAAtB,EAAyB;AACrB,8BAAUF,GAAV,EAAe,IAAIK,KAAJ,CAAU,yBAAV,CAAf,EAAqD,GAArD;AACA;AACH;;AACDJ,EAAAA,IAAI;AACP,CAPD;;AASA,MAAMK,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBX,SAAhB;eACeQ,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "sourcesContent": [
        "import express from 'express';\r\n// Utils\r\nimport {errorResp} from '../util/http_util';\r\n\r\n\r\n// Function that checks the authorization number of user \r\n// before give priviledges.\r\n\r\n\r\nconst authorize = (req, res, next) => {\r\n    const {utype} = req.userData;\r\n    if (Number(utype) !== 3) {\r\n        errorResp(res, new Error('Unauthorized Admin User'), 401);\r\n        return;\r\n    }\r\n    next();\r\n};\r\n\r\nconst router = express.Router();\r\nrouter.use('/', authorize);\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609258281615
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\portal_user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\portal_user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\portal_user.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\portal_user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
        "sourceFileName": "portal_user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Utils\n// Function that checks the authorization number of user \n// before give priviledges.\nconst authorize = (req, res, next) => {\n  const {\n    utype\n  } = req.userData;\n\n  if (Number(utype) !== 10) {\n    (0, _http_util.errorResp)(res, new Error('Unauthorized Portal User'), 401);\n    return;\n  }\n\n  next();\n};\n\nconst router = _express.default.Router();\n\nrouter.use('/', authorize);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvcnRhbF91c2VyLmpzIl0sIm5hbWVzIjpbImF1dGhvcml6ZSIsInJlcSIsInJlcyIsIm5leHQiLCJ1dHlwZSIsInVzZXJEYXRhIiwiTnVtYmVyIiwiRXJyb3IiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFEQTtBQUdBO0FBQ0E7QUFJQSxNQUFNQSxTQUFTLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDbEMsUUFBTTtBQUFDQyxJQUFBQTtBQUFELE1BQVVILEdBQUcsQ0FBQ0ksUUFBcEI7O0FBQ0EsTUFBSUMsTUFBTSxDQUFDRixLQUFELENBQU4sS0FBa0IsRUFBdEIsRUFBMEI7QUFDdEIsOEJBQVVGLEdBQVYsRUFBZSxJQUFJSyxLQUFKLENBQVUsMEJBQVYsQ0FBZixFQUFzRCxHQUF0RDtBQUNBO0FBQ0g7O0FBQ0RKLEVBQUFBLElBQUk7QUFDUCxDQVBEOztBQVNBLE1BQU1LLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQlgsU0FBaEI7ZUFDZVEsTSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuLy8gVXRpbHNcclxuaW1wb3J0IHtlcnJvclJlc3B9IGZyb20gJy4uL3V0aWwvaHR0cF91dGlsJztcclxuXHJcbi8vIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIHRoZSBhdXRob3JpemF0aW9uIG51bWJlciBvZiB1c2VyIFxyXG4vLyBiZWZvcmUgZ2l2ZSBwcml2aWxlZGdlcy5cclxuXHJcblxyXG5cclxuY29uc3QgYXV0aG9yaXplID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBjb25zdCB7dXR5cGV9ID0gcmVxLnVzZXJEYXRhO1xyXG4gICAgaWYgKE51bWJlcih1dHlwZSkgIT09IDEwKSB7XHJcbiAgICAgICAgZXJyb3JSZXNwKHJlcywgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQgUG9ydGFsIFVzZXInKSwgNDAxKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBuZXh0KCk7XHJcbn07XHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5yb3V0ZXIudXNlKCcvJywgYXV0aG9yaXplKTtcclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xyXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "portal_user.js"
      ],
      "names": [
        "authorize",
        "req",
        "res",
        "next",
        "utype",
        "userData",
        "Number",
        "Error",
        "router",
        "express",
        "Router",
        "use"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;;;AADA;AAGA;AACA;AAIA,MAAMA,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClC,QAAM;AAACC,IAAAA;AAAD,MAAUH,GAAG,CAACI,QAApB;;AACA,MAAIC,MAAM,CAACF,KAAD,CAAN,KAAkB,EAAtB,EAA0B;AACtB,8BAAUF,GAAV,EAAe,IAAIK,KAAJ,CAAU,0BAAV,CAAf,EAAsD,GAAtD;AACA;AACH;;AACDJ,EAAAA,IAAI;AACP,CAPD;;AASA,MAAMK,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBX,SAAhB;eACeQ,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "sourcesContent": [
        "import express from 'express';\r\n// Utils\r\nimport {errorResp} from '../util/http_util';\r\n\r\n// Function that checks the authorization number of user \r\n// before give priviledges.\r\n\r\n\r\n\r\nconst authorize = (req, res, next) => {\r\n    const {utype} = req.userData;\r\n    if (Number(utype) !== 10) {\r\n        errorResp(res, new Error('Unauthorized Portal User'), 401);\r\n        return;\r\n    }\r\n    next();\r\n};\r\n\r\nconst router = express.Router();\r\nrouter.use('/', authorize);\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609258279670
  },
  "{\"sourceRoot\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"filename\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\\\\middleware\\\\mobile_user.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\ToroBaba\\\\Desktop\\\\SeniorProject\\\\WebService\",\"plugins\":[{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.10": {
    "metadata": {},
    "options": {
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\mobile_user.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\mobile_user.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "objectRestSpread",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\mobile_user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
        "sourceFileName": "mobile_user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http_util = require(\"../util/http_util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Utils\n// Function that checks the authorization number of user \n// before give priviledges.\nconst authorize = (req, res, next) => {\n  const {\n    utype\n  } = req.userData;\n\n  if (Number(utype) !== 0) {\n    (0, _http_util.errorResp)(res, new Error('Unauthorized Mobile User'), 401);\n    return;\n  }\n\n  next();\n};\n\nconst router = _express.default.Router();\n\nrouter.use('/', authorize);\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vYmlsZV91c2VyLmpzIl0sIm5hbWVzIjpbImF1dGhvcml6ZSIsInJlcSIsInJlcyIsIm5leHQiLCJ1dHlwZSIsInVzZXJEYXRhIiwiTnVtYmVyIiwiRXJyb3IiLCJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwidXNlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRUE7Ozs7QUFEQTtBQUdBO0FBQ0E7QUFJQSxNQUFNQSxTQUFTLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLElBQVgsS0FBb0I7QUFDbEMsUUFBTTtBQUFDQyxJQUFBQTtBQUFELE1BQVVILEdBQUcsQ0FBQ0ksUUFBcEI7O0FBQ0EsTUFBSUMsTUFBTSxDQUFDRixLQUFELENBQU4sS0FBa0IsQ0FBdEIsRUFBeUI7QUFDckIsOEJBQVVGLEdBQVYsRUFBZSxJQUFJSyxLQUFKLENBQVUsMEJBQVYsQ0FBZixFQUFzRCxHQUF0RDtBQUNBO0FBQ0g7O0FBQ0RKLEVBQUFBLElBQUk7QUFDUCxDQVBEOztBQVNBLE1BQU1LLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZjs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQlgsU0FBaEI7ZUFDZVEsTSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFRvcm9CYWJhXFxEZXNrdG9wXFxTZW5pb3JQcm9qZWN0XFxXZWJTZXJ2aWNlXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuLy8gVXRpbHNcclxuaW1wb3J0IHtlcnJvclJlc3B9IGZyb20gJy4uL3V0aWwvaHR0cF91dGlsJztcclxuXHJcbi8vIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIHRoZSBhdXRob3JpemF0aW9uIG51bWJlciBvZiB1c2VyIFxyXG4vLyBiZWZvcmUgZ2l2ZSBwcml2aWxlZGdlcy5cclxuXHJcblxyXG5cclxuY29uc3QgYXV0aG9yaXplID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICBjb25zdCB7dXR5cGV9ID0gcmVxLnVzZXJEYXRhO1xyXG4gICAgaWYgKE51bWJlcih1dHlwZSkgIT09IDApIHtcclxuICAgICAgICBlcnJvclJlc3AocmVzLCBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBNb2JpbGUgVXNlcicpLCA0MDEpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIG5leHQoKTtcclxufTtcclxuXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbnJvdXRlci51c2UoJy8nLCBhdXRob3JpemUpO1xyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "mobile_user.js"
      ],
      "names": [
        "authorize",
        "req",
        "res",
        "next",
        "utype",
        "userData",
        "Number",
        "Error",
        "router",
        "express",
        "Router",
        "use"
      ],
      "mappings": ";;;;;;;AAAA;;AAEA;;;;AADA;AAGA;AACA;AAIA,MAAMA,SAAS,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAClC,QAAM;AAACC,IAAAA;AAAD,MAAUH,GAAG,CAACI,QAApB;;AACA,MAAIC,MAAM,CAACF,KAAD,CAAN,KAAkB,CAAtB,EAAyB;AACrB,8BAAUF,GAAV,EAAe,IAAIK,KAAJ,CAAU,0BAAV,CAAf,EAAsD,GAAtD;AACA;AACH;;AACDJ,EAAAA,IAAI;AACP,CAPD;;AASA,MAAMK,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AACAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgBX,SAAhB;eACeQ,M",
      "sourceRoot": "C:\\Users\\ToroBaba\\Desktop\\SeniorProject\\WebService\\middleware\\",
      "sourcesContent": [
        "import express from 'express';\r\n// Utils\r\nimport {errorResp} from '../util/http_util';\r\n\r\n// Function that checks the authorization number of user \r\n// before give priviledges.\r\n\r\n\r\n\r\nconst authorize = (req, res, next) => {\r\n    const {utype} = req.userData;\r\n    if (Number(utype) !== 0) {\r\n        errorResp(res, new Error('Unauthorized Mobile User'), 401);\r\n        return;\r\n    }\r\n    next();\r\n};\r\n\r\nconst router = express.Router();\r\nrouter.use('/', authorize);\r\nexport default router;\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1609258280306
  }
}